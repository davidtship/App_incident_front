import{r as a,u as _,c as ye,j as I,a as F}from"./index-DjLJklN1.js";import{g as he,a as xe,s as G,m as j,r as J,c as T,d as B,e as W,u as Ce}from"./Box-Ceze8w59.js";import{P as be,u as we}from"./Grid2-C7BmHvXf.js";import{a as Se}from"./Select-CmYIInra.js";import{S as Pe}from"./Slide-8maU3OBq.js";import{c as z}from"./List-BYtwvu4r.js";import{l as L,g as Ie}from"./listItemButtonClasses-BpIEGUge.js";import{d as De,u as Re}from"./Button-7Ql2xwQA.js";import{u as U,g as V,p as Ae,d as ke,a as H}from"./globalFetcher-C7D8vgEe.js";const Qe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Ze(e,t=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,o))}function $e(e){return he("MuiDrawer",e)}xe("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Q=(e,t)=>{const{ownerState:o}=e;return[t.root,(o.variant==="permanent"||o.variant==="persistent")&&t.docked,t.modal]},Be=e=>{const{classes:t,anchor:o,variant:n}=e,d={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${T(o)}`,n!=="temporary"&&`paperAnchorDocked${T(o)}`]};return W(d,$e,t)},Ne=G(Se,{name:"MuiDrawer",slot:"Root",overridesResolver:Q})(j(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),q=G("div",{shouldForwardProp:J,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Q})({flex:"0 0 auto"}),Ee=G(be,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`paperAnchor${T(o.anchor)}`],o.variant!=="temporary"&&t[`paperAnchorDocked${T(o.anchor)}`]]}})(j(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),Z={left:"right",right:"left",top:"down",bottom:"up"};function Le(e){return["left","right"].includes(e)}function Me({direction:e},t){return e==="rtl"&&Le(t)?Z[t]:t}const Xe=a.forwardRef(function(t,o){const n=_({props:t,name:"MuiDrawer"}),d=we(),m=ye(),f={enter:d.transitions.duration.enteringScreen,exit:d.transitions.duration.leavingScreen},{anchor:v="left",BackdropProps:y,children:c,className:h,elevation:b=16,hideBackdrop:D=!1,ModalProps:{BackdropProps:R,...u}={},onClose:k,open:i=!1,PaperProps:w={},SlideProps:A,TransitionComponent:g=Pe,transitionDuration:S=f,variant:P="temporary",...x}=n,$=a.useRef(!1);a.useEffect(()=>{$.current=!0},[]);const N=Me({direction:m?"rtl":"ltr"},v),C={...n,anchor:v,elevation:b,open:i,variant:P,...x},p=Be(C),M=I.jsx(Ee,{elevation:P==="temporary"?b:0,square:!0,...w,className:B(p.paper,w.className),ownerState:C,children:c});if(P==="permanent")return I.jsx(q,{className:B(p.root,p.docked,h),ownerState:C,ref:o,...x,children:M});const O=I.jsx(g,{in:i,direction:Z[N],timeout:S,appear:$.current,...A,children:M});return P==="persistent"?I.jsx(q,{className:B(p.root,p.docked,h),ownerState:C,ref:o,...x,children:O}):I.jsx(Ne,{BackdropProps:{...y,...R,transitionDuration:S},className:B(p.root,p.modal,h),open:i,ownerState:C,onClose:k,hideBackdrop:D,ref:o,...x,...u,children:O})}),Oe=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.alignItems==="flex-start"&&t.alignItemsFlexStart,o.divider&&t.divider,!o.disableGutters&&t.gutters]},Fe=e=>{const{alignItems:t,classes:o,dense:n,disabled:d,disableGutters:m,divider:f,selected:v}=e,c=W({root:["root",n&&"dense",!m&&"gutters",f&&"divider",d&&"disabled",t==="flex-start"&&"alignItemsFlexStart",v&&"selected"]},Ie,o);return{...o,...c}},Te=G(De,{shouldForwardProp:e=>J(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Oe})(j(({theme:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${L.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:F(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${L.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:F(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${L.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:F(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:F(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${L.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${L.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.dense,style:{paddingTop:4,paddingBottom:4}}]}))),Ye=a.forwardRef(function(t,o){const n=_({props:t,name:"MuiListItemButton"}),{alignItems:d="center",autoFocus:m=!1,component:f="div",children:v,dense:y=!1,disableGutters:c=!1,divider:h=!1,focusVisibleClassName:b,selected:D=!1,className:R,...u}=n,k=a.useContext(z),i=a.useMemo(()=>({dense:y||k.dense||!1,alignItems:d,disableGutters:c}),[d,k.dense,y,c]),w=a.useRef(null);Re(()=>{m&&w.current&&w.current.focus()},[m]);const A={...n,alignItems:d,dense:i.dense,disableGutters:c,divider:h,selected:D},g=Fe(A),S=Ce(w,o);return I.jsx(z.Provider,{value:i,children:I.jsx(Te,{ref:S,href:u.href||u.to,component:(u.href||u.to)&&f==="div"?"button":f,focusVisibleClassName:B(g.focusVisible,b),ownerState:A,className:B(g.root,R),...u,classes:g,children:v})})}),Ge=a.createContext({}),Ke=({children:e})=>{const[t,o]=a.useState([]),[n,d]=a.useState(""),[m,f]=a.useState("All"),[v,y]=a.useState("newest"),[c,h]=a.useState("All"),[b,D]=a.useState("All"),[R,u]=a.useState("All"),[k,i]=a.useState(!0),[w,A]=a.useState(null),[g,S]=a.useState(()=>{if(typeof window<"u"){const r=localStorage.getItem("cartItems");return r?JSON.parse(r):[]}else return[]}),{data:P,isLoading:x,error:$}=U("/api/data/eCommerce/ProductsData",V);a.useEffect(()=>{P?(o(P.data),i(x)):($&&A($),i(x))},[P,$,x]);const{data:N,isLoading:E,error:C,mutate:p}=U("/api/eCommerce/carts",V);a.useEffect(()=>{N?(S(N.data),i(E)):(C&&A(C),i(E))},[N,C,E]),a.useEffect(()=>{g&&localStorage.setItem("cartItems",JSON.stringify(g))},[g]),a.useEffect(()=>{const r=localStorage.getItem("cartItems");r&&S(JSON.parse(r))},[]);const M=r=>{const s=r.title.toLowerCase().includes(n.toLowerCase()),l=m==="All"||r.category.includes(m),fe=c==="All"||c==="0-50"&&r.price<=50||c==="50-100"&&r.price>50&&r.price<=100||c==="100-200"&&r.price>100&&r.price<=200||c==="200-99999"&&r.price>200,ge=b==="All"||r.gender===b,ve=R==="All"||r.colors.includes(R);return s&&l&&fe&&ge&&ve},O=r=>{switch(v){case"newest":return r.sort((s,l)=>new Date(l.created).getTime()-new Date(s.created).getTime());case"priceDesc":return r.sort((s,l)=>l.price-s.price);case"priceAsc":return r.sort((s,l)=>s.price-l.price);case"discount":return r.sort((s,l)=>(l.discount||0)-(s.discount||0));default:return r}},X=r=>t.find(l=>l.id===Number(r)),Y=t.filter(M),K=O(Y),ee=r=>f(r),te=r=>y(r),re=r=>h(r),oe=r=>D(r),ae=r=>u(r),se=r=>d(r),ne=async r=>{try{await p(Ae("/api/data/eCommerce/add",{productId:r}))}catch(s){console.error("Error adding product to cart:",s)}},ce=async r=>{await p(ke("/api/eCommerce/remove-item-carts",{id:r,action:"Increment"}))},ie=async r=>{await p(H("/api/eCommerce/carts/increment-decrementqty",{id:r,action:"Increment"}))},le=async r=>{await p(H("/api/eCommerce/carts/increment-decrementqty",{id:r,action:"Decrement"}))},de=r=>{o(t.filter(s=>s.id!==r))},pe=()=>{o([])},ue=(r,s)=>{o(t.map(l=>l.id===Number(r)?s:l))},me=()=>{f("All"),u("All"),D("All"),h("All"),y("newest")};return I.jsx(Ge.Provider,{value:{products:t,searchProduct:n,selectedCategory:m,sortBy:v,priceRange:c,selectedGender:b,selectedColor:R,loading:k,error:w,cartItems:g,setProducts:o,setSearchProduct:d,setSelectedCategory:f,setSortBy:y,setPriceRange:h,setSelectedGender:D,setSelectedColor:u,setLoading:i,setCartItems:S,deleteProduct:de,searchProducts:se,updateSortBy:te,updatePriceRange:re,selectCategory:ee,selectGender:oe,selectColor:ae,incrementQuantity:ie,decrementQuantity:le,removeFromCart:ce,addToCart:ne,deleteAllProducts:pe,filteredAndSortedProducts:K,filterReset:me,getProductById:X,updateProduct:ue},children:e})},et="/assets/empty-shopping-cart-CHZGqwZ9.svg";export{Xe as D,Ye as L,Ge as P,Ke as a,Ze as c,et as e,Qe as v};
