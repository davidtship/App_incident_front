import{j as e,r as H,f as A}from"./index-B6sDybhi.js";import{C as o}from"./CustomTextField-x3HjZ-Ln.js";import{C as i}from"./CustomFormLabel-IWlY8fjR.js";import{s as M,B as l,T as h}from"./Box-DPWK2j67.js";import{B as g}from"./Button-BJlF4RCP.js";import{S as v}from"./Stack-C073BZ3A.js";import{A as p}from"./Avatar-ByhSydLD.js";import{D as W}from"./Divider-BpUiWfXp.js";const u="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M27.9851%2014.2618C27.9851%2013.1146%2027.8899%2012.2775%2027.6837%2011.4094H14.2788V16.5871H22.1472C21.9886%2017.8738%2021.132%2019.8116%2019.2283%2021.1137L19.2016%2021.287L23.44%2024.4956L23.7336%2024.5242C26.4304%2022.0904%2027.9851%2018.5093%2027.9851%2014.2618Z'%20fill='%234285F4'/%3e%3cpath%20d='M14.279%2027.904C18.1338%2027.904%2021.37%2026.6637%2023.7338%2024.5245L19.2285%2021.114C18.0228%2021.9356%2016.4047%2022.5092%2014.279%2022.5092C10.5034%2022.5092%207.29894%2020.0754%206.15663%2016.7114L5.9892%2016.7253L1.58205%2020.0583L1.52441%2020.2149C3.87224%2024.7725%208.69486%2027.904%2014.279%2027.904Z'%20fill='%2334A853'/%3e%3cpath%20d='M6.15656%2016.7113C5.85516%2015.8432%205.68072%2014.913%205.68072%2013.9519C5.68072%2012.9907%205.85516%2012.0606%206.14071%2011.1925L6.13272%2011.0076L1.67035%207.62109L1.52435%207.68896C0.556704%209.58024%200.00146484%2011.7041%200.00146484%2013.9519C0.00146484%2016.1997%200.556704%2018.3234%201.52435%2020.2147L6.15656%2016.7113Z'%20fill='%23FBBC05'/%3e%3cpath%20d='M14.279%205.3947C16.9599%205.3947%2018.7683%206.52635%2019.7995%207.47204L23.8289%203.6275C21.3542%201.37969%2018.1338%200%2014.279%200C8.69485%200%203.87223%203.1314%201.52441%207.68899L6.14077%2011.1925C7.29893%207.82856%2010.5034%205.3947%2014.279%205.3947Z'%20fill='%23EB4335'/%3e%3c/svg%3e",x="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='800'%20width='1200'%20viewBox='-204.79995%20-341.33325%201774.9329%202047.9995'%3e%3cpath%20d='M1365.333%20682.667C1365.333%20305.64%201059.693%200%20682.667%200%20305.64%200%200%20305.64%200%20682.667c0%20340.738%20249.641%20623.16%20576%20674.373V880H402.667V682.667H576v-150.4c0-171.094%20101.917-265.6%20257.853-265.6%2074.69%200%20152.814%2013.333%20152.814%2013.333v168h-86.083c-84.804%200-111.25%2052.623-111.25%20106.61v128.057h189.333L948.4%20880H789.333v477.04c326.359-51.213%20576-333.635%20576-674.373'%20fill='%231877f2'/%3e%3cpath%20d='M948.4%20880l30.267-197.333H789.333V554.609C789.333%20500.623%20815.78%20448%20900.584%20448h86.083V280s-78.124-13.333-152.814-13.333c-155.936%200-257.853%2094.506-257.853%20265.6v150.4H402.667V880H576v477.04a687.805%20687.805%200%2000106.667%208.293c36.288%200%2071.91-2.84%20106.666-8.293V880H948.4'%20fill='%23fff'/%3e%3c/svg%3e",f=M(t=>e.jsx(g,{variant:"outlined",size:"large",color:"inherit",...t}))(({theme:t})=>({border:`1px solid ${t.palette.divider}`,"&:hover":{color:t.palette.primary.main}})),V=({title:t})=>e.jsx(e.Fragment,{children:e.jsxs(v,{direction:"row",justifyContent:"center",spacing:2,mt:3,children:[e.jsxs(f,{children:[e.jsx(p,{src:u,alt:u,sx:{width:16,height:16,borderRadius:0,mr:1}}),e.jsxs(l,{sx:{display:{xs:"none",sm:"flex"},whiteSpace:"nowrap",mr:{sm:"3px"}},children:[t," "]})," ","Google"]}),e.jsxs(f,{children:[e.jsx(p,{src:x,alt:x,sx:{width:25,height:25,borderRadius:0,mr:1}}),e.jsxs(l,{sx:{display:{xs:"none",sm:"flex"},whiteSpace:"nowrap",mr:{sm:"3px"}},children:[t," "]})," ","FB"]})]})}),O=({title:t,subtitle:C,subtext:w})=>{const[s,j]=H.useState({first_name:"",last_name:"",email:"",password:"",passwordConfirm:""}),y=A(),r=a=>{j({...s,[a.target.id]:a.target.value})},L=a=>/^(?=.*[A-Za-z])(?=.*\d).{8,}$/.test(a),S=async a=>{a.preventDefault();const{first_name:c,last_name:F,email:B,password:d,passwordConfirm:b}=s;if(d!==b)return alert("Les mots de passe ne correspondent pas.");if(!L(d))return alert("Le mot de passe doit contenir au moins 8 caractères, une lettre et un chiffre.");const _={first_name:c,last_name:F,email:B,password:d};try{const n=await fetch("https://safeschooldata-6d63cd50a8a3.herokuapp.com/auths/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)}),m=await n.json();if(!n.ok)return alert(m.detail||JSON.stringify(m));alert("Compte créé avec succès !"),y("/auth/login")}catch(n){console.error(n),alert("Erreur lors de la création du compte.")}};return e.jsxs(e.Fragment,{children:[t&&e.jsx(h,{fontWeight:"700",variant:"h3",mb:1,children:t}),w,e.jsx(V,{title:"Sign up with"}),e.jsx(l,{mt:3,children:e.jsx(W,{children:e.jsx(h,{component:"span",color:"textSecondary",variant:"h6",fontWeight:"400",position:"relative",px:2,children:"or sign up with"})})}),e.jsxs(l,{component:"form",onSubmit:S,children:[e.jsxs(v,{mb:3,children:[e.jsx(i,{htmlFor:"first_name",children:"Nom"}),e.jsx(o,{id:"first_name",variant:"outlined",fullWidth:!0,value:s.first_name,onChange:r}),e.jsx(i,{htmlFor:"last_name",children:"Postnom"}),e.jsx(o,{id:"last_name",variant:"outlined",fullWidth:!0,value:s.last_name,onChange:r}),e.jsx(i,{htmlFor:"email",children:"Adresse email"}),e.jsx(o,{id:"email",variant:"outlined",fullWidth:!0,value:s.email,onChange:r}),e.jsx(i,{htmlFor:"password",children:"Mot de passe"}),e.jsx(o,{id:"password",type:"password",variant:"outlined",fullWidth:!0,value:s.password,onChange:r}),e.jsx(i,{htmlFor:"passwordConfirm",children:"Mot de passe de nouveau"}),e.jsx(o,{id:"passwordConfirm",type:"password",variant:"outlined",fullWidth:!0,value:s.passwordConfirm,onChange:r})]}),e.jsx(g,{color:"primary",variant:"contained",size:"large",fullWidth:!0,type:"submit",children:"S'inscrire"})]}),C]})};export{O as A};
