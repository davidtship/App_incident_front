import{R as rt,r as x,b as Qe,u as Tm,j as y,n as yn,P as N,p as Jv,c as vn,s as Zv,q as Xv,t as Qv,_ as eb,v as tb,d as Wu,a as nb}from"./index-B6sDybhi.js";import{P as rb}from"./PageContainer-8ZhUrrwU.js";import{B as ib}from"./Breadcrumb-DkqOBDpt.js";import{B as Hn}from"./BlankCard-BaNPcY8i.js";import{C as Uu}from"./CustomSelect-DPTbuZQG.js";import{C as Wt}from"./CustomFormLabel-IWlY8fjR.js";import{C as Sn}from"./CustomTextField-x3HjZ-Ln.js";import{b as ob,T as sb,u as ab,i as vs,c as Wn,d as bo,e as kr,A as lb,F as zo,G as cb,h as ub,R as db,S as pb,s as fb}from"./Select-UAbdyuPp.js";import{a as bs,P as Hc,c as ot,d as qo,b as Pi,s as Ku,G as ft}from"./Grid2-CvJcK18t.js";import{r as Ai,a as ln,b as Yr,c as hb,d as Gr,e as Om,f as Wc,g as mb,h as gb}from"./toString-C1CWN7MG.js";import{u as yb,L as vb,C as bb,I as xb}from"./IconX-xmgJY2Rh.js";import{_ as kb,n as ve,o as O,h as Ki,p as Sb,a as Im,g as Pm,s as le,c as Ho,m as pr,d as _e,e as Am,b as wb,q as Le,T as mt,t as Cb,B as Kt}from"./Box-DPWK2j67.js";import{P as Uc,T as Em}from"./Tooltip-0VRFar6X.js";import{M as jt}from"./MenuItem-DSH3xAF1.js";import{D as Mb}from"./Divider-BpUiWfXp.js";import{a as Rm,r as Db,T as Nm,B as On}from"./Button-BJlF4RCP.js";import{C as Kc,L as Tb}from"./ListItem-BGrTKm6y.js";import{S as xs}from"./Stack-BzGEmwue.js";import{u as Fm}from"./useMediaQuery-COp-3oOK.js";import{I as Jr}from"./IconButton-CTflac9t.js";import{F as Ob,I as Ib,a as Pb,T as gc}from"./TextField-DsMdupmc.js";import{I as jm}from"./InputAdornment-IHkVYgxx.js";import{D as Ab}from"./DialogActions-CoGaUTuG.js";import{L as Eb}from"./List-BtkBOxz5.js";import{D as Rb,d as Yu,a as Nb}from"./DialogContent-Zs42d3yn.js";import{I as Fb}from"./IconPlus-CLao70Ts.js";import{C as jb}from"./Close-DHytp4Ak.js";import{u as ks}from"./useSlot-BtFL6hs8.js";import"./index.esm-9p4OewDm.js";import"./Card-CbXakIxi.js";import"./createReactComponent-BlY3yTX6.js";import"./listItemTextClasses-DYLEtxQZ.js";import"./listItemButtonClasses-BJ_-GGQ8.js";import"./isMuiElement-IXU-AiZm.js";function _b(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function Lb(n,e){n.classList?n.classList.add(e):_b(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function Gu(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function $b(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=Gu(n.className,e):n.setAttribute("class",Gu(n.className&&n.className.baseVal||"",e))}var Vb=function(e,t){return e&&t&&t.split(" ").forEach(function(r){return Lb(e,r)})},Ss=function(e,t){return e&&t&&t.split(" ").forEach(function(r){return $b(e,r)})},Yc=function(n){kb(e,n);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],p=d?"appear":"enter";r.addClass(u,p,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],p=d?"appear":"enter";r.removeClasses(u,p),r.addClass(u,p,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+a:l[a],p=c?d+"-active":l[a+"Active"],h=c?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:p,doneClassName:h}},r}var t=e.prototype;return t.addClass=function(i,o,s){var a=this.getClassNames(o)[s+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;o==="appear"&&s==="done"&&c&&(a+=" "+c),s==="active"&&i&&ob(i),a&&(this.appliedClasses[o][s]=a,Vb(i,a))},t.removeClasses=function(i,o){var s=this.appliedClasses[o],a=s.base,l=s.active,c=s.done;this.appliedClasses[o]={},a&&Ss(i,a),l&&Ss(i,l),c&&Ss(i,c)},t.render=function(){var i=this.props;i.classNames;var o=ve(i,["classNames"]);return rt.createElement(sb,O({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(rt.Component);Yc.defaultProps={classNames:""};Yc.propTypes={};function Ju(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Bb(n={}){const{ignoreAccents:e=!0,ignoreCase:t=!0,limit:r,matchFrom:i="any",stringify:o,trim:s=!1}=n;return(a,{inputValue:l,getOptionLabel:c})=>{let u=s?l.trim():l;t&&(u=u.toLowerCase()),e&&(u=Ju(u));const d=u?a.filter(p=>{let h=(o||c)(p);return t&&(h=h.toLowerCase()),e&&(h=Ju(h)),i==="start"?h.startsWith(u):h.includes(u)}):a;return typeof r=="number"?d.slice(0,r):d}}const zb=Bb(),Zu=5,qb=n=>{var e;return n.current!==null&&((e=n.current.parentElement)==null?void 0:e.contains(document.activeElement))},Hb=[];function Wb(n){const{unstable_isActiveElementInListbox:e=qb,unstable_classNamePrefix:t="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:o=!1,blurOnSelect:s=!1,clearOnBlur:a=!n.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=n.multiple?Hb:null,disableClearable:d=!1,disableCloseOnSelect:p=!1,disabled:h,disabledItemsFocusable:f=!1,disableListWrap:m=!1,filterOptions:g=zb,filterSelectedOptions:v=!1,freeSolo:b=!1,getOptionDisabled:S,getOptionKey:C,getOptionLabel:M=H=>H.label??H,groupBy:I,handleHomeEndKeys:A=!n.freeSolo,id:T,includeInputInList:E=!1,inputValue:F,isOptionEqualToValue:D=(H,z)=>H===z,multiple:R=!1,onChange:_,onClose:P,onHighlightChange:k,onInputChange:w,onOpen:j,open:L,openOnFocus:W=!1,options:J,readOnly:X=!1,selectOnFocus:ce=!n.freeSolo,value:me}=n,Y=ab(T);let B=M;B=H=>{const z=M(H);return typeof z!="string"?String(z):z};const ne=x.useRef(!1),Q=x.useRef(!0),q=x.useRef(null),te=x.useRef(null),[se,oe]=x.useState(null),[ee,$]=x.useState(-1),re=i?0:-1,K=x.useRef(re),[V,Z]=bs({controlled:me,default:u,name:c}),[U,de]=bs({controlled:F,default:"",name:c,state:"inputValue"}),[ke,ze]=x.useState(!1),Ve=x.useCallback((H,z,ue)=>{if(!(R?V.length<z.length:z!==null)&&!a)return;let we;if(R)we="";else if(z==null)we="";else{const He=B(z);we=typeof He=="string"?He:""}U!==we&&(de(we),w&&w(H,we,ue))},[B,U,R,w,de,a,V]),[Ae,ie]=bs({controlled:L,default:!1,name:c,state:"open"}),[he,Ee]=x.useState(!0),Pe=!R&&V!=null&&U===B(V),Me=Ae&&!X,De=Me?g(J.filter(H=>!(v&&(R?V:[V]).some(z=>z!==null&&D(H,z)))),{inputValue:Pe&&he?"":U,getOptionLabel:B}):[],qe=yb({filteredOptions:De,value:V,inputValue:U});x.useEffect(()=>{const H=V!==qe.value;ke&&!H||b&&!H||Ve(null,V,"reset")},[V,Ve,ke,qe.value,b]);const Pt=Ae&&De.length>0&&!X,vt=Ki(H=>{H===-1?q.current.focus():se.querySelector(`[data-tag-index="${H}"]`).focus()});x.useEffect(()=>{R&&ee>V.length-1&&($(-1),vt(-1))},[V,R,ee,vt]);function Ge(H,z){if(!te.current||H<0||H>=De.length)return-1;let ue=H;for(;;){const be=te.current.querySelector(`[data-option-index="${ue}"]`),we=f?!1:!be||be.disabled||be.getAttribute("aria-disabled")==="true";if(be&&be.hasAttribute("tabindex")&&!we)return ue;if(z==="next"?ue=(ue+1)%De.length:ue=(ue-1+De.length)%De.length,ue===H)return-1}}const je=Ki(({event:H,index:z,reason:ue="auto"})=>{if(K.current=z,z===-1?q.current.removeAttribute("aria-activedescendant"):q.current.setAttribute("aria-activedescendant",`${Y}-option-${z}`),k&&k(H,z===-1?null:De[z],ue),!te.current)return;const be=te.current.querySelector(`[role="option"].${t}-focused`);be&&(be.classList.remove(`${t}-focused`),be.classList.remove(`${t}-focusVisible`));let we=te.current;if(te.current.getAttribute("role")!=="listbox"&&(we=te.current.parentElement.querySelector('[role="listbox"]')),!we)return;if(z===-1){we.scrollTop=0;return}const He=te.current.querySelector(`[data-option-index="${z}"]`);if(He&&(He.classList.add(`${t}-focused`),ue==="keyboard"&&He.classList.add(`${t}-focusVisible`),we.scrollHeight>we.clientHeight&&ue!=="mouse"&&ue!=="touch")){const Re=He,Ht=we.clientHeight+we.scrollTop,qi=Re.offsetTop+Re.offsetHeight;qi>Ht?we.scrollTop=qi-we.clientHeight:Re.offsetTop-Re.offsetHeight*(I?1.3:0)<we.scrollTop&&(we.scrollTop=Re.offsetTop-Re.offsetHeight*(I?1.3:0))}}),tt=Ki(({event:H,diff:z,direction:ue="next",reason:be="auto"})=>{if(!Me)return;const He=Ge((()=>{const Re=De.length-1;if(z==="reset")return re;if(z==="start")return 0;if(z==="end")return Re;const Ht=K.current+z;return Ht<0?Ht===-1&&E?-1:m&&K.current!==-1||Math.abs(z)>1?0:Re:Ht>Re?Ht===Re+1&&E?-1:m||Math.abs(z)>1?Re:0:Ht})(),ue);if(je({index:He,reason:be,event:H}),r&&z!=="reset")if(He===-1)q.current.value=U;else{const Re=B(De[He]);q.current.value=Re,Re.toLowerCase().indexOf(U.toLowerCase())===0&&U.length>0&&q.current.setSelectionRange(U.length,Re.length)}}),qt=()=>{const H=(z,ue)=>{const be=z?B(z):"",we=ue?B(ue):"";return be===we};if(K.current!==-1&&qe.filteredOptions&&qe.filteredOptions.length!==De.length&&qe.inputValue===U&&(R?V.length===qe.value.length&&qe.value.every((z,ue)=>B(V[ue])===B(z)):H(qe.value,V))){const z=qe.filteredOptions[K.current];if(z)return De.findIndex(ue=>B(ue)===B(z))}return-1},At=x.useCallback(()=>{if(!Me)return;const H=qt();if(H!==-1){K.current=H;return}const z=R?V[0]:V;if(De.length===0||z==null){tt({diff:"reset"});return}if(te.current){if(z!=null){const ue=De[K.current];if(R&&ue&&V.findIndex(we=>D(ue,we))!==-1)return;const be=De.findIndex(we=>D(we,z));be===-1?tt({diff:"reset"}):je({index:be});return}if(K.current>=De.length-1){je({index:De.length-1});return}je({index:K.current})}},[De.length,R?!1:V,v,tt,je,Me,U,R]),dn=Ki(H=>{Sb(te,H),H&&At()});x.useEffect(()=>{At()},[At]);const Te=H=>{Ae||(ie(!0),Ee(!0),j&&j(H))},Ze=(H,z)=>{Ae&&(ie(!1),P&&P(H,z))},Mt=(H,z,ue,be)=>{if(R){if(V.length===z.length&&V.every((we,He)=>we===z[He]))return}else if(V===z)return;_&&_(H,z,ue,be),Z(z)},bt=x.useRef(!1),qn=(H,z,ue="selectOption",be="options")=>{let we=ue,He=z;if(R){He=Array.isArray(V)?V.slice():[];const Re=He.findIndex(Ht=>D(z,Ht));Re===-1?He.push(z):be!=="freeSolo"&&(He.splice(Re,1),we="removeOption")}Ve(H,He,we),Mt(H,He,we,{option:z}),!p&&(!H||!H.ctrlKey&&!H.metaKey)&&Ze(H,we),(s===!0||s==="touch"&&bt.current||s==="mouse"&&!bt.current)&&q.current.blur()};function vr(H,z){if(H===-1)return-1;let ue=H;for(;;){if(z==="next"&&ue===V.length||z==="previous"&&ue===-1)return-1;const be=se.querySelector(`[data-tag-index="${ue}"]`);if(!be||!be.hasAttribute("tabindex")||be.disabled||be.getAttribute("aria-disabled")==="true")ue+=z==="next"?1:-1;else return ue}}const Xr=(H,z)=>{if(!R)return;U===""&&Ze(H,"toggleInput");let ue=ee;ee===-1?U===""&&z==="previous"&&(ue=V.length-1):(ue+=z==="next"?1:-1,ue<0&&(ue=0),ue===V.length&&(ue=-1)),ue=vr(ue,z),$(ue),vt(ue)},Vi=H=>{ne.current=!0,de(""),w&&w(H,"","clear"),Mt(H,R?[]:null,"clear")},br=H=>z=>{if(H.onKeyDown&&H.onKeyDown(z),!z.defaultMuiPrevented&&(ee!==-1&&!["ArrowLeft","ArrowRight"].includes(z.key)&&($(-1),vt(-1)),z.which!==229))switch(z.key){case"Home":Me&&A&&(z.preventDefault(),tt({diff:"start",direction:"next",reason:"keyboard",event:z}));break;case"End":Me&&A&&(z.preventDefault(),tt({diff:"end",direction:"previous",reason:"keyboard",event:z}));break;case"PageUp":z.preventDefault(),tt({diff:-Zu,direction:"previous",reason:"keyboard",event:z}),Te(z);break;case"PageDown":z.preventDefault(),tt({diff:Zu,direction:"next",reason:"keyboard",event:z}),Te(z);break;case"ArrowDown":z.preventDefault(),tt({diff:1,direction:"next",reason:"keyboard",event:z}),Te(z);break;case"ArrowUp":z.preventDefault(),tt({diff:-1,direction:"previous",reason:"keyboard",event:z}),Te(z);break;case"ArrowLeft":Xr(z,"previous");break;case"ArrowRight":Xr(z,"next");break;case"Enter":if(K.current!==-1&&Me){const ue=De[K.current],be=S?S(ue):!1;if(z.preventDefault(),be)return;qn(z,ue,"selectOption"),r&&q.current.setSelectionRange(q.current.value.length,q.current.value.length)}else b&&U!==""&&Pe===!1&&(R&&z.preventDefault(),qn(z,U,"createOption","freeSolo"));break;case"Escape":Me?(z.preventDefault(),z.stopPropagation(),Ze(z,"escape")):l&&(U!==""||R&&V.length>0)&&(z.preventDefault(),z.stopPropagation(),Vi(z));break;case"Backspace":if(R&&!X&&U===""&&V.length>0){const ue=ee===-1?V.length-1:ee,be=V.slice();be.splice(ue,1),Mt(z,be,"removeOption",{option:V[ue]})}break;case"Delete":if(R&&!X&&U===""&&V.length>0&&ee!==-1){const ue=ee,be=V.slice();be.splice(ue,1),Mt(z,be,"removeOption",{option:V[ue]})}break}},hs=H=>{ze(!0),W&&!ne.current&&Te(H)},Bi=H=>{if(e(te)){q.current.focus();return}ze(!1),Q.current=!0,ne.current=!1,o&&K.current!==-1&&Me?qn(H,De[K.current],"blur"):o&&b&&U!==""?qn(H,U,"blur","freeSolo"):a&&Ve(H,V,"blur"),Ze(H,"blur")},xr=H=>{const z=H.target.value;U!==z&&(de(z),Ee(!1),w&&w(H,z,"input")),z===""?!d&&!R&&Mt(H,null,"clear"):Te(H)},Qr=H=>{const z=Number(H.currentTarget.getAttribute("data-option-index"));K.current!==z&&je({event:H,index:z,reason:"mouse"})},ei=H=>{je({event:H,index:Number(H.currentTarget.getAttribute("data-option-index")),reason:"touch"}),bt.current=!0},ms=H=>{const z=Number(H.currentTarget.getAttribute("data-option-index"));qn(H,De[z],"selectOption"),bt.current=!1},gs=H=>z=>{const ue=V.slice();ue.splice(H,1),Mt(z,ue,"removeOption",{option:V[H]})},zi=H=>{Ae?Ze(H,"toggleInput"):Te(H)},qu=H=>{H.currentTarget.contains(H.target)&&H.target.getAttribute("id")!==Y&&H.preventDefault()},ti=H=>{H.currentTarget.contains(H.target)&&(q.current.focus(),ce&&Q.current&&q.current.selectionEnd-q.current.selectionStart===0&&q.current.select(),Q.current=!1)},pt=H=>{!h&&(U===""||!Ae)&&zi(H)};let Xe=b&&U.length>0;Xe=Xe||(R?V.length>0:V!==null);let pn=De;return I&&(pn=De.reduce((H,z,ue)=>{const be=I(z);return H.length>0&&H[H.length-1].group===be?H[H.length-1].options.push(z):H.push({key:ue,index:ue,group:be,options:[z]}),H},[])),h&&ke&&Bi(),{getRootProps:(H={})=>({"aria-owns":Pt?`${Y}-listbox`:null,...H,onKeyDown:br(H),onMouseDown:qu,onClick:ti}),getInputLabelProps:()=>({id:`${Y}-label`,htmlFor:Y}),getInputProps:()=>({id:Y,value:U,onBlur:Bi,onFocus:hs,onChange:xr,onMouseDown:pt,"aria-activedescendant":Me?"":null,"aria-autocomplete":r?"both":"list","aria-controls":Pt?`${Y}-listbox`:void 0,"aria-expanded":Pt,autoComplete:"off",ref:q,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:h}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Vi}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:zi}),getTagProps:({index:H})=>({key:H,"data-tag-index":H,tabIndex:-1,...!X&&{onDelete:gs(H)}}),getListboxProps:()=>({role:"listbox",id:`${Y}-listbox`,"aria-labelledby":`${Y}-label`,ref:dn,onMouseDown:H=>{H.preventDefault()}}),getOptionProps:({index:H,option:z})=>{const ue=(R?V:[V]).some(we=>we!=null&&D(z,we)),be=S?S(z):!1;return{key:(C==null?void 0:C(z))??B(z),tabIndex:-1,role:"option",id:`${Y}-option-${H}`,onMouseMove:Qr,onClick:ms,onTouchStart:ei,"data-option-index":H,"aria-disabled":be,"aria-selected":ue}},id:Y,inputValue:U,value:V,dirty:Xe,expanded:Me&&se,popupOpen:Me,focused:ke||ee!==-1,anchorEl:se,setAnchorEl:oe,focusedTag:ee,groupedOptions:pn}}function Ub(n){return Pm("MuiAutocomplete",n)}const Se=Im("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Xu,Qu;const Kb=n=>{const{classes:e,disablePortal:t,expanded:r,focused:i,fullWidth:o,hasClearIcon:s,hasPopupIcon:a,inputFocused:l,popupOpen:c,size:u}=n,d={root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${Ho(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",t&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Am(d,Ub,e)},Yb=le("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:s,size:a}=t;return[{[`& .${Se.tag}`]:e.tag},{[`& .${Se.tag}`]:e[`tagSize${Ho(a)}`]},{[`& .${Se.inputRoot}`]:e.inputRoot},{[`& .${Se.input}`]:e.input},{[`& .${Se.input}`]:s&&e.inputFocused},e.root,r&&e.fullWidth,o&&e.hasPopupIcon,i&&e.hasClearIcon]}})({[`&.${Se.focused} .${Se.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Se.clearIndicator}`]:{visibility:"visible"}},[`& .${Se.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${Se.inputRoot}`]:{[`.${Se.hasPopupIcon}&, .${Se.hasClearIcon}&`]:{paddingRight:30},[`.${Se.hasPopupIcon}.${Se.hasClearIcon}&`]:{paddingRight:56},[`& .${Se.input}`]:{width:0,minWidth:30}},[`& .${vs.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${vs.root}.${Wn.sizeSmall}`]:{[`& .${vs.input}`]:{padding:"2px 4px 3px 0"}},[`& .${bo.root}`]:{padding:9,[`.${Se.hasPopupIcon}&, .${Se.hasClearIcon}&`]:{paddingRight:39},[`.${Se.hasPopupIcon}.${Se.hasClearIcon}&`]:{paddingRight:65},[`& .${Se.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Se.endAdornment}`]:{right:9}},[`& .${bo.root}.${Wn.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Se.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${kr.root}`]:{paddingTop:19,paddingLeft:8,[`.${Se.hasPopupIcon}&, .${Se.hasClearIcon}&`]:{paddingRight:39},[`.${Se.hasPopupIcon}.${Se.hasClearIcon}&`]:{paddingRight:65},[`& .${kr.input}`]:{padding:"7px 4px"},[`& .${Se.endAdornment}`]:{right:9}},[`& .${kr.root}.${Wn.sizeSmall}`]:{paddingBottom:1,[`& .${kr.input}`]:{padding:"2.5px 4px"}},[`& .${Wn.hiddenLabel}`]:{paddingTop:8},[`& .${kr.root}.${Wn.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Se.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${kr.root}.${Wn.hiddenLabel}.${Wn.sizeSmall}`]:{[`& .${Se.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Se.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${Se.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${Se.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${Se.inputRoot}`]:{flexWrap:"wrap"}}}]}),Gb=le("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(n,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Jb=le(Jr,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(n,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Zb=le(Jr,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:n},e)=>({...e.popupIndicator,...n.popupOpen&&e.popupIndicatorOpen})})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Xb=le(Uc,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Se.option}`]:e.option},e.popper,t.disablePortal&&e.popperDisablePortal]}})(pr(({theme:n})=>({zIndex:(n.vars||n).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Qb=le(Hc,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(n,e)=>e.paper})(pr(({theme:n})=>({...n.typography.body1,overflow:"auto"}))),ex=le("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(n,e)=>e.loading})(pr(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),tx=le("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(n,e)=>e.noOptions})(pr(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),nx=le("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(n,e)=>e.listbox})(pr(({theme:n})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Se.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[n.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Se.focused}`]:{backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Se.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Qe(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${Se.focused}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Qe(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(n.vars||n).palette.action.selected}},[`&.${Se.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Qe(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}}}))),rx=le(vb,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(n,e)=>e.groupLabel})(pr(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,top:-8}))),ix=le("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(n,e)=>e.groupUl})({padding:0,[`& .${Se.option}`]:{paddingLeft:24}}),ed=x.forwardRef(function(e,t){const r=Tm({props:e,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:o=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:l,className:c,clearIcon:u=Xu||(Xu=y.jsx(jb,{fontSize:"small"})),clearOnBlur:d=!r.freeSolo,clearOnEscape:p=!1,clearText:h="Clear",closeText:f="Close",componentsProps:m,defaultValue:g=r.multiple?[]:null,disableClearable:v=!1,disableCloseOnSelect:b=!1,disabled:S=!1,disabledItemsFocusable:C=!1,disableListWrap:M=!1,disablePortal:I=!1,filterOptions:A,filterSelectedOptions:T=!1,forcePopupIcon:E="auto",freeSolo:F=!1,fullWidth:D=!1,getLimitTagsText:R=Ie=>`+${Ie}`,getOptionDisabled:_,getOptionKey:P,getOptionLabel:k,isOptionEqualToValue:w,groupBy:j,handleHomeEndKeys:L=!r.freeSolo,id:W,includeInputInList:J=!1,inputValue:X,limitTags:ce=-1,ListboxComponent:me,ListboxProps:Y,loading:B=!1,loadingText:ne="Loadingâ€¦",multiple:Q=!1,noOptionsText:q="No options",onChange:te,onClose:se,onHighlightChange:oe,onInputChange:ee,onOpen:$,open:re,openOnFocus:K=!1,openText:V="Open",options:Z,PaperComponent:U,PopperComponent:de,popupIcon:ke=Qu||(Qu=y.jsx(lb,{})),readOnly:ze=!1,renderGroup:Ve,renderInput:Ae,renderOption:ie,renderTags:he,selectOnFocus:Ee=!r.freeSolo,size:Pe="medium",slots:Me={},slotProps:De={},value:qe,...Pt}=r,{getRootProps:vt,getInputProps:Ge,getInputLabelProps:je,getPopupIndicatorProps:tt,getClearProps:qt,getTagProps:At,getListboxProps:dn,getOptionProps:Te,value:Ze,dirty:Mt,expanded:bt,id:qn,popupOpen:vr,focused:Xr,focusedTag:Vi,anchorEl:br,setAnchorEl:hs,inputValue:Bi,groupedOptions:xr}=Wb({...r,componentName:"Autocomplete"}),Qr=!v&&!S&&Mt&&!ze,ei=(!F||E===!0)&&E!==!1,{onMouseDown:ms}=Ge(),{ref:gs,...zi}=dn(),ti=k||(Ie=>Ie.label??Ie),pt={...r,disablePortal:I,expanded:bt,focused:Xr,fullWidth:D,getOptionLabel:ti,hasClearIcon:Qr,hasPopupIcon:ei,inputFocused:Vi===-1,popupOpen:vr,size:Pe},Xe=Kb(pt),pn={slots:{listbox:me,paper:U,popper:de,...Me},slotProps:{chip:l,listbox:Y,...m,...De}},[H,z]=ks("listbox",{elementType:"ul",externalForwardedProps:pn,ownerState:pt,className:Xe.listbox,additionalProps:zi,ref:gs}),[ue,be]=ks("paper",{elementType:Hc,externalForwardedProps:pn,ownerState:pt,className:Xe.paper}),[we,He]=ks("popper",{elementType:Uc,externalForwardedProps:pn,ownerState:pt,className:Xe.popper,additionalProps:{disablePortal:I,style:{width:br?br.clientWidth:null},role:"presentation",anchorEl:br,open:vr}});let Re;if(Q&&Ze.length>0){const Ie=Xt=>({className:Xe.tag,disabled:S,...At(Xt)});he?Re=he(Ze,Ie,pt):Re=Ze.map((Xt,kn)=>{const{key:ni,...Gv}=Ie({index:kn});return y.jsx(Kc,{label:ti(Xt),size:Pe,...Gv,...pn.slotProps.chip},ni)})}if(ce>-1&&Array.isArray(Re)){const Ie=Re.length-ce;!Xr&&Ie>0&&(Re=Re.splice(0,ce),Re.push(y.jsx("span",{className:Xe.tag,children:R(Ie)},Re.length)))}const qi=Ve||(Ie=>y.jsxs("li",{children:[y.jsx(rx,{className:Xe.groupLabel,ownerState:pt,component:"div",children:Ie.group}),y.jsx(ix,{className:Xe.groupUl,ownerState:pt,children:Ie.children})]},Ie.key)),Yv=ie||((Ie,Xt)=>{const{key:kn,...ni}=Ie;return y.jsx("li",{...ni,children:ti(Xt)},kn)}),Hu=(Ie,Xt)=>{const kn=Te({option:Ie,index:Xt});return Yv({...kn,className:Xe.option},Ie,{selected:kn["aria-selected"],index:Xt,inputValue:Bi},pt)},Hi=pn.slotProps.clearIndicator,Wi=pn.slotProps.popupIndicator,ys=Ie=>y.jsx(Xb,{as:we,...He,children:y.jsx(Qb,{as:ue,...be,children:Ie})});let Ui=null;return xr.length>0?Ui=ys(y.jsx(nx,{as:H,...z,children:xr.map((Ie,Xt)=>j?qi({key:Ie.key,group:Ie.group,children:Ie.options.map((kn,ni)=>Hu(kn,Ie.index+ni))}):Hu(Ie,Xt))})):B&&xr.length===0?Ui=ys(y.jsx(ex,{className:Xe.loading,ownerState:pt,children:ne})):xr.length===0&&!F&&!B&&(Ui=ys(y.jsx(tx,{className:Xe.noOptions,ownerState:pt,role:"presentation",onMouseDown:Ie=>{Ie.preventDefault()},children:q}))),y.jsxs(x.Fragment,{children:[y.jsx(Yb,{ref:t,className:_e(Xe.root,c),ownerState:pt,...vt(Pt),children:Ae({id:qn,disabled:S,fullWidth:!0,size:Pe==="small"?"small":void 0,InputLabelProps:je(),InputProps:{ref:hs,className:Xe.inputRoot,startAdornment:Re,onClick:Ie=>{Ie.target===Ie.currentTarget&&ms(Ie)},...(Qr||ei)&&{endAdornment:y.jsxs(Gb,{className:Xe.endAdornment,ownerState:pt,children:[Qr?y.jsx(Jb,{...qt(),"aria-label":h,title:h,ownerState:pt,...Hi,className:_e(Xe.clearIndicator,Hi==null?void 0:Hi.className),children:u}):null,ei?y.jsx(Zb,{...tt(),disabled:S,"aria-label":vr?f:V,title:vr?f:V,ownerState:pt,...Wi,className:_e(Xe.popupIndicator,Wi==null?void 0:Wi.className),children:ke}):null]})}},inputProps:{className:Xe.input,disabled:S,readOnly:ze,...Ge()}})}),br?Ui:null]})});function ox(n){return Pm("MuiToggleButton",n)}const so=Im("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),sx=x.createContext({}),ax=x.createContext(void 0);function lx(n,e){return e===void 0||n===void 0?!1:Array.isArray(e)?e.includes(n):n===e}const cx=n=>{const{classes:e,fullWidth:t,selected:r,disabled:i,size:o,color:s}=n,a={root:["root",r&&"selected",i&&"disabled",t&&"fullWidth",`size${Ho(o)}`,s]};return Am(a,ox,e)},ux=le(Rm,{name:"MuiToggleButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`size${Ho(t.size)}`]]}})(pr(({theme:n})=>({...n.typography.button,borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:`1px solid ${(n.vars||n).palette.divider}`,color:(n.vars||n).palette.action.active,[`&.${so.disabled}`]:{color:(n.vars||n).palette.action.disabled,border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Qe(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${so.selected}`]:{color:(n.vars||n).palette.text.primary,backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:Qe(n.palette.text.primary,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Qe(n.palette.text.primary,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:Qe(n.palette.text.primary,n.palette.action.selectedOpacity)}}}}},...Object.entries(n.palette).filter(wb()).map(([e])=>({props:{color:e},style:{[`&.${so.selected}`]:{color:(n.vars||n).palette[e].main,backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Qe(n.palette[e].main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Qe(n.palette[e].main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Qe(n.palette[e].main,n.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:n.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:n.typography.pxToRem(15)}}]}))),dx=x.forwardRef(function(e,t){const{value:r,...i}=x.useContext(sx),o=x.useContext(ax),s=Db({...i,selected:lx(e.value,r)},e),a=Tm({props:s,name:"MuiToggleButton"}),{children:l,className:c,color:u="standard",disabled:d=!1,disableFocusRipple:p=!1,fullWidth:h=!1,onChange:f,onClick:m,selected:g,size:v="medium",value:b,...S}=a,C={...a,color:u,disabled:d,disableFocusRipple:p,fullWidth:h,size:v},M=cx(C),I=T=>{m&&(m(T,b),T.defaultPrevented)||f&&f(T,b)},A=o||"";return y.jsx(ux,{className:_e(i.className,M.root,c,A),disabled:d,focusRipple:!p,ref:t,onClick:I,onChange:f,value:b,ownerState:C,"aria-pressed":g,...S,children:l})}),px=ot(y.jsx("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code"),fx=ot(y.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"}),"FormatBold"),hx=ot(y.jsx("path",{d:"M3.27 5 2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5z"}),"FormatClear"),mx=ot(y.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic"),gx=ot(y.jsx("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5m0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5m0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5M7 19h14v-2H7zm0-6h14v-2H7zm0-8v2h14V5z"}),"FormatListBulleted"),yx=ot(y.jsx("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z"}),"FormatListNumbered"),vx=ot(y.jsx("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),"FormatQuote"),bx=ot(y.jsx("path",{fillRule:"evenodd",d:"M4 11h16v2H4z"}),"HorizontalRule"),xx=ot(y.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7z"}),"Redo"),kx=ot(y.jsx("path",{d:"M6.85 7.08C6.85 4.37 9.45 3 12.24 3c1.64 0 3 .49 3.9 1.28.77.65 1.46 1.73 1.46 3.24h-3.01c0-.31-.05-.59-.15-.85-.29-.86-1.2-1.28-2.25-1.28-1.86 0-2.34 1.02-2.34 1.7 0 .48.25.88.74 1.21.38.25.77.48 1.41.7H7.39c-.21-.34-.54-.89-.54-1.92M21 12v-2H3v2h9.62c1.15.45 1.96.75 1.96 1.97 0 1-.81 1.67-2.28 1.67-1.54 0-2.93-.54-2.93-2.51H6.4c0 .55.08 1.13.24 1.58.81 2.29 3.29 3.3 5.67 3.3 2.27 0 5.3-.89 5.3-4.05 0-.3-.01-1.16-.48-1.94H21z"}),"StrikethroughS"),Sx=ot(y.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo");function fr(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}const wx=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Br(n,e,t){const r=Cx(n),{webkitRelativePath:i}=n,o=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${n.name}`;return typeof r.path!="string"&&td(r,"path",o),td(r,"relativePath",o),r}function Cx(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const r=e.split(".").pop().toLowerCase(),i=wx.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}function td(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const Mx=[".DS_Store","Thumbs.db"];function Dx(n){return fr(this,void 0,void 0,function*(){return xo(n)&&Tx(n.dataTransfer)?Ax(n.dataTransfer,n.type):Ox(n)?Ix(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?Px(n):[]})}function Tx(n){return xo(n)}function Ox(n){return xo(n)&&xo(n.target)}function xo(n){return typeof n=="object"&&n!==null}function Ix(n){return yc(n.target.files).map(e=>Br(e))}function Px(n){return fr(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>Br(t))})}function Ax(n,e){return fr(this,void 0,void 0,function*(){if(n.items){const t=yc(n.items).filter(i=>i.kind==="file");if(e!=="drop")return t;const r=yield Promise.all(t.map(Ex));return nd(_m(r))}return nd(yc(n.files).map(t=>Br(t)))})}function nd(n){return n.filter(e=>Mx.indexOf(e.name)===-1)}function yc(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const r=n[t];e.push(r)}return e}function Ex(n){if(typeof n.webkitGetAsEntry!="function")return rd(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?Lm(e):rd(n,e)}function _m(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?_m(t):[t]],[])}function rd(n,e){return fr(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const o=yield n.getAsFileSystemHandle();if(o===null)throw new Error(`${n} is not a File`);if(o!==void 0){const s=yield o.getFile();return s.handle=o,Br(s)}}const r=n.getAsFile();if(!r)throw new Error(`${n} is not a File`);return Br(r,(t=e==null?void 0:e.fullPath)!==null&&t!==void 0?t:void 0)})}function Rx(n){return fr(this,void 0,void 0,function*(){return n.isDirectory?Lm(n):Nx(n)})}function Lm(n){const e=n.createReader();return new Promise((t,r)=>{const i=[];function o(){e.readEntries(s=>fr(this,void 0,void 0,function*(){if(s.length){const a=Promise.all(s.map(Rx));i.push(a),o()}else try{const a=yield Promise.all(i);t(a)}catch(a){r(a)}}),s=>{r(s)})}o()})}function Nx(n){return fr(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(r=>{const i=Br(r,n.fullPath);e(i)},r=>{t(r)})})})}var Yi={},id;function Fx(){return id||(id=1,Yi.__esModule=!0,Yi.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var r=n.name||"",i=(n.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return t.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0}),Yi}var jx=Fx();const ws=yn(jx);function od(n){return $x(n)||Lx(n)||Vm(n)||_x()}function _x(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lx(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $x(n){if(Array.isArray(n))return vc(n)}function sd(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ad(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sd(Object(t),!0).forEach(function(r){$m(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sd(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $m(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xi(n,e){return zx(n)||Bx(n,e)||Vm(n,e)||Vx()}function Vx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vm(n,e){if(n){if(typeof n=="string")return vc(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vc(n,e)}}function vc(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Bx(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,s,a;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw a}}return r}}function zx(n){if(Array.isArray(n))return n}var qx=typeof ws=="function"?ws:ws.default,Hx="file-invalid-type",Wx="file-too-large",Ux="file-too-small",Kx="too-many-files",Yx=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),r=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:Hx,message:"File type must be ".concat(r)}},ld=function(e){return{code:Wx,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},cd=function(e){return{code:Ux,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Gx={code:Kx,message:"Too many files"};function Bm(n,e){var t=n.type==="application/x-moz-file"||qx(n,e);return[t,t?null:Yx(e)]}function zm(n,e,t){if(Gn(n.size))if(Gn(e)&&Gn(t)){if(n.size>t)return[!1,ld(t)];if(n.size<e)return[!1,cd(e)]}else{if(Gn(e)&&n.size<e)return[!1,cd(e)];if(Gn(t)&&n.size>t)return[!1,ld(t)]}return[!0,null]}function Gn(n){return n!=null}function Jx(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,o=n.multiple,s=n.maxFiles,a=n.validator;return!o&&e.length>1||o&&s>=1&&e.length>s?!1:e.every(function(l){var c=Bm(l,t),u=xi(c,1),d=u[0],p=zm(l,r,i),h=xi(p,1),f=h[0],m=a?a(l):null;return d&&f&&!m})}function ko(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Gi(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function ud(n){n.preventDefault()}function Zx(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Xx(n){return n.indexOf("Edge/")!==-1}function Qx(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Zx(n)||Xx(n)}function Qt(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return e.some(function(a){return!ko(r)&&a&&a.apply(void 0,[r].concat(o)),ko(r)})}}function e0(){return"showOpenFilePicker"in window}function t0(n){if(Gn(n)){var e=Object.entries(n).filter(function(t){var r=xi(t,2),i=r[0],o=r[1],s=!0;return qm(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(Hm))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(t,r){var i=xi(r,2),o=i[0],s=i[1];return ad(ad({},t),{},$m({},o,s))},{});return[{description:"Files",accept:e}]}return n}function n0(n){if(Gn(n))return Object.entries(n).reduce(function(e,t){var r=xi(t,2),i=r[0],o=r[1];return[].concat(od(e),[i],od(o))},[]).filter(function(e){return qm(e)||Hm(e)}).join(",")}function r0(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function i0(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function qm(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function Hm(n){return/^.*\.[\w]+$/.test(n)}var o0=["children"],s0=["open"],a0=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],l0=["refKey","onChange","onClick"];function c0(n){return p0(n)||d0(n)||Wm(n)||u0()}function u0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d0(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function p0(n){if(Array.isArray(n))return bc(n)}function Cs(n,e){return m0(n)||h0(n,e)||Wm(n,e)||f0()}function f0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wm(n,e){if(n){if(typeof n=="string")return bc(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bc(n,e)}}function bc(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function h0(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,o=!1,s,a;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw a}}return r}}function m0(n){if(Array.isArray(n))return n}function dd(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Be(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dd(Object(t),!0).forEach(function(r){xc(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dd(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function xc(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function So(n,e){if(n==null)return{};var t=g0(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function g0(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var Gc=x.forwardRef(function(n,e){var t=n.children,r=So(n,o0),i=Km(r),o=i.open,s=So(i,s0);return x.useImperativeHandle(e,function(){return{open:o}},[o]),rt.createElement(x.Fragment,null,t(Be(Be({},s),{},{open:o})))});Gc.displayName="Dropzone";var Um={disabled:!1,getFilesFromEvent:Dx,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Gc.defaultProps=Um;Gc.propTypes={children:N.func,accept:N.objectOf(N.arrayOf(N.string)),multiple:N.bool,preventDropOnDocument:N.bool,noClick:N.bool,noKeyboard:N.bool,noDrag:N.bool,noDragEventsBubbling:N.bool,minSize:N.number,maxSize:N.number,maxFiles:N.number,disabled:N.bool,getFilesFromEvent:N.func,onFileDialogCancel:N.func,onFileDialogOpen:N.func,useFsAccessApi:N.bool,autoFocus:N.bool,onDragEnter:N.func,onDragLeave:N.func,onDragOver:N.func,onDrop:N.func,onDropAccepted:N.func,onDropRejected:N.func,onError:N.func,validator:N.func};var kc={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Km(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Be(Be({},Um),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,s=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,d=e.onDragOver,p=e.onDrop,h=e.onDropAccepted,f=e.onDropRejected,m=e.onFileDialogCancel,g=e.onFileDialogOpen,v=e.useFsAccessApi,b=e.autoFocus,S=e.preventDropOnDocument,C=e.noClick,M=e.noKeyboard,I=e.noDrag,A=e.noDragEventsBubbling,T=e.onError,E=e.validator,F=x.useMemo(function(){return n0(t)},[t]),D=x.useMemo(function(){return t0(t)},[t]),R=x.useMemo(function(){return typeof g=="function"?g:pd},[g]),_=x.useMemo(function(){return typeof m=="function"?m:pd},[m]),P=x.useRef(null),k=x.useRef(null),w=x.useReducer(y0,kc),j=Cs(w,2),L=j[0],W=j[1],J=L.isFocused,X=L.isFileDialogActive,ce=x.useRef(typeof window<"u"&&window.isSecureContext&&v&&e0()),me=function(){!ce.current&&X&&setTimeout(function(){if(k.current){var he=k.current.files;he.length||(W({type:"closeDialog"}),_())}},300)};x.useEffect(function(){return window.addEventListener("focus",me,!1),function(){window.removeEventListener("focus",me,!1)}},[k,X,_,ce]);var Y=x.useRef([]),B=function(he){P.current&&P.current.contains(he.target)||(he.preventDefault(),Y.current=[])};x.useEffect(function(){return S&&(document.addEventListener("dragover",ud,!1),document.addEventListener("drop",B,!1)),function(){S&&(document.removeEventListener("dragover",ud),document.removeEventListener("drop",B))}},[P,S]),x.useEffect(function(){return!r&&b&&P.current&&P.current.focus(),function(){}},[P,b,r]);var ne=x.useCallback(function(ie){T?T(ie):console.error(ie)},[T]),Q=x.useCallback(function(ie){ie.preventDefault(),ie.persist(),ke(ie),Y.current=[].concat(c0(Y.current),[ie.target]),Gi(ie)&&Promise.resolve(i(ie)).then(function(he){if(!(ko(ie)&&!A)){var Ee=he.length,Pe=Ee>0&&Jx({files:he,accept:F,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:E}),Me=Ee>0&&!Pe;W({isDragAccept:Pe,isDragReject:Me,isDragActive:!0,type:"setDraggedFiles"}),c&&c(ie)}}).catch(function(he){return ne(he)})},[i,c,ne,A,F,s,o,a,l,E]),q=x.useCallback(function(ie){ie.preventDefault(),ie.persist(),ke(ie);var he=Gi(ie);if(he&&ie.dataTransfer)try{ie.dataTransfer.dropEffect="copy"}catch{}return he&&d&&d(ie),!1},[d,A]),te=x.useCallback(function(ie){ie.preventDefault(),ie.persist(),ke(ie);var he=Y.current.filter(function(Pe){return P.current&&P.current.contains(Pe)}),Ee=he.indexOf(ie.target);Ee!==-1&&he.splice(Ee,1),Y.current=he,!(he.length>0)&&(W({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Gi(ie)&&u&&u(ie))},[P,u,A]),se=x.useCallback(function(ie,he){var Ee=[],Pe=[];ie.forEach(function(Me){var De=Bm(Me,F),qe=Cs(De,2),Pt=qe[0],vt=qe[1],Ge=zm(Me,s,o),je=Cs(Ge,2),tt=je[0],qt=je[1],At=E?E(Me):null;if(Pt&&tt&&!At)Ee.push(Me);else{var dn=[vt,qt];At&&(dn=dn.concat(At)),Pe.push({file:Me,errors:dn.filter(function(Te){return Te})})}}),(!a&&Ee.length>1||a&&l>=1&&Ee.length>l)&&(Ee.forEach(function(Me){Pe.push({file:Me,errors:[Gx]})}),Ee.splice(0)),W({acceptedFiles:Ee,fileRejections:Pe,isDragReject:Pe.length>0,type:"setFiles"}),p&&p(Ee,Pe,he),Pe.length>0&&f&&f(Pe,he),Ee.length>0&&h&&h(Ee,he)},[W,a,F,s,o,l,p,h,f,E]),oe=x.useCallback(function(ie){ie.preventDefault(),ie.persist(),ke(ie),Y.current=[],Gi(ie)&&Promise.resolve(i(ie)).then(function(he){ko(ie)&&!A||se(he,ie)}).catch(function(he){return ne(he)}),W({type:"reset"})},[i,se,ne,A]),ee=x.useCallback(function(){if(ce.current){W({type:"openDialog"}),R();var ie={multiple:a,types:D};window.showOpenFilePicker(ie).then(function(he){return i(he)}).then(function(he){se(he,null),W({type:"closeDialog"})}).catch(function(he){r0(he)?(_(he),W({type:"closeDialog"})):i0(he)?(ce.current=!1,k.current?(k.current.value=null,k.current.click()):ne(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ne(he)});return}k.current&&(W({type:"openDialog"}),R(),k.current.value=null,k.current.click())},[W,R,_,v,se,ne,D,a]),$=x.useCallback(function(ie){!P.current||!P.current.isEqualNode(ie.target)||(ie.key===" "||ie.key==="Enter"||ie.keyCode===32||ie.keyCode===13)&&(ie.preventDefault(),ee())},[P,ee]),re=x.useCallback(function(){W({type:"focus"})},[]),K=x.useCallback(function(){W({type:"blur"})},[]),V=x.useCallback(function(){C||(Qx()?setTimeout(ee,0):ee())},[C,ee]),Z=function(he){return r?null:he},U=function(he){return M?null:Z(he)},de=function(he){return I?null:Z(he)},ke=function(he){A&&he.stopPropagation()},ze=x.useMemo(function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ie.refKey,Ee=he===void 0?"ref":he,Pe=ie.role,Me=ie.onKeyDown,De=ie.onFocus,qe=ie.onBlur,Pt=ie.onClick,vt=ie.onDragEnter,Ge=ie.onDragOver,je=ie.onDragLeave,tt=ie.onDrop,qt=So(ie,a0);return Be(Be(xc({onKeyDown:U(Qt(Me,$)),onFocus:U(Qt(De,re)),onBlur:U(Qt(qe,K)),onClick:Z(Qt(Pt,V)),onDragEnter:de(Qt(vt,Q)),onDragOver:de(Qt(Ge,q)),onDragLeave:de(Qt(je,te)),onDrop:de(Qt(tt,oe)),role:typeof Pe=="string"&&Pe!==""?Pe:"presentation"},Ee,P),!r&&!M?{tabIndex:0}:{}),qt)}},[P,$,re,K,V,Q,q,te,oe,M,I,r]),Ve=x.useCallback(function(ie){ie.stopPropagation()},[]),Ae=x.useMemo(function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ie.refKey,Ee=he===void 0?"ref":he,Pe=ie.onChange,Me=ie.onClick,De=So(ie,l0),qe=xc({accept:F,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Z(Qt(Pe,oe)),onClick:Z(Qt(Me,Ve)),tabIndex:-1},Ee,k);return Be(Be({},qe),De)}},[k,t,a,oe,r]);return Be(Be({},L),{},{isFocused:J&&!r,getRootProps:ze,getInputProps:Ae,rootRef:P,inputRef:k,open:Z(ee)})}function y0(n,e){switch(e.type){case"focus":return Be(Be({},n),{},{isFocused:!0});case"blur":return Be(Be({},n),{},{isFocused:!1});case"openDialog":return Be(Be({},kc),{},{isFileDialogActive:!0});case"closeDialog":return Be(Be({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return Be(Be({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Be(Be({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Be({},kc);default:return n}}function pd(){}function v0(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}const Ym=N.oneOfType([N.func,N.object]);function b0(n){if(typeof n!="string")throw new Error(v0(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Ms(n){return n&&n.ownerDocument||document}function x0(n,e){typeof n=="function"?n(e):n&&(n.current=e)}const gn=typeof window<"u"?x.useLayoutEffect:x.useEffect;let fd=0;function k0(n){const[e,t]=x.useState(n),r=n||e;return x.useEffect(()=>{e==null&&(fd+=1,t(`mui-${fd}`))},[e]),r}const hd=Jv.useId;function Ei(n){if(hd!==void 0){const e=hd();return n??e}return k0(n)}function ar({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=x.useRef(n!==void 0),[o,s]=x.useState(e),a=i?n:o,l=x.useCallback(c=>{i||s(c)},[]);return[a,l]}function fe(n){const e=x.useRef(n);return gn(()=>{e.current=n}),x.useRef((...t)=>(0,e.current)(...t)).current}function Nt(...n){return x.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{x0(t,e)})},n)}const S0={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Ke(n,e,t=void 0){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((o,s)=>{if(s){const a=e(s);a!==""&&o.push(a),t&&t[s]&&o.push(t[s])}return o},[]).join(" ")}),r}const md=n=>n,w0=()=>{let n=md;return{configure(e){n=e},generate(e){return n(e)},reset(){n=md}}},C0=w0(),M0={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ye(n,e,t="Mui"){const r=M0[e];return r?`${t}-${r}`:`${C0.generate(n)}-${e}`}function Je(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Ye(n,i,t)}),r}function D0(n){return typeof n=="string"}function T0(n,e,t){return n===void 0||D0(n)?e:O({},e,{ownerState:O({},e.ownerState,t)})}function O0(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function gd(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function I0(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!e){const h=_e(t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f=O({},t==null?void 0:t.style,i==null?void 0:i.style,r==null?void 0:r.style),m=O({},t,i,r);return h.length>0&&(m.className=h),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:void 0}}const s=O0(O({},i,r)),a=gd(r),l=gd(i),c=e(s),u=_e(c==null?void 0:c.className,t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=O({},c==null?void 0:c.style,t==null?void 0:t.style,i==null?void 0:i.style,r==null?void 0:r.style),p=O({},c,t,l,a);return u.length>0&&(p.className=u),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:c.ref}}function Jc(n,e,t){return typeof n=="function"?n(e,t):n}const P0=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ne(n){var e;const{elementType:t,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=n,s=ve(n,P0),a=o?{}:Jc(r,i),{props:l,internalRef:c}=I0(O({},s,{externalSlotProps:a})),u=Nt(c,a==null?void 0:a.ref,(e=n.additionalProps)==null?void 0:e.ref);return T0(t,O({},l,{ref:u}),i)}const A0=["localeText"],Sc=x.createContext(null),wo=function(e){const{localeText:t}=e,r=ve(e,A0),{utils:i,localeText:o}=x.useContext(Sc)??{utils:void 0,localeText:void 0},s=Le({props:r,name:"MuiLocalizationProvider"}),{children:a,dateAdapter:l,dateFormats:c,dateLibInstance:u,adapterLocale:d,localeText:p}=s,h=x.useMemo(()=>O({},p,o,t),[p,o,t]),f=x.useMemo(()=>{if(!l)return i||null;const v=new l({locale:d,formats:c,instance:u});if(!v.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return v},[l,d,c,u,i]),m=x.useMemo(()=>f?{minDate:f.date("1900-01-01T00:00:00.000"),maxDate:f.date("2099-12-31T00:00:00.000")}:null,[f]),g=x.useMemo(()=>({utils:f,defaultDates:m,localeText:h}),[m,f,h]);return y.jsx(Sc.Provider,{value:g,children:a})},E0=n=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:O({},n)}}}}),Gm=n=>{const{utils:e,formatKey:t,contextTranslation:r,propsTranslation:i}=n;return o=>{const s=o!==null&&e.isValid(o)?e.format(o,t):null;return(i??r)(o,e,s)}},Jm={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:n=>n==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(n,e,t,r)=>`Select ${n}. ${!r&&(e===null||!t.isValid(e))?"No time selected":`Selected time is ${r??t.format(e,"fullTime")}`}`,hoursClockNumberText:n=>`${n} hours`,minutesClockNumberText:n=>`${n} minutes`,secondsClockNumberText:n=>`${n} seconds`,selectViewText:n=>`Select ${n}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:n=>`Week ${n}`,calendarWeekNumberText:n=>`${n}`,openDatePickerDialogue:(n,e,t)=>t||n!==null&&e.isValid(n)?`Choose date, selected date is ${t??e.format(n,"fullDate")}`:"Choose date",openTimePickerDialogue:(n,e,t)=>t||n!==null&&e.isValid(n)?`Choose time, selected time is ${t??e.format(n,"fullTime")}`:"Choose time",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:n=>"Y".repeat(n.digitAmount),fieldMonthPlaceholder:n=>n.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:n=>n.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},R0=Jm;E0(Jm);const hr=()=>{const n=x.useContext(Sc);if(n===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(n.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=x.useMemo(()=>O({},R0,n.localeText),[n.localeText]);return x.useMemo(()=>O({},n,{localeText:e}),[n,e])},$e=()=>hr().utils,Ri=()=>hr().defaultDates,Wo=n=>{const e=$e(),t=x.useRef();return t.current===void 0&&(t.current=e.date(void 0,n)),t.current},bn=()=>hr().localeText,N0=ot(y.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),F0=ot(y.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),j0=ot(y.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),_0=ot(y.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");ot(y.jsxs(x.Fragment,{children:[y.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),y.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");ot(y.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");ot(y.jsxs(x.Fragment,{children:[y.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),y.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const L0=ot(y.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function $0(n){return Ye("MuiPickersArrowSwitcher",n)}Je("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const V0=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],B0=["ownerState"],z0=["ownerState"],q0=le("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex"}),H0=le("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(n,e)=>e.spacer})(({theme:n})=>({width:n.spacing(3)})),yd=le(Jr,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(n,e)=>e.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),W0=n=>{const{classes:e}=n;return Ke({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},$0,e)},U0=x.forwardRef(function(e,t){const r=vn(),i=Le({props:e,name:"MuiPickersArrowSwitcher"}),{children:o,className:s,slots:a,slotProps:l,isNextDisabled:c,isNextHidden:u,onGoToNext:d,nextLabel:p,isPreviousDisabled:h,isPreviousHidden:f,onGoToPrevious:m,previousLabel:g,labelId:v}=i,b=ve(i,V0),S=i,C=W0(S),M={isDisabled:c,isHidden:u,goTo:d,label:p},I={isDisabled:h,isHidden:f,goTo:m,label:g},A=(a==null?void 0:a.previousIconButton)??yd,T=Ne({elementType:A,externalSlotProps:l==null?void 0:l.previousIconButton,additionalProps:{size:"medium",title:I.label,"aria-label":I.label,disabled:I.isDisabled,edge:"end",onClick:I.goTo},ownerState:O({},S,{hidden:I.isHidden}),className:_e(C.button,C.previousIconButton)}),E=(a==null?void 0:a.nextIconButton)??yd,F=Ne({elementType:E,externalSlotProps:l==null?void 0:l.nextIconButton,additionalProps:{size:"medium",title:M.label,"aria-label":M.label,disabled:M.isDisabled,edge:"start",onClick:M.goTo},ownerState:O({},S,{hidden:M.isHidden}),className:_e(C.button,C.nextIconButton)}),D=(a==null?void 0:a.leftArrowIcon)??F0,R=Ne({elementType:D,externalSlotProps:l==null?void 0:l.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:S,className:C.leftArrowIcon}),_=ve(R,B0),P=(a==null?void 0:a.rightArrowIcon)??j0,k=Ne({elementType:P,externalSlotProps:l==null?void 0:l.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:S,className:C.rightArrowIcon}),w=ve(k,z0);return y.jsxs(q0,O({ref:t,className:_e(C.root,s),ownerState:S},b,{children:[y.jsx(A,O({},T,{children:r?y.jsx(P,O({},w)):y.jsx(D,O({},_))})),o?y.jsx(mt,{variant:"subtitle1",component:"span",id:v,children:o}):y.jsx(H0,{className:C.spacer,ownerState:S}),y.jsx(E,O({},F,{children:r?y.jsx(D,O({},_)):y.jsx(P,O({},w))}))]}))}),ri=(n,e)=>n.length!==e.length?!1:e.every(t=>n.includes(t)),K0=({openTo:n,defaultOpenTo:e,views:t,defaultViews:r})=>{const i=t??r;let o;if(n!=null)o=n;else if(i.includes(e))o=e;else if(i.length>0)o=i[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:i,openTo:o}},Y0=["hours","minutes","seconds"],G0=n=>Y0.includes(n),vd=(n,e)=>e.getHours(n)*3600+e.getMinutes(n)*60+e.getSeconds(n),J0=(n,e)=>(t,r)=>n?e.isAfter(t,r):vd(t,e)>vd(r,e);function Zm({onChange:n,onViewChange:e,openTo:t,view:r,views:i,autoFocus:o,focusedView:s,onFocusedViewChange:a}){const l=x.useRef(t),c=x.useRef(i),u=x.useRef(i.includes(t)?t:i[0]),[d,p]=ar({name:"useViews",state:"view",controlled:r,default:u.current}),h=x.useRef(o?d:null),[f,m]=ar({name:"useViews",state:"focusedView",controlled:s,default:h.current});x.useEffect(()=>{(l.current&&l.current!==t||c.current&&c.current.some(A=>!i.includes(A)))&&(p(i.includes(t)?t:i[0]),c.current=i,l.current=t)},[t,p,d,i]);const g=i.indexOf(d),v=i[g-1]??null,b=i[g+1]??null,S=fe((A,T)=>{m(T?A:E=>A===E?null:E),a==null||a(A,T)}),C=fe(A=>{S(A,!0),A!==d&&(p(A),e&&e(A))}),M=fe(()=>{b&&C(b)}),I=fe((A,T,E)=>{const F=T==="finish",D=E?i.indexOf(E)<i.length-1:!!b;if(n(A,F&&D?"partial":T,E),E&&E!==d){const _=i[i.indexOf(E)+1];_&&C(_)}else F&&M()});return{view:d,setView:C,focusedView:f,setFocusedView:S,nextView:b,previousView:v,defaultView:i.includes(t)?t:i[0],goToNextView:M,setValueAndGoToNextView:I}}function Z0(n,{disableFuture:e,maxDate:t,timezone:r}){const i=$e();return x.useMemo(()=>{const o=i.date(void 0,r),s=i.startOfMonth(e&&i.isBefore(o,t)?o:t);return!i.isAfter(s,n)},[e,t,n,i,r])}function X0(n,{disablePast:e,minDate:t,timezone:r}){const i=$e();return x.useMemo(()=>{const o=i.date(void 0,r),s=i.startOfMonth(e&&i.isAfter(o,t)?o:t);return!i.isBefore(s,n)},[e,t,n,i,r])}const ki=36,Uo=2,Ko=320,Q0=280,Zc=336,ek=le("div")({overflow:"hidden",width:Ko,maxHeight:Zc,display:"flex",flexDirection:"column",margin:"0 auto"}),Co=(n,e,t)=>{let r=e;return r=n.setHours(r,n.getHours(t)),r=n.setMinutes(r,n.getMinutes(t)),r=n.setSeconds(r,n.getSeconds(t)),r=n.setMilliseconds(r,n.getMilliseconds(t)),r},mi=({date:n,disableFuture:e,disablePast:t,maxDate:r,minDate:i,isDateDisabled:o,utils:s,timezone:a})=>{const l=Co(s,s.date(void 0,a),n);t&&s.isBefore(i,l)&&(i=l),e&&s.isAfter(r,l)&&(r=l);let c=n,u=n;for(s.isBefore(n,i)&&(c=i,u=null),s.isAfter(n,r)&&(u&&(u=r),c=null);c||u;){if(c&&s.isAfter(c,r)&&(c=null),u&&s.isBefore(u,i)&&(u=null),c){if(!o(c))return c;c=s.addDays(c,1)}if(u){if(!o(u))return u;u=s.addDays(u,-1)}}return null},tk=(n,e)=>e==null||!n.isValid(e)?null:e,Bt=(n,e,t)=>e==null||!n.isValid(e)?t:e,nk=(n,e,t)=>!n.isValid(e)&&e!=null&&!n.isValid(t)&&t!=null?!0:n.isEqual(e,t),Xc=(n,e)=>{const r=[n.startOfYear(e)];for(;r.length<12;){const i=r[r.length-1];r.push(n.addMonths(i,1))}return r},Xm=(n,e,t)=>t==="date"?n.startOfDay(n.date(void 0,e)):n.date(void 0,e),rk=["year","month","day"],bd=n=>rk.includes(n),Qc=(n,{format:e,views:t},r)=>{if(e!=null)return e;const i=n.formats;return ri(t,["year"])?i.year:ri(t,["month"])?i.month:ri(t,["day"])?i.dayOfMonth:ri(t,["month","year"])?`${i.month} ${i.year}`:ri(t,["day","month"])?`${i.month} ${i.dayOfMonth}`:r?/en/.test(n.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},ik=(n,e)=>{const t=n.startOfWeek(e);return[0,1,2,3,4,5,6].map(r=>n.addDays(t,r))},eu=({timezone:n,value:e,defaultValue:t,onChange:r,valueManager:i})=>{const o=$e(),s=x.useRef(t),a=e??s.current??i.emptyValue,l=x.useMemo(()=>i.getTimezone(o,a),[o,i,a]),c=fe(h=>l==null?h:i.setTimezone(o,l,h)),u=n??l??"default",d=x.useMemo(()=>i.setTimezone(o,u,a),[i,o,u,a]),p=fe((h,...f)=>{const m=c(h);r==null||r(m,...f)});return{value:d,handleValueChange:p,timezone:u}},tu=({name:n,timezone:e,value:t,defaultValue:r,onChange:i,valueManager:o})=>{const[s,a]=ar({name:n,state:"value",controlled:t,default:r??o.emptyValue}),l=fe((c,...u)=>{a(c),i==null||i(c,...u)});return eu({timezone:e,value:s,defaultValue:void 0,onChange:l,valueManager:o})},nn={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},ok=n=>Math.max(...n.map(e=>nn[e.type]??1)),ii=(n,e,t)=>{if(e===nn.year)return n.startOfYear(t);if(e===nn.month)return n.startOfMonth(t);if(e===nn.day)return n.startOfDay(t);let r=t;return e<nn.minutes&&(r=n.setMinutes(r,0)),e<nn.seconds&&(r=n.setSeconds(r,0)),e<nn.milliseconds&&(r=n.setMilliseconds(r,0)),r},sk=({props:n,utils:e,granularity:t,timezone:r,getTodayDate:i})=>{let o=i?i():ii(e,t,Xm(e,r));n.minDate!=null&&e.isAfterDay(n.minDate,o)&&(o=ii(e,t,n.minDate)),n.maxDate!=null&&e.isBeforeDay(n.maxDate,o)&&(o=ii(e,t,n.maxDate));const s=J0(n.disableIgnoringDatePartForTimeValidation??!1,e);return n.minTime!=null&&s(n.minTime,o)&&(o=ii(e,t,n.disableIgnoringDatePartForTimeValidation?n.minTime:Co(e,o,n.minTime))),n.maxTime!=null&&s(o,n.maxTime)&&(o=ii(e,t,n.disableIgnoringDatePartForTimeValidation?n.maxTime:Co(e,o,n.maxTime))),o},Qm=(n,e)=>{const t=n.formatTokenMap[e];if(t==null)throw new Error([`MUI X: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof t=="string"?{type:t,contentType:t==="meridiem"?"letter":"digit",maxLength:void 0}:{type:t.sectionType,contentType:t.contentType,maxLength:t.maxLength}},ak=n=>{switch(n){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},Yo=(n,e,t)=>{const r=[],i=n.date(void 0,e),o=n.startOfWeek(i),s=n.endOfWeek(i);let a=o;for(;n.isBefore(a,s);)r.push(a),a=n.addDays(a,1);return r.map(l=>n.formatByString(l,t))},eg=(n,e,t,r)=>{switch(t){case"month":return Xc(n,n.date(void 0,e)).map(i=>n.formatByString(i,r));case"weekDay":return Yo(n,e,r);case"meridiem":{const i=n.date(void 0,e);return[n.startOfDay(i),n.endOfDay(i)].map(o=>n.formatByString(o,r))}default:return[]}},xd="s",lk=["0","1","2","3","4","5","6","7","8","9"],ck=n=>{const e=n.date(void 0);return n.formatByString(n.setSeconds(e,0),xd)==="0"?lk:Array.from({length:10}).map((r,i)=>n.formatByString(n.setSeconds(e,i),xd))},lr=(n,e)=>{if(e[0]==="0")return n;const t=[];let r="";for(let i=0;i<n.length;i+=1){r+=n[i];const o=e.indexOf(r);o>-1&&(t.push(o.toString()),r="")}return t.join("")},nu=(n,e)=>e[0]==="0"?n:n.split("").map(t=>e[Number(t)]).join(""),kd=(n,e)=>{const t=lr(n,e);return t!==" "&&!Number.isNaN(Number(t))},tg=(n,e)=>{let t=n;for(t=Number(t).toString();t.length<e;)t=`0${t}`;return t},ng=(n,e,t,r,i)=>{if(i.type==="day"&&i.contentType==="digit-with-letter"){const s=n.setDate(t.longestMonth,e);return n.formatByString(s,i.format)}let o=e.toString();return i.hasLeadingZerosInInput&&(o=tg(o,i.maxLength)),nu(o,r)},uk=(n,e,t,r,i,o,s,a)=>{const l=ak(r),c=r==="Home",u=r==="End",d=t.value===""||c||u,p=()=>{const f=i[t.type]({currentDate:s,format:t.format,contentType:t.contentType}),m=S=>ng(n,S,f,o,t),g=t.type==="minutes"&&(a!=null&&a.minutesStep)?a.minutesStep:1;let b=parseInt(lr(t.value,o),10)+l*g;if(d){if(t.type==="year"&&!u&&!c)return n.formatByString(n.date(void 0,e),t.format);l>0||c?b=f.minimum:b=f.maximum}return b%g!==0&&((l<0||c)&&(b+=g-(g+b)%g),(l>0||u)&&(b-=b%g)),b>f.maximum?m(f.minimum+(b-f.maximum-1)%(f.maximum-f.minimum+1)):b<f.minimum?m(f.maximum-(f.minimum-b-1)%(f.maximum-f.minimum+1)):m(b)},h=()=>{const f=eg(n,e,t.type,t.format);if(f.length===0)return t.value;if(d)return l>0||c?f[0]:f[f.length-1];const v=((f.indexOf(t.value)+l)%f.length+f.length)%f.length;return f[v]};return t.contentType==="digit"||t.contentType==="digit-with-letter"?p():h()},ru=(n,e,t)=>{let r=n.value||n.placeholder;const i=e==="non-input"?n.hasLeadingZerosInFormat:n.hasLeadingZerosInInput;return e==="non-input"&&n.hasLeadingZerosInInput&&!n.hasLeadingZerosInFormat&&(r=Number(lr(r,t)).toString()),["input-rtl","input-ltr"].includes(e)&&n.contentType==="digit"&&!i&&r.length===1&&(r=`${r}â€Ž`),e==="input-rtl"&&(r=`â¨${r}â©`),r},Sd=(n,e,t,r)=>n.formatByString(n.parse(e,t),r),rg=(n,e,t)=>n.formatByString(n.date(void 0,e),t).length===4,ig=(n,e,t,r,i)=>{if(t!=="digit")return!1;const o=n.date(void 0,e);switch(r){case"year":return rg(n,e,i)?n.formatByString(n.setYear(o,1),i)==="0001":n.formatByString(n.setYear(o,2001),i)==="01";case"month":return n.formatByString(n.startOfYear(o),i).length>1;case"day":return n.formatByString(n.startOfMonth(o),i).length>1;case"weekDay":return n.formatByString(n.startOfWeek(o),i).length>1;case"hours":return n.formatByString(n.setHours(o,1),i).length>1;case"minutes":return n.formatByString(n.setMinutes(o,1),i).length>1;case"seconds":return n.formatByString(n.setSeconds(o,1),i).length>1;default:throw new Error("Invalid section type")}},dk=(n,e,t)=>{const r=e.some(l=>l.type==="day"),i=[],o=[];for(let l=0;l<e.length;l+=1){const c=e[l];r&&c.type==="weekDay"||(i.push(c.format),o.push(ru(c,"non-input",t)))}const s=i.join(" "),a=o.join(" ");return n.parse(a,s)},pk=n=>n.map(e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`).join(""),fk=(n,e,t)=>{const i=n.map(o=>{const s=ru(o,t?"input-rtl":"input-ltr",e);return`${o.startSeparator}${s}${o.endSeparator}`}).join("");return t?`â¦${i}â©`:i},hk=(n,e,t)=>{const r=n.date(void 0,t),i=n.endOfYear(r),o=n.endOfDay(r),{maxDaysInMonth:s,longestMonth:a}=Xc(n,r).reduce((l,c)=>{const u=n.getDaysInMonth(c);return u>l.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:c}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:rg(n,t,l)?9999:99}),month:()=>({minimum:1,maximum:n.getMonth(i)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&n.isValid(l)?n.getDaysInMonth(l):s,longestMonth:a}),weekDay:({format:l,contentType:c})=>{if(c==="digit"){const u=Yo(n,t,l).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const c=n.getHours(o);return lr(n.formatByString(n.endOfDay(r),l),e)!==c.toString()?{minimum:1,maximum:Number(lr(n.formatByString(n.startOfDay(r),l),e))}:{minimum:0,maximum:c}},minutes:()=>({minimum:0,maximum:n.getMinutes(o)}),seconds:()=>({minimum:0,maximum:n.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},mk=(n,e,t,r,i)=>{switch(t.type){case"year":return n.setYear(i,n.getYear(r));case"month":return n.setMonth(i,n.getMonth(r));case"weekDay":{const o=Yo(n,e,t.format),s=n.formatByString(r,t.format),a=o.indexOf(s),c=o.indexOf(t.value)-a;return n.addDays(r,c)}case"day":return n.setDate(i,n.getDate(r));case"meridiem":{const o=n.getHours(r)<12,s=n.getHours(i);return o&&s>=12?n.addHours(i,-12):!o&&s<12?n.addHours(i,12):i}case"hours":return n.setHours(i,n.getHours(r));case"minutes":return n.setMinutes(i,n.getMinutes(r));case"seconds":return n.setSeconds(i,n.getSeconds(r));default:return i}},wd={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},Cd=(n,e,t,r,i,o)=>[...r].sort((s,a)=>wd[s.type]-wd[a.type]).reduce((s,a)=>!o||a.modified?mk(n,e,a,t,s):s,i),gk=()=>navigator.userAgent.toLowerCase().includes("android"),yk=(n,e)=>{const t={};if(!e)return n.forEach((l,c)=>{const u=c===0?null:c-1,d=c===n.length-1?null:c+1;t[c]={leftIndex:u,rightIndex:d}}),{neighbors:t,startIndex:0,endIndex:n.length-1};const r={},i={};let o=0,s=0,a=n.length-1;for(;a>=0;){s=n.findIndex((l,c)=>{var u;return c>=o&&((u=l.endSeparator)==null?void 0:u.includes(" "))&&l.endSeparator!==" / "}),s===-1&&(s=n.length-1);for(let l=s;l>=o;l-=1)i[l]=a,r[a]=l,a-=1;o=s+1}return n.forEach((l,c)=>{const u=i[c],d=u===0?null:r[u-1],p=u===n.length-1?null:r[u+1];t[c]={leftIndex:d,rightIndex:p}}),{neighbors:t,startIndex:r[0],endIndex:r[n.length-1]}},wc=(n,e)=>n==null?null:n==="all"?"all":typeof n=="string"?e.findIndex(t=>t.type===n):n,vk=(n,e)=>{if(n.value)switch(n.type){case"month":{if(n.contentType==="digit")return e.format(e.setMonth(e.date(),Number(n.value)-1),"month");const t=e.parse(n.value,n.format);return t?e.format(t,"month"):void 0}case"day":return n.contentType==="digit"?e.format(e.setDate(e.startOfYear(e.date()),Number(n.value)),"dayOfMonthFull"):n.value;case"weekDay":return;default:return}},bk=(n,e)=>{if(n.value)switch(n.type){case"weekDay":return n.contentType==="letter"?void 0:Number(n.value);case"meridiem":{const t=e.parse(`01:00 ${n.value}`,`${e.formats.hours12h}:${e.formats.minutes} ${n.format}`);return t?e.getHours(t)>=12?1:0:void 0}case"day":return n.contentType==="digit-with-letter"?parseInt(n.value,10):Number(n.value);case"month":{if(n.contentType==="digit")return Number(n.value);const t=e.parse(n.value,n.format);return t?e.getMonth(t)+1:void 0}default:return n.contentType!=="letter"?Number(n.value):void 0}},xk=["value","referenceDate"],on={emptyValue:null,getTodayValue:Xm,getInitialReferenceValue:n=>{let{value:e,referenceDate:t}=n,r=ve(n,xk);return e!=null&&r.utils.isValid(e)?e:t??sk(r)},cleanValue:tk,areValuesEqual:nk,isSameError:(n,e)=>n===e,hasError:n=>n!=null,defaultErrorState:null,getTimezone:(n,e)=>e==null||!n.isValid(e)?null:n.getTimezone(e),setTimezone:(n,e,t)=>t==null?null:n.setTimezone(t,e)},kk={updateReferenceValue:(n,e,t)=>e==null||!n.isValid(e)?t:e,getSectionsFromValue:(n,e,t,r)=>!n.isValid(e)&&!!t?t:r(e),getV7HiddenInputValueFromSections:pk,getV6InputValueFromSections:fk,getActiveDateManager:(n,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:t=>t,getNewValuesFromNewActiveDate:t=>({value:t,referenceValue:t==null||!n.isValid(t)?e.referenceValue:t})}),parseValueStr:(n,e,t)=>t(n.trim(),e)};function Sk(n){return Ye("MuiPickersDay",n)}const Un=Je("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),wk=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],Ck=n=>{const{selected:e,disableMargin:t,disableHighlightToday:r,today:i,disabled:o,outsideCurrentMonth:s,showDaysOutsideCurrentMonth:a,classes:l}=n,c=s&&!a;return Ke({root:["root",e&&!c&&"selected",o&&"disabled",!t&&"dayWithMargin",!r&&i&&"today",s&&a&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Sk,l)},og=({theme:n})=>O({},n.typography.caption,{width:ki,height:ki,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:n.transitions.create("background-color",{duration:n.transitions.duration.short}),color:(n.vars||n).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Qe(n.palette.primary.main,n.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.focusOpacity})`:Qe(n.palette.primary.main,n.palette.action.focusOpacity),[`&.${Un.selected}`]:{willChange:"background-color",backgroundColor:(n.vars||n).palette.primary.dark}},[`&.${Un.selected}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.main,fontWeight:n.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(n.vars||n).palette.primary.dark}},[`&.${Un.disabled}:not(.${Un.selected})`]:{color:(n.vars||n).palette.text.disabled},[`&.${Un.disabled}&.${Un.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Uo}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(n.vars||n).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${Un.selected})`]:{border:`1px solid ${(n.vars||n).palette.text.secondary}`}}}]}),sg=(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableMargin&&e.dayWithMargin,!t.disableHighlightToday&&t.today&&e.today,!t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,t.outsideCurrentMonth&&!t.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},Mk=le(Rm,{name:"MuiPickersDay",slot:"Root",overridesResolver:sg})(og),Dk=le("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:sg})(({theme:n})=>O({},og({theme:n}),{opacity:0,pointerEvents:"none"})),oi=()=>{},Tk=x.forwardRef(function(e,t){const r=Le({props:e,name:"MuiPickersDay"}),{autoFocus:i=!1,className:o,day:s,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:p,onFocus:h=oi,onBlur:f=oi,onKeyDown:m=oi,onMouseDown:g=oi,onMouseEnter:v=oi,outsideCurrentMonth:b,selected:S=!1,showDaysOutsideCurrentMonth:C=!1,children:M,today:I=!1}=r,A=ve(r,wk),T=O({},r,{autoFocus:i,disabled:a,disableHighlightToday:l,disableMargin:c,selected:S,showDaysOutsideCurrentMonth:C,today:I}),E=Ck(T),F=$e(),D=x.useRef(null),R=Nt(D,t);gn(()=>{i&&!a&&!u&&!b&&D.current.focus()},[i,a,u,b]);const _=k=>{g(k),b&&k.preventDefault()},P=k=>{a||p(s),b&&k.currentTarget.focus(),d&&d(k)};return b&&!C?y.jsx(Dk,{className:_e(E.root,E.hiddenDaySpacingFiller,o),ownerState:T,role:A.role}):y.jsx(Mk,O({className:_e(E.root,o),ref:R,centerRipple:!0,disabled:a,tabIndex:S?0:-1,onKeyDown:k=>m(k,s),onFocus:k=>h(k,s),onBlur:k=>f(k,s),onMouseEnter:k=>v(k,s),onClick:P,onMouseDown:_},A,{ownerState:T,children:M||F.format(s,"dayOfMonth")}))}),Ok=x.memo(Tk),Ni=({props:n,value:e,timezone:t,adapter:r})=>{if(e===null)return null;const{shouldDisableDate:i,shouldDisableMonth:o,shouldDisableYear:s,disablePast:a,disableFuture:l}=n,c=r.utils.date(void 0,t),u=Bt(r.utils,n.minDate,r.defaultDates.minDate),d=Bt(r.utils,n.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(e):return"invalidDate";case!!(i&&i(e)):return"shouldDisableDate";case!!(o&&o(e)):return"shouldDisableMonth";case!!(s&&s(e)):return"shouldDisableYear";case!!(l&&r.utils.isAfterDay(e,c)):return"disableFuture";case!!(a&&r.utils.isBeforeDay(e,c)):return"disablePast";case!!(u&&r.utils.isBeforeDay(e,u)):return"minDate";case!!(d&&r.utils.isAfterDay(e,d)):return"maxDate";default:return null}};Ni.valueManager=on;const ag=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Ik=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Pk=["minDateTime","maxDateTime"],Ak=[...ag,...Ik,...Pk],lg=n=>Ak.reduce((e,t)=>(n.hasOwnProperty(t)&&(e[t]=n[t]),e),{});function cg(n){const{props:e,validator:t,value:r,timezone:i,onError:o}=n,s=hr(),a=x.useRef(t.valueManager.defaultErrorState),l=t({adapter:s,value:r,timezone:i,props:e}),c=t.valueManager.hasError(l);x.useEffect(()=>{o&&!t.valueManager.isSameError(l,a.current)&&o(l,r),a.current=l},[t,o,l,r]);const u=fe(d=>t({adapter:s,value:d,timezone:i,props:e}));return{validationError:l,hasValidationError:c,getValidationErrorForNewValue:u}}const Ek=({utils:n,format:e})=>{let t=10,r=e,i=n.expandFormat(e);for(;i!==r;)if(r=i,i=n.expandFormat(r),t-=1,t<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return i},Rk=({utils:n,expandedFormat:e})=>{const t=[],{start:r,end:i}=n.escapedCharacters,o=new RegExp(`(\\${r}[^\\${i}]*\\${i})+`,"g");let s=null;for(;s=o.exec(e);)t.push({start:s.index,end:o.lastIndex-1});return t},Nk=(n,e,t,r,i)=>{switch(r.type){case"year":return t.fieldYearPlaceholder({digitAmount:n.formatByString(n.date(void 0,e),i).length,format:i});case"month":return t.fieldMonthPlaceholder({contentType:r.contentType,format:i});case"day":return t.fieldDayPlaceholder({format:i});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:r.contentType,format:i});case"hours":return t.fieldHoursPlaceholder({format:i});case"minutes":return t.fieldMinutesPlaceholder({format:i});case"seconds":return t.fieldSecondsPlaceholder({format:i});case"meridiem":return t.fieldMeridiemPlaceholder({format:i});default:return i}},Fk=({utils:n,timezone:e,date:t,shouldRespectLeadingZeros:r,localeText:i,localizedDigits:o,now:s,token:a,startSeparator:l})=>{if(a==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const c=Qm(n,a),u=ig(n,e,c.contentType,c.type,a),d=r?u:c.contentType==="digit",p=t!=null&&n.isValid(t);let h=p?n.formatByString(t,a):"",f=null;if(d)if(u)f=h===""?n.formatByString(s,a).length:h.length;else{if(c.maxLength==null)throw new Error(`MUI X: The token ${a} should have a 'maxDigitNumber' property on it's adapter`);f=c.maxLength,p&&(h=nu(tg(lr(h,o),f),o))}return O({},c,{format:a,maxLength:f,value:h,placeholder:Nk(n,e,i,c,a),hasLeadingZerosInFormat:u,hasLeadingZerosInInput:d,startSeparator:l,endSeparator:"",modified:!1})},jk=n=>{var h;const{utils:e,expandedFormat:t,escapedParts:r}=n,i=e.date(void 0),o=[];let s="";const a=Object.keys(e.formatTokenMap).sort((f,m)=>m.length-f.length),l=/^([a-zA-Z]+)/,c=new RegExp(`^(${a.join("|")})*$`),u=new RegExp(`^(${a.join("|")})`),d=f=>r.find(m=>m.start<=f&&m.end>=f);let p=0;for(;p<t.length;){const f=d(p),m=f!=null,g=(h=l.exec(t.slice(p)))==null?void 0:h[1];if(!m&&g!=null&&c.test(g)){let v=g;for(;v.length>0;){const b=u.exec(v)[1];v=v.slice(b.length),o.push(Fk(O({},n,{now:i,token:b,startSeparator:s}))),s=""}p+=g.length}else{const v=t[p];m&&(f==null?void 0:f.start)===p||(f==null?void 0:f.end)===p||(o.length===0?s+=v:o[o.length-1].endSeparator+=v),p+=1}}return o.length===0&&s.length>0&&o.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:s,endSeparator:"",modified:!1}),o},_k=({isRtl:n,formatDensity:e,sections:t})=>t.map(r=>{const i=o=>{let s=o;return n&&s!==null&&s.includes(" ")&&(s=`â©${s}â¦`),e==="spacious"&&["/",".","-"].includes(s)&&(s=` ${s} `),s};return r.startSeparator=i(r.startSeparator),r.endSeparator=i(r.endSeparator),r}),Md=n=>{let e=Ek(n);n.isRtl&&n.enableAccessibleFieldDOMStructure&&(e=e.split(" ").reverse().join(" "));const t=Rk(O({},n,{expandedFormat:e})),r=jk(O({},n,{expandedFormat:e,escapedParts:t}));return _k(O({},n,{sections:r}))},Lk=n=>{const e=$e(),t=bn(),r=hr(),i=vn(),{valueManager:o,fieldValueManager:s,valueType:a,validator:l,internalProps:c,internalProps:{value:u,defaultValue:d,referenceDate:p,onChange:h,format:f,formatDensity:m="dense",selectedSections:g,onSelectedSectionsChange:v,shouldRespectLeadingZeros:b=!1,timezone:S,enableAccessibleFieldDOMStructure:C=!1}}=n,{timezone:M,value:I,handleValueChange:A}=eu({timezone:S,value:u,defaultValue:d,onChange:h,valueManager:o}),T=x.useMemo(()=>ck(e),[e]),E=x.useMemo(()=>hk(e,T,M),[e,T,M]),F=x.useCallback((B,ne=null)=>s.getSectionsFromValue(e,B,ne,Q=>Md({utils:e,timezone:M,localeText:t,localizedDigits:T,format:f,date:Q,formatDensity:m,shouldRespectLeadingZeros:b,enableAccessibleFieldDOMStructure:C,isRtl:i})),[s,f,t,T,i,b,e,m,M,C]),[D,R]=x.useState(()=>{const B=F(I),ne={sections:B,value:I,referenceValue:o.emptyValue,tempValueStrAndroid:null},Q=ok(B),q=o.getInitialReferenceValue({referenceDate:p,value:I,utils:e,props:c,granularity:Q,timezone:M});return O({},ne,{referenceValue:q})}),[_,P]=ar({controlled:g,default:null,name:"useField",state:"selectedSections"}),k=B=>{P(B),v==null||v(B)},w=x.useMemo(()=>wc(_,D.sections),[_,D.sections]),j=w==="all"?0:w,L=({value:B,referenceValue:ne,sections:Q})=>{if(R(te=>O({},te,{sections:Q,value:B,referenceValue:ne,tempValueStrAndroid:null})),o.areValuesEqual(e,D.value,B))return;const q={validationError:l({adapter:r,value:B,timezone:M,props:c})};A(B,q)},W=(B,ne)=>{const Q=[...D.sections];return Q[B]=O({},Q[B],{value:ne,modified:!0}),Q},J=()=>{L({value:o.emptyValue,referenceValue:D.referenceValue,sections:F(o.emptyValue)})},X=()=>{if(j==null)return;const B=D.sections[j],ne=s.getActiveDateManager(e,D,B),q=ne.getSections(D.sections).filter(ee=>ee.value!=="").length===(B.value===""?0:1),te=W(j,""),se=q?null:e.getInvalidDate(),oe=ne.getNewValuesFromNewActiveDate(se);L(O({},oe,{sections:te}))},ce=B=>{const ne=(te,se)=>{const oe=e.parse(te,f);if(oe==null||!e.isValid(oe))return null;const ee=Md({utils:e,timezone:M,localeText:t,localizedDigits:T,format:f,date:oe,formatDensity:m,shouldRespectLeadingZeros:b,enableAccessibleFieldDOMStructure:C,isRtl:i});return Cd(e,M,oe,ee,se,!1)},Q=s.parseValueStr(B,D.referenceValue,ne),q=s.updateReferenceValue(e,Q,D.referenceValue);L({value:Q,referenceValue:q,sections:F(Q,D.sections)})},me=({activeSection:B,newSectionValue:ne,shouldGoToNextSection:Q})=>{Q&&j<D.sections.length-1&&k(j+1);const q=s.getActiveDateManager(e,D,B),te=W(j,ne),se=q.getSections(te),oe=dk(e,se,T);let ee,$;if(oe!=null&&e.isValid(oe)){const re=Cd(e,M,oe,se,q.referenceDate,!0);ee=q.getNewValuesFromNewActiveDate(re),$=!0}else ee=q.getNewValuesFromNewActiveDate(oe),$=(oe!=null&&!e.isValid(oe))!=(q.date!=null&&!e.isValid(q.date));return $?L(O({},ee,{sections:te})):R(re=>O({},re,ee,{sections:te,tempValueStrAndroid:null}))},Y=B=>R(ne=>O({},ne,{tempValueStrAndroid:B}));return x.useEffect(()=>{const B=F(D.value);R(ne=>O({},ne,{sections:B}))},[f,e.locale,i]),x.useEffect(()=>{let B;o.areValuesEqual(e,D.value,I)?B=o.getTimezone(e,D.value)!==o.getTimezone(e,I):B=!0,B&&R(ne=>O({},ne,{value:I,referenceValue:s.updateReferenceValue(e,I,ne.referenceValue),sections:F(I)}))},[I]),{state:D,activeSectionIndex:j,parsedSelectedSections:w,setSelectedSections:k,clearValue:J,clearActiveSection:X,updateSectionValue:me,updateValueFromValueStr:ce,setTempAndroidValueStr:Y,getSectionsFromValue:F,sectionsValueBoundaries:E,localizedDigits:T,timezone:M}},$k=5e3,Sr=n=>n.saveQuery!=null,Vk=({sections:n,updateSectionValue:e,sectionsValueBoundaries:t,localizedDigits:r,setTempAndroidValueStr:i,timezone:o})=>{const s=$e(),[a,l]=x.useState(null),c=fe(()=>l(null));x.useEffect(()=>{var f;a!=null&&((f=n[a.sectionIndex])==null?void 0:f.type)!==a.sectionType&&c()},[n,a,c]),x.useEffect(()=>{if(a!=null){const f=setTimeout(()=>c(),$k);return()=>{clearTimeout(f)}}return()=>{}},[a,c]);const u=({keyPressed:f,sectionIndex:m},g,v)=>{const b=f.toLowerCase(),S=n[m];if(a!=null&&(!v||v(a.value))&&a.sectionIndex===m){const M=`${a.value}${b}`,I=g(M,S);if(!Sr(I))return l({sectionIndex:m,value:M,sectionType:S.type}),I}const C=g(b,S);return Sr(C)&&!C.saveQuery?(c(),null):(l({sectionIndex:m,value:b,sectionType:S.type}),Sr(C)?null:C)},d=f=>{const m=(b,S,C)=>{const M=S.filter(I=>I.toLowerCase().startsWith(C));return M.length===0?{saveQuery:!1}:{sectionValue:M[0],shouldGoToNextSection:M.length===1}},g=(b,S,C,M)=>{const I=A=>eg(s,o,S.type,A);if(S.contentType==="letter")return m(S.format,I(S.format),b);if(C&&M!=null&&Qm(s,C).contentType==="letter"){const A=I(C),T=m(C,A,b);return Sr(T)?{saveQuery:!1}:O({},T,{sectionValue:M(T.sectionValue,A)})}return{saveQuery:!1}};return u(f,(b,S)=>{switch(S.type){case"month":{const C=M=>Sd(s,M,s.formats.month,S.format);return g(b,S,s.formats.month,C)}case"weekDay":{const C=(M,I)=>I.indexOf(M).toString();return g(b,S,s.formats.weekday,C)}case"meridiem":return g(b,S);default:return{saveQuery:!1}}})},p=f=>{const m=(v,b)=>{const S=lr(v,r),C=Number(S),M=t[b.type]({currentDate:null,format:b.format,contentType:b.contentType});if(C>M.maximum)return{saveQuery:!1};if(C<M.minimum)return{saveQuery:!0};const I=C*10>M.maximum||S.length===M.maximum.toString().length;return{sectionValue:ng(s,C,M,r,b),shouldGoToNextSection:I}};return u(f,(v,b)=>{if(b.contentType==="digit"||b.contentType==="digit-with-letter")return m(v,b);if(b.type==="month"){const S=ig(s,o,"digit","month","MM"),C=m(v,{type:b.type,format:"MM",hasLeadingZerosInFormat:S,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Sr(C))return C;const M=Sd(s,C.sectionValue,"MM",b.format);return O({},C,{sectionValue:M})}if(b.type==="weekDay"){const S=m(v,b);if(Sr(S))return S;const C=Yo(s,o,b.format)[Number(S.sectionValue)-1];return O({},S,{sectionValue:C})}return{saveQuery:!1}},v=>kd(v,r))};return{applyCharacterEditing:fe(f=>{const m=n[f.sectionIndex],v=kd(f.keyPressed,r)?p(O({},f,{keyPressed:nu(f.keyPressed,r)})):d(f);if(v==null){i(null);return}e({activeSection:m,newSectionValue:v.sectionValue,shouldGoToNextSection:v.shouldGoToNextSection})}),resetCharacterQuery:c}};function Bk(n,e){return Array.isArray(e)?e.every(t=>n.indexOf(t)!==-1):n.indexOf(e)!==-1}const zk=(n,e)=>t=>{(t.key==="Enter"||t.key===" ")&&(n(t),t.preventDefault(),t.stopPropagation())},Et=(n=document)=>{const e=n.activeElement;return e?e.shadowRoot?Et(e.shadowRoot):e:null},qk="@media (pointer: fine)",Hk=n=>{const{internalProps:{disabled:e,readOnly:t=!1},forwardedProps:{sectionListRef:r,onBlur:i,onClick:o,onFocus:s,onInput:a,onPaste:l,focused:c,autoFocus:u=!1},fieldValueManager:d,applyCharacterEditing:p,resetCharacterQuery:h,setSelectedSections:f,parsedSelectedSections:m,state:g,clearActiveSection:v,clearValue:b,updateSectionValue:S,updateValueFromValueStr:C,sectionOrder:M,areAllSectionsEmpty:I,sectionsValueBoundaries:A}=n,T=x.useRef(null),E=Nt(r,T),F=bn(),D=$e(),R=Ei(),[_,P]=x.useState(!1),k=x.useMemo(()=>({syncSelectionToDOM:()=>{if(!T.current)return;const $=document.getSelection();if(!$)return;if(m==null){$.rangeCount>0&&T.current.getRoot().contains($.getRangeAt(0).startContainer)&&$.removeAllRanges(),_&&T.current.getRoot().blur();return}if(!T.current.getRoot().contains(Et(document)))return;const re=new window.Range;let K;m==="all"?K=T.current.getRoot():g.sections[m].type==="empty"?K=T.current.getSectionContainer(m):K=T.current.getSectionContent(m),re.selectNodeContents(K),K.focus(),$.removeAllRanges(),$.addRange(re)},getActiveSectionIndexFromDOM:()=>{const $=Et(document);return!$||!T.current||!T.current.getRoot().contains($)?null:T.current.getSectionIndexFromDOMElement($)},focusField:($=0)=>{if(!T.current)return;const re=wc($,g.sections);P(!0),T.current.getSectionContent(re).focus()},setSelectedSections:$=>{if(!T.current)return;const re=wc($,g.sections);P((re==="all"?0:re)!==null),f($)},isFieldFocused:()=>{const $=Et(document);return!!T.current&&T.current.getRoot().contains($)}}),[m,f,g.sections,_]),w=fe($=>{if(!T.current)return;const re=g.sections[$];T.current.getSectionContent($).innerHTML=re.value||re.placeholder,k.syncSelectionToDOM()}),j=fe(($,...re)=>{$.isDefaultPrevented()||!T.current||(P(!0),o==null||o($,...re),m==="all"?setTimeout(()=>{const K=document.getSelection().getRangeAt(0).startOffset;if(K===0){f(M.startIndex);return}let V=0,Z=0;for(;Z<K&&V<g.sections.length;){const U=g.sections[V];V+=1,Z+=`${U.startSeparator}${U.value||U.placeholder}${U.endSeparator}`.length}f(V-1)}):_?T.current.getRoot().contains($.target)||f(M.startIndex):(P(!0),f(M.startIndex)))}),L=fe($=>{if(a==null||a($),!T.current||m!=="all")return;const K=$.target.textContent??"";T.current.getRoot().innerHTML=g.sections.map(V=>`${V.startSeparator}${V.value||V.placeholder}${V.endSeparator}`).join(""),k.syncSelectionToDOM(),K.length===0||K.charCodeAt(0)===10?(h(),b(),f("all")):K.length>1?C(K):p({keyPressed:K,sectionIndex:0})}),W=fe($=>{if(l==null||l($),t||m!=="all"){$.preventDefault();return}const re=$.clipboardData.getData("text");$.preventDefault(),h(),C(re)}),J=fe((...$)=>{if(s==null||s(...$),_||!T.current)return;P(!0),T.current.getSectionIndexFromDOMElement(Et(document))!=null||f(M.startIndex)}),X=fe((...$)=>{i==null||i(...$),setTimeout(()=>{if(!T.current)return;const re=Et(document);!T.current.getRoot().contains(re)&&(P(!1),f(null))})}),ce=fe($=>re=>{re.isDefaultPrevented()||f($)}),me=fe($=>{$.preventDefault()}),Y=fe($=>()=>{f($)}),B=fe($=>{if($.preventDefault(),t||e||typeof m!="number")return;const re=g.sections[m],K=$.clipboardData.getData("text"),V=/^[a-zA-Z]+$/.test(K),Z=/^[0-9]+$/.test(K),U=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(K);re.contentType==="letter"&&V||re.contentType==="digit"&&Z||re.contentType==="digit-with-letter"&&U?(h(),S({activeSection:re,newSectionValue:K,shouldGoToNextSection:!0})):!V&&!Z&&(h(),C(K))}),ne=fe($=>{$.preventDefault(),$.dataTransfer.dropEffect="none"}),Q=fe($=>{if(!T.current)return;const re=$.target,K=re.textContent??"",V=T.current.getSectionIndexFromDOMElement(re),Z=g.sections[V];if(t||!T.current){w(V);return}if(K.length===0){if(Z.value===""){w(V);return}const U=$.nativeEvent.inputType;if(U==="insertParagraph"||U==="insertLineBreak"){w(V);return}h(),v();return}p({keyPressed:K,sectionIndex:V}),w(V)});gn(()=>{if(!(!_||!T.current)){if(m==="all")T.current.getRoot().focus();else if(typeof m=="number"){const $=T.current.getSectionContent(m);$&&$.focus()}}},[m,_]);const q=x.useMemo(()=>g.sections.reduce(($,re)=>($[re.type]=A[re.type]({currentDate:null,contentType:re.contentType,format:re.format}),$),{}),[A,g.sections]),te=m==="all",se=x.useMemo(()=>g.sections.map(($,re)=>{const K=!te&&!e&&!t;return{container:{"data-sectionindex":re,onClick:ce(re)},content:{tabIndex:te||re>0?-1:0,contentEditable:!te&&!e&&!t,role:"spinbutton",id:`${R}-${$.type}`,"aria-labelledby":`${R}-${$.type}`,"aria-readonly":t,"aria-valuenow":bk($,D),"aria-valuemin":q[$.type].minimum,"aria-valuemax":q[$.type].maximum,"aria-valuetext":$.value?vk($,D):F.empty,"aria-label":F[$.type],"aria-disabled":e,spellCheck:K?!1:void 0,autoCapitalize:K?"off":void 0,autoCorrect:K?"off":void 0,[parseInt(x.version,10)>=17?"enterKeyHint":"enterkeyhint"]:K?"next":void 0,children:$.value||$.placeholder,onInput:Q,onPaste:B,onFocus:Y(re),onDragOver:ne,onMouseUp:me,inputMode:$.contentType==="letter"?"text":"numeric"},before:{children:$.startSeparator},after:{children:$.endSeparator}}}),[g.sections,Y,B,ne,Q,ce,me,e,t,te,F,D,q,R]),oe=fe($=>{C($.target.value)}),ee=x.useMemo(()=>I?"":d.getV7HiddenInputValueFromSections(g.sections),[I,g.sections,d]);return x.useEffect(()=>{if(T.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));u&&T.current&&T.current.getSectionContent(M.startIndex).focus()},[]),{interactions:k,returnedValue:{autoFocus:u,readOnly:t,focused:c??_,sectionListRef:E,onBlur:X,onClick:j,onFocus:J,onInput:L,onPaste:W,enableAccessibleFieldDOMStructure:!0,elements:se,tabIndex:m===0?-1:0,contentEditable:te,value:ee,onChange:oe,areAllSectionsEmpty:I}}},Ar=n=>n.replace(/[\u2066\u2067\u2068\u2069]/g,""),Wk=(n,e,t)=>{let r=0,i=t?1:0;const o=[];for(let s=0;s<n.length;s+=1){const a=n[s],l=ru(a,t?"input-rtl":"input-ltr",e),c=`${a.startSeparator}${l}${a.endSeparator}`,u=Ar(c).length,d=c.length,p=Ar(l),h=i+(p===""?0:l.indexOf(p[0]))+a.startSeparator.length,f=h+p.length;o.push(O({},a,{start:r,end:r+u,startInInput:h,endInInput:f})),r+=u,i+=d}return o},Uk=n=>{const e=vn(),t=x.useRef(),r=x.useRef(),{forwardedProps:{onFocus:i,onClick:o,onPaste:s,onBlur:a,inputRef:l,placeholder:c},internalProps:{readOnly:u=!1,disabled:d=!1},parsedSelectedSections:p,activeSectionIndex:h,state:f,fieldValueManager:m,valueManager:g,applyCharacterEditing:v,resetCharacterQuery:b,updateSectionValue:S,updateValueFromValueStr:C,clearActiveSection:M,clearValue:I,setTempAndroidValueStr:A,setSelectedSections:T,getSectionsFromValue:E,areAllSectionsEmpty:F,localizedDigits:D}=n,R=x.useRef(null),_=Nt(l,R),P=x.useMemo(()=>Wk(f.sections,D,e),[f.sections,D,e]),k=x.useMemo(()=>({syncSelectionToDOM:()=>{if(!R.current)return;if(p==null){R.current.scrollLeft&&(R.current.scrollLeft=0);return}if(R.current!==Et(document))return;const Q=R.current.scrollTop;if(p==="all")R.current.select();else{const q=P[p],te=q.type==="empty"?q.startInInput-q.startSeparator.length:q.startInInput,se=q.type==="empty"?q.endInInput+q.endSeparator.length:q.endInInput;(te!==R.current.selectionStart||se!==R.current.selectionEnd)&&R.current===Et(document)&&R.current.setSelectionRange(te,se),clearTimeout(r.current),r.current=setTimeout(()=>{R.current&&R.current===Et(document)&&R.current.selectionStart===R.current.selectionEnd&&(R.current.selectionStart!==te||R.current.selectionEnd!==se)&&k.syncSelectionToDOM()})}R.current.scrollTop=Q},getActiveSectionIndexFromDOM:()=>{const Q=R.current.selectionStart??0,q=R.current.selectionEnd??0;if(Q===0&&q===0)return null;const te=Q<=P[0].startInInput?1:P.findIndex(se=>se.startInInput-se.startSeparator.length>Q);return te===-1?P.length-1:te-1},focusField:(Q=0)=>{var q;(q=R.current)==null||q.focus(),T(Q)},setSelectedSections:Q=>T(Q),isFieldFocused:()=>R.current===Et(document)}),[R,p,P,T]),w=()=>{const Q=R.current.selectionStart??0;let q;Q<=P[0].startInInput||Q>=P[P.length-1].endInInput?q=1:q=P.findIndex(se=>se.startInInput-se.startSeparator.length>Q);const te=q===-1?P.length-1:q-1;T(te)},j=fe((...Q)=>{i==null||i(...Q);const q=R.current;clearTimeout(t.current),t.current=setTimeout(()=>{!q||q!==R.current||h==null&&(q.value.length&&Number(q.selectionEnd)-Number(q.selectionStart)===q.value.length?T("all"):w())})}),L=fe((Q,...q)=>{Q.isDefaultPrevented()||(o==null||o(Q,...q),w())}),W=fe(Q=>{if(s==null||s(Q),Q.preventDefault(),u||d)return;const q=Q.clipboardData.getData("text");if(typeof p=="number"){const te=f.sections[p],se=/^[a-zA-Z]+$/.test(q),oe=/^[0-9]+$/.test(q),ee=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(q);if(te.contentType==="letter"&&se||te.contentType==="digit"&&oe||te.contentType==="digit-with-letter"&&ee){b(),S({activeSection:te,newSectionValue:q,shouldGoToNextSection:!0});return}if(se||oe)return}b(),C(q)}),J=fe((...Q)=>{a==null||a(...Q),T(null)}),X=fe(Q=>{if(u)return;const q=Q.target.value;if(q===""){b(),I();return}const te=Q.nativeEvent.data,se=te&&te.length>1,oe=se?te:q,ee=Ar(oe);if(h==null||se){C(se?te:ee);return}let $;if(p==="all"&&ee.length===1)$=ee;else{const re=Ar(m.getV6InputValueFromSections(P,D,e));let K=-1,V=-1;for(let ke=0;ke<re.length;ke+=1)K===-1&&re[ke]!==ee[ke]&&(K=ke),V===-1&&re[re.length-ke-1]!==ee[ee.length-ke-1]&&(V=ke);const Z=P[h];if(K<Z.start||re.length-V-1>Z.end)return;const de=ee.length-re.length+Z.end-Ar(Z.endSeparator||"").length;$=ee.slice(Z.start+Ar(Z.startSeparator||"").length,de)}if($.length===0){gk()&&A(oe),b(),M();return}v({keyPressed:$,sectionIndex:h})}),ce=x.useMemo(()=>c!==void 0?c:m.getV6InputValueFromSections(E(g.emptyValue),D,e),[c,m,E,g.emptyValue,D,e]),me=x.useMemo(()=>f.tempValueStrAndroid??m.getV6InputValueFromSections(f.sections,D,e),[f.sections,m,f.tempValueStrAndroid,D,e]);x.useEffect(()=>(R.current&&R.current===Et(document)&&T("all"),()=>{clearTimeout(t.current),clearTimeout(r.current)}),[]);const Y=x.useMemo(()=>h==null||f.sections[h].contentType==="letter"?"text":"numeric",[h,f.sections]),ne=!(R.current&&R.current===Et(document))&&F;return{interactions:k,returnedValue:{readOnly:u,onBlur:J,onClick:L,onFocus:j,onPaste:W,inputRef:_,enableAccessibleFieldDOMStructure:!1,placeholder:ce,inputMode:Y,autoComplete:"off",value:ne?"":me,onChange:X}}},Kk=n=>{const e=$e(),{internalProps:t,internalProps:{unstableFieldRef:r,minutesStep:i,enableAccessibleFieldDOMStructure:o=!1,disabled:s=!1,readOnly:a=!1},forwardedProps:{onKeyDown:l,error:c,clearable:u,onClear:d},fieldValueManager:p,valueManager:h,validator:f}=n,m=vn(),g=Lk(n),{state:v,activeSectionIndex:b,parsedSelectedSections:S,setSelectedSections:C,clearValue:M,clearActiveSection:I,updateSectionValue:A,setTempAndroidValueStr:T,sectionsValueBoundaries:E,localizedDigits:F,timezone:D}=g,R=Vk({sections:v.sections,updateSectionValue:A,sectionsValueBoundaries:E,localizedDigits:F,setTempAndroidValueStr:T,timezone:D}),{resetCharacterQuery:_}=R,P=h.areValuesEqual(e,v.value,h.emptyValue),k=o?Hk:Uk,w=x.useMemo(()=>yk(v.sections,m&&!o),[v.sections,m,o]),{returnedValue:j,interactions:L}=k(O({},n,g,R,{areAllSectionsEmpty:P,sectionOrder:w})),W=fe(B=>{if(l==null||l(B),!s)switch(!0){case((B.ctrlKey||B.metaKey)&&B.key.toLowerCase()==="a"&&!B.shiftKey&&!B.altKey):{B.preventDefault(),C("all");break}case B.key==="ArrowRight":{if(B.preventDefault(),S==null)C(w.startIndex);else if(S==="all")C(w.endIndex);else{const ne=w.neighbors[S].rightIndex;ne!==null&&C(ne)}break}case B.key==="ArrowLeft":{if(B.preventDefault(),S==null)C(w.endIndex);else if(S==="all")C(w.startIndex);else{const ne=w.neighbors[S].leftIndex;ne!==null&&C(ne)}break}case B.key==="Delete":{if(B.preventDefault(),a)break;S==null||S==="all"?M():I(),_();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(B.key):{if(B.preventDefault(),a||b==null)break;const ne=v.sections[b],Q=p.getActiveDateManager(e,v,ne),q=uk(e,D,ne,B.key,E,F,Q.date,{minutesStep:i});A({activeSection:ne,newSectionValue:q,shouldGoToNextSection:!1});break}}});gn(()=>{L.syncSelectionToDOM()});const{hasValidationError:J}=cg({props:t,validator:f,timezone:D,value:v.value,onError:t.onError}),X=x.useMemo(()=>c!==void 0?c:J,[J,c]);x.useEffect(()=>{!X&&b==null&&_()},[v.referenceValue,b,X]),x.useEffect(()=>{v.tempValueStrAndroid!=null&&b!=null&&(_(),I())},[v.sections]),x.useImperativeHandle(r,()=>({getSections:()=>v.sections,getActiveSectionIndex:L.getActiveSectionIndexFromDOM,setSelectedSections:L.setSelectedSections,focusField:L.focusField,isFieldFocused:L.isFieldFocused}));const ce=fe((B,...ne)=>{B.preventDefault(),d==null||d(B,...ne),M(),L.isFieldFocused()?C(w.startIndex):L.focusField(0)}),me={onKeyDown:W,onClear:ce,error:X,clearable:!!(u&&!P&&!a&&!s)},Y={disabled:s,readOnly:a};return O({},n.forwardedProps,me,Y,j)},Yk=["clearable","onClear","InputProps","sx","slots","slotProps"],Gk=["ownerState"],Jk=n=>{const e=bn(),{clearable:t,onClear:r,InputProps:i,sx:o,slots:s,slotProps:a}=n,l=ve(n,Yk),c=(s==null?void 0:s.clearButton)??Jr,u=Ne({elementType:c,externalSlotProps:a==null?void 0:a.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:e.fieldClearLabel}}),d=ve(u,Gk),p=(s==null?void 0:s.clearIcon)??L0,h=Ne({elementType:p,externalSlotProps:a==null?void 0:a.clearIcon,ownerState:{}});return O({},l,{InputProps:O({},i,{endAdornment:y.jsxs(x.Fragment,{children:[t&&y.jsx(jm,{position:"end",sx:{marginRight:i!=null&&i.endAdornment?-1:-1.5},children:y.jsx(c,O({},d,{onClick:r,children:y.jsx(p,O({fontSize:"small"},h))}))}),i==null?void 0:i.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(o)?o:[o]]})},Zk=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],Xk=(n,e)=>x.useMemo(()=>{const t=O({},n),r={},i=o=>{t.hasOwnProperty(o)&&(r[o]=t[o],delete t[o])};return Zk.forEach(i),ag.forEach(i),{forwardedProps:t,internalProps:r}},[n,e]),Qk=n=>{const e=$e(),t=Ri();return O({},n,{disablePast:n.disablePast??!1,disableFuture:n.disableFuture??!1,format:n.format??e.formats.keyboardDate,minDate:Bt(e,n.minDate,t.minDate),maxDate:Bt(e,n.maxDate,t.maxDate)})},eS=n=>{const e=Qk(n),{forwardedProps:t,internalProps:r}=Xk(e,"date");return Kk({forwardedProps:t,internalProps:r,valueManager:on,fieldValueManager:kk,validator:Ni,valueType:"date"})};function tS(n){return Ye("MuiPickersTextField",n)}Je("MuiPickersTextField",["root","focused","disabled","error","required"]);function nS(n){return Ye("MuiPickersInputBase",n)}const Nr=Je("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function rS(n){return Ye("MuiPickersSectionList",n)}const si=Je("MuiPickersSectionList",["root","section","sectionContent"]),iS=["slots","slotProps","elements","sectionListRef"],ug=le("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(n,e)=>e.root})({direction:"ltr /*! @noflip */",outline:"none"}),dg=le("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(n,e)=>e.section})({}),pg=le("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(n,e)=>e.sectionSeparator})({whiteSpace:"pre"}),fg=le("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(n,e)=>e.sectionContent})({outline:"none"}),oS=n=>{const{classes:e}=n;return Ke({root:["root"],section:["section"],sectionContent:["sectionContent"]},rS,e)};function sS(n){const{slots:e,slotProps:t,element:r,classes:i}=n,o=(e==null?void 0:e.section)??dg,s=Ne({elementType:o,externalSlotProps:t==null?void 0:t.section,externalForwardedProps:r.container,className:i.section,ownerState:{}}),a=(e==null?void 0:e.sectionContent)??fg,l=Ne({elementType:a,externalSlotProps:t==null?void 0:t.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:i.sectionContent,ownerState:{}}),c=(e==null?void 0:e.sectionSeparator)??pg,u=Ne({elementType:c,externalSlotProps:t==null?void 0:t.sectionSeparator,externalForwardedProps:r.before,ownerState:{position:"before"}}),d=Ne({elementType:c,externalSlotProps:t==null?void 0:t.sectionSeparator,externalForwardedProps:r.after,ownerState:{position:"after"}});return y.jsxs(o,O({},s,{children:[y.jsx(c,O({},u)),y.jsx(a,O({},l)),y.jsx(c,O({},d))]}))}const aS=x.forwardRef(function(e,t){const r=Le({props:e,name:"MuiPickersSectionList"}),{slots:i,slotProps:o,elements:s,sectionListRef:a}=r,l=ve(r,iS),c=oS(r),u=x.useRef(null),d=Nt(t,u),p=m=>{if(!u.current)throw new Error(`MUI X: Cannot call sectionListRef.${m} before the mount of the component.`);return u.current};x.useImperativeHandle(a,()=>({getRoot(){return p("getRoot")},getSectionContainer(m){return p("getSectionContainer").querySelector(`.${si.section}[data-sectionindex="${m}"]`)},getSectionContent(m){return p("getSectionContent").querySelector(`.${si.section}[data-sectionindex="${m}"] .${si.sectionContent}`)},getSectionIndexFromDOMElement(m){const g=p("getSectionIndexFromDOMElement");if(m==null||!g.contains(m))return null;let v=null;return m.classList.contains(si.section)?v=m:m.classList.contains(si.sectionContent)&&(v=m.parentElement),v==null?null:Number(v.dataset.sectionindex)}}));const h=(i==null?void 0:i.root)??ug,f=Ne({elementType:h,externalSlotProps:o==null?void 0:o.root,externalForwardedProps:l,additionalProps:{ref:d,suppressContentEditableWarning:!0},className:c.root,ownerState:{}});return y.jsx(h,O({},f,{children:f.contentEditable?s.map(({content:m,before:g,after:v})=>`${g.children}${m.children}${v.children}`).join(""):y.jsx(x.Fragment,{children:s.map((m,g)=>y.jsx(sS,{slots:i,slotProps:o,element:m,classes:c},g))})}))}),lS=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],cS=n=>Math.round(n*1e5)/1e5,Go=le("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>O({},n.typography.body1,{color:(n.vars||n).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${cS(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),iu=le(ug,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(n,e)=>e.sectionsContainer})(({theme:n})=>({padding:"4px 0 5px",fontFamily:n.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:t,filled:r,label:i})=>!e&&!t&&!r&&i==null,style:n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:n.palette.mode==="light"?.42:.5}}]})),uS=le(dg,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(n,e)=>e.section})(({theme:n})=>({fontFamily:n.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),dS=le(fg,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(n,e)=>e.content})(({theme:n})=>({fontFamily:n.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),pS=le(pg,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(n,e)=>e.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),fS=le("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(n,e)=>e.hiddenInput})(O({},S0)),hS=n=>{const{focused:e,disabled:t,error:r,classes:i,fullWidth:o,readOnly:s,color:a,size:l,endAdornment:c,startAdornment:u}=n,d={root:["root",e&&!t&&"focused",t&&"disabled",s&&"readOnly",r&&"error",o&&"fullWidth",`color${b0(a)}`,l==="small"&&"inputSizeSmall",!!u&&"adornedStart",!!c&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return Ke(d,nS,i)},ou=x.forwardRef(function(e,t){const r=Le({props:e,name:"MuiPickersInputBase"}),{elements:i,areAllSectionsEmpty:o,value:s,onChange:a,id:l,endAdornment:c,startAdornment:u,renderSuffix:d,slots:p,slotProps:h,contentEditable:f,tabIndex:m,onInput:g,onPaste:v,onKeyDown:b,name:S,readOnly:C,inputProps:M,inputRef:I,sectionListRef:A}=r,T=ve(r,lS),E=x.useRef(null),F=Nt(t,E),D=Nt(M==null?void 0:M.ref,I),R=vn(),_=qo();if(!_)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const P=J=>{var X;if(_.disabled){J.stopPropagation();return}(X=_.onFocus)==null||X.call(_,J)};x.useEffect(()=>{_&&_.setAdornedStart(!!u)},[_,u]),x.useEffect(()=>{_&&(o?_.onEmpty():_.onFilled())},[_,o]);const k=O({},r,_,{isRtl:R}),w=hS(k),j=(p==null?void 0:p.root)||Go,L=Ne({elementType:j,externalSlotProps:h==null?void 0:h.root,externalForwardedProps:T,additionalProps:{"aria-invalid":_.error,ref:F},className:w.root,ownerState:k}),W=(p==null?void 0:p.input)||iu;return y.jsxs(j,O({},L,{children:[u,y.jsx(aS,{sectionListRef:A,elements:i,contentEditable:f,tabIndex:m,className:w.sectionsContainer,onFocus:P,onBlur:_.onBlur,onInput:g,onPaste:v,onKeyDown:b,slots:{root:W,section:uS,sectionContent:dS,sectionSeparator:pS},slotProps:{root:{ownerState:k},sectionContent:{className:Nr.sectionContent},sectionSeparator:({position:J})=>({className:J==="before"?Nr.sectionBefore:Nr.sectionAfter})}}),c,d?d(O({},_)):null,y.jsx(fS,O({name:S,className:w.input,value:s,onChange:a,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:C,required:_.required,disabled:_.disabled},M,{ref:D}))]}))});function mS(n){return Ye("MuiPickersOutlinedInput",n)}const Ut=O({},Nr,Je("MuiPickersOutlinedInput",["root","notchedOutline","input"])),gS=["children","className","label","notched","shrink"],yS=le("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,e)=>e.notchedOutline})(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Dd=le("span")(({theme:n})=>({fontFamily:n.typography.fontFamily,fontSize:"inherit"})),vS=le("legend")(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]}));function bS(n){const{className:e,label:t}=n,r=ve(n,gS),i=t!=null&&t!=="",o=O({},n,{withLabel:i});return y.jsx(yS,O({"aria-hidden":!0,className:e},r,{ownerState:o,children:y.jsx(vS,{ownerState:o,children:i?y.jsx(Dd,{children:t}):y.jsx(Dd,{className:"notranslate",children:"â€‹"})})}))}const xS=["label","autoFocus","ownerState","notched"],kS=le(Go,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Ut.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ut.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Ut.focused} .${Ut.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${Ut.disabled}`]:{[`& .${Ut.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled},"*":{color:(n.vars||n).palette.action.disabled}},[`&.${Ut.error} .${Ut.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},variants:Object.keys((n.vars??n).palette).filter(t=>{var r;return((r=(n.vars??n).palette[t])==null?void 0:r.main)??!1}).map(t=>({props:{color:t},style:{[`&.${Ut.focused}:not(.${Ut.error}) .${Ut.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}}))}}),SS=le(iu,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(n,e)=>e.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),wS=n=>{const{classes:e}=n,r=Ke({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},mS,e);return O({},e,r)},hg=x.forwardRef(function(e,t){const r=Le({props:e,name:"MuiPickersOutlinedInput"}),{label:i,ownerState:o,notched:s}=r,a=ve(r,xS),l=qo(),c=O({},r,o,l,{color:(l==null?void 0:l.color)||"primary"}),u=wS(c);return y.jsx(ou,O({slots:{root:kS,input:SS},renderSuffix:d=>y.jsx(bS,{shrink:!!(s||d.adornedStart||d.focused||d.filled),notched:!!(s||d.adornedStart||d.focused||d.filled),className:u.notchedOutline,label:i!=null&&i!==""&&(l!=null&&l.required)?y.jsxs(x.Fragment,{children:[i,"â€‰","*"]}):i,ownerState:c})},a,{label:i,classes:u,ref:t}))});hg.muiName="Input";function CS(n){return Ye("MuiPickersFilledInput",n)}const Kn=O({},Nr,Je("MuiPickersFilledInput",["root","underline","input"])),MS=["label","autoFocus","disableUnderline","ownerState"],DS=le(Go,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(n,e)=>e.root,shouldForwardProp:n=>Cb(n)&&n!=="disableUnderline"})(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r}},[`&.${Kn.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r},[`&.${Kn.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:o},variants:[...Object.keys((n.vars??n).palette).filter(s=>(n.vars??n).palette[s].main).map(s=>{var a;return{props:{color:s,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(a=(n.vars||n).palette[s])==null?void 0:a.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Kn.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Kn.error}`]:{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Kn.disabled}, .${Kn.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Kn.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:s})=>!!s,style:{paddingLeft:12}},{props:({endAdornment:s})=>!!s,style:{paddingRight:12}}]}}),TS=le(iu,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(n,e)=>e.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:n})=>!!n,style:{paddingLeft:0}},{props:({endAdornment:n})=>!!n,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),OS=n=>{const{classes:e,disableUnderline:t}=n,i=Ke({root:["root",!t&&"underline"],input:["input"]},CS,e);return O({},e,i)},mg=x.forwardRef(function(e,t){const r=Le({props:e,name:"MuiPickersFilledInput"}),{label:i,disableUnderline:o=!1,ownerState:s}=r,a=ve(r,MS),l=qo(),c=O({},r,s,l,{color:(l==null?void 0:l.color)||"primary"}),u=OS(c);return y.jsx(ou,O({slots:{root:DS,input:TS},slotProps:{root:{disableUnderline:o}}},a,{label:i,classes:u,ref:t}))});mg.muiName="Input";function IS(n){return Ye("MuiPickersFilledInput",n)}const ai=O({},Nr,Je("MuiPickersInput",["root","input"])),PS=["label","autoFocus","disableUnderline","ownerState"],AS=le(Go,{name:"MuiPickersInput",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((n.vars??n).palette).filter(r=>(n.vars??n).palette[r].main).map(r=>({props:{color:r},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[r].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ai.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ai.error}`]:{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ai.disabled}, .${ai.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${ai.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),ES=n=>{const{classes:e,disableUnderline:t}=n,i=Ke({root:["root",!t&&"underline"],input:["input"]},IS,e);return O({},e,i)},gg=x.forwardRef(function(e,t){const r=Le({props:e,name:"MuiPickersInput"}),{label:i,disableUnderline:o=!1,ownerState:s}=r,a=ve(r,PS),l=qo(),c=O({},r,s,l,{disableUnderline:o,color:(l==null?void 0:l.color)||"primary"}),u=ES(c);return y.jsx(ou,O({slots:{root:AS}},a,{label:i,classes:u,ref:t}))});gg.muiName="Input";const RS=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],NS={standard:gg,filled:mg,outlined:hg},FS=le(Ob,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),jS=n=>{const{focused:e,disabled:t,classes:r,required:i}=n;return Ke({root:["root",e&&!t&&"focused",t&&"disabled",i&&"required"]},tS,r)},_S=x.forwardRef(function(e,t){const r=Le({props:e,name:"MuiPickersTextField"}),{onFocus:i,onBlur:o,className:s,color:a="primary",disabled:l=!1,error:c=!1,variant:u="outlined",required:d=!1,InputProps:p,inputProps:h,inputRef:f,sectionListRef:m,elements:g,areAllSectionsEmpty:v,onClick:b,onKeyDown:S,onKeyUp:C,onPaste:M,onInput:I,endAdornment:A,startAdornment:T,tabIndex:E,contentEditable:F,focused:D,value:R,onChange:_,fullWidth:P,id:k,name:w,helperText:j,FormHelperTextProps:L,label:W,InputLabelProps:J}=r,X=ve(r,RS),ce=x.useRef(null),me=Nt(t,ce),Y=Ei(k),B=j&&Y?`${Y}-helper-text`:void 0,ne=W&&Y?`${Y}-label`:void 0,Q=O({},r,{color:a,disabled:l,error:c,focused:D,required:d,variant:u}),q=jS(Q),te=NS[u];return y.jsxs(FS,O({className:_e(q.root,s),ref:me,focused:D,onFocus:i,onBlur:o,disabled:l,variant:u,error:c,color:a,fullWidth:P,required:d,ownerState:Q},X,{children:[y.jsx(Ib,O({htmlFor:Y,id:ne},J,{children:W})),y.jsx(te,O({elements:g,areAllSectionsEmpty:v,onClick:b,onKeyDown:S,onKeyUp:C,onInput:I,onPaste:M,endAdornment:A,startAdornment:T,tabIndex:E,contentEditable:F,value:R,onChange:_,id:Y,fullWidth:P,inputProps:h,inputRef:f,sectionListRef:m,label:W,name:w,role:"group","aria-labelledby":ne},p)),j&&y.jsx(Pb,O({id:B},L,{children:j}))]}))}),LS=["enableAccessibleFieldDOMStructure"],$S=["InputProps","readOnly"],VS=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],BS=n=>{let{enableAccessibleFieldDOMStructure:e}=n,t=ve(n,LS);if(e){const{InputProps:d,readOnly:p}=t,h=ve(t,$S);return O({},h,{InputProps:O({},d??{},{readOnly:p})})}const{onPaste:r,onKeyDown:i,inputMode:o,readOnly:s,InputProps:a,inputProps:l,inputRef:c}=t,u=ve(t,VS);return O({},u,{InputProps:O({},a??{},{readOnly:s}),inputProps:O({},l??{},{inputMode:o,onPaste:r,onKeyDown:i,ref:c})})},zS=["slots","slotProps","InputProps","inputProps"],yg=x.forwardRef(function(e,t){const r=Le({props:e,name:"MuiDateField"}),{slots:i,slotProps:o,InputProps:s,inputProps:a}=r,l=ve(r,zS),c=r,u=(i==null?void 0:i.textField)??(e.enableAccessibleFieldDOMStructure?_S:gc),d=Ne({elementType:u,externalSlotProps:o==null?void 0:o.textField,externalForwardedProps:l,additionalProps:{ref:t},ownerState:c});d.inputProps=O({},a,d.inputProps),d.InputProps=O({},s,d.InputProps);const p=eS(d),h=BS(p),f=Jk(O({},h,{slots:i,slotProps:o}));return y.jsx(u,O({},f))}),vg=({shouldDisableDate:n,shouldDisableMonth:e,shouldDisableYear:t,minDate:r,maxDate:i,disableFuture:o,disablePast:s,timezone:a})=>{const l=hr();return x.useCallback(c=>Ni({adapter:l,value:c,timezone:a,props:{shouldDisableDate:n,shouldDisableMonth:e,shouldDisableYear:t,minDate:r,maxDate:i,disableFuture:o,disablePast:s}})!==null,[l,n,e,t,r,i,o,s,a])},qS=(n,e,t)=>(r,i)=>{switch(i.type){case"changeMonth":return O({},r,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!n});case"finishMonthSwitchingAnimation":return O({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&i.focusedDay!=null&&t.isSameDay(i.focusedDay,r.focusedDay))return r;const o=i.focusedDay!=null&&!e&&!t.isSameMonth(r.currentMonth,i.focusedDay);return O({},r,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:o&&!n&&!i.withoutMonthSwitchingAnimation,currentMonth:o?t.startOfMonth(i.focusedDay):r.currentMonth,slideDirection:i.focusedDay!=null&&t.isAfterDay(i.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},HS=n=>{const{value:e,referenceDate:t,disableFuture:r,disablePast:i,disableSwitchToMonthOnDayFocus:o=!1,maxDate:s,minDate:a,onMonthChange:l,reduceAnimations:c,shouldDisableDate:u,timezone:d}=n,p=$e(),h=x.useRef(qS(!!c,o,p)).current,f=x.useMemo(()=>on.getInitialReferenceValue({value:e,utils:p,timezone:d,props:n,referenceDate:t,granularity:nn.day}),[]),[m,g]=x.useReducer(h,{isMonthSwitchingAnimating:!1,focusedDay:f,currentMonth:p.startOfMonth(f),slideDirection:"left"}),v=x.useCallback(I=>{g(O({type:"changeMonth"},I)),l&&l(I.newMonth)},[l]),b=x.useCallback(I=>{const A=I;p.isSameMonth(A,m.currentMonth)||v({newMonth:p.startOfMonth(A),direction:p.isAfterDay(A,m.currentMonth)?"left":"right"})},[m.currentMonth,v,p]),S=vg({shouldDisableDate:u,minDate:a,maxDate:s,disableFuture:r,disablePast:i,timezone:d}),C=x.useCallback(()=>{g({type:"finishMonthSwitchingAnimation"})},[]),M=fe((I,A)=>{S(I)||g({type:"changeFocusedDay",focusedDay:I,withoutMonthSwitchingAnimation:A})});return{referenceDate:f,calendarState:m,changeMonth:b,changeFocusedDay:M,isDateDisabled:S,onMonthSwitchingAnimationEnd:C,handleChangeMonth:v}},WS=n=>Ye("MuiPickersFadeTransitionGroup",n);Je("MuiPickersFadeTransitionGroup",["root"]);const US=n=>{const{classes:e}=n;return Ke({root:["root"]},WS,e)},KS=le(Nm,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"block",position:"relative"});function bg(n){const e=Le({props:n,name:"MuiPickersFadeTransitionGroup"}),{children:t,className:r,reduceAnimations:i,transKey:o}=e,s=US(e),a=Pi();return i?t:y.jsx(KS,{className:_e(s.root,r),children:y.jsx(zo,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:t},o)})}const YS=n=>Ye("MuiPickersSlideTransition",n),Ft=Je("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),GS=["children","className","reduceAnimations","slideDirection","transKey","classes"],JS=n=>{const{classes:e,slideDirection:t}=n,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${t}`],exitActive:[`slideExitActiveLeft-${t}`]};return Ke(r,YS,e)},ZS=le(Nm,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(n,e)=>[e.root,{[`.${Ft["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${Ft["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${Ft.slideEnterActive}`]:e.slideEnterActive},{[`.${Ft.slideExit}`]:e.slideExit},{[`.${Ft["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${Ft["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:n})=>{const e=n.transitions.create("transform",{duration:n.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Ft["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Ft["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Ft.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${Ft.slideExit}`]:{transform:"translate(0%)"},[`& .${Ft["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${Ft["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function XS(n){const e=Le({props:n,name:"MuiPickersSlideTransition"}),{children:t,className:r,reduceAnimations:i,transKey:o}=e,s=ve(e,GS),a=JS(e),l=Pi();if(i)return y.jsx("div",{className:_e(a.root,r),children:t});const c={exit:a.exit,enterActive:a.enterActive,enter:a.enter,exitActive:a.exitActive};return y.jsx(ZS,{className:_e(a.root,r),childFactory:u=>x.cloneElement(u,{classNames:c}),role:"presentation",children:y.jsx(Yc,O({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:c},s,{children:t}),o)})}const QS=n=>Ye("MuiDayCalendar",n);Je("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const ew=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],tw=["ownerState"],nw=n=>{const{classes:e}=n;return Ke({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},QS,e)},xg=(ki+Uo*2)*6,rw=le("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(n,e)=>e.root})({}),iw=le("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(n,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),ow=le(mt,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(n,e)=>e.weekDayLabel})(({theme:n})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(n.vars||n).palette.text.secondary})),sw=le(mt,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(n,e)=>e.weekNumberLabel})(({theme:n})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:n.palette.text.disabled})),aw=le(mt,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(n,e)=>e.weekNumber})(({theme:n})=>O({},n.typography.caption,{width:ki,height:ki,padding:0,margin:`0 ${Uo}px`,color:n.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),lw=le("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(n,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:xg}),cw=le(XS,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(n,e)=>e.slideTransition})({minHeight:xg}),uw=le("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(n,e)=>e.monthContainer})({overflow:"hidden"}),dw=le("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(n,e)=>e.weekContainer})({margin:`${Uo}px 0`,display:"flex",justifyContent:"center"});function pw(n){let{parentProps:e,day:t,focusableDay:r,selectedDays:i,isDateDisabled:o,currentMonthNumber:s,isViewFocused:a}=n,l=ve(n,ew);const{disabled:c,disableHighlightToday:u,isMonthSwitchingAnimating:d,showDaysOutsideCurrentMonth:p,slots:h,slotProps:f,timezone:m}=e,g=$e(),v=Wo(m),b=r!==null&&g.isSameDay(t,r),S=i.some(R=>g.isSameDay(R,t)),C=g.isSameDay(t,v),M=(h==null?void 0:h.day)??Ok,I=Ne({elementType:M,externalSlotProps:f==null?void 0:f.day,additionalProps:O({disableHighlightToday:u,showDaysOutsideCurrentMonth:p,role:"gridcell",isAnimating:d,"data-timestamp":g.toJsDate(t).valueOf()},l),ownerState:O({},e,{day:t,selected:S})}),A=ve(I,tw),T=x.useMemo(()=>c||o(t),[c,o,t]),E=x.useMemo(()=>g.getMonth(t)!==s,[g,t,s]),F=x.useMemo(()=>{const R=g.startOfMonth(g.setMonth(t,s));return p?g.isSameDay(t,g.startOfWeek(R)):g.isSameDay(t,R)},[s,t,p,g]),D=x.useMemo(()=>{const R=g.endOfMonth(g.setMonth(t,s));return p?g.isSameDay(t,g.endOfWeek(R)):g.isSameDay(t,R)},[s,t,p,g]);return y.jsx(M,O({},A,{day:t,disabled:T,autoFocus:a&&b,today:C,outsideCurrentMonth:E,isFirstVisibleCell:F,isLastVisibleCell:D,selected:S,tabIndex:b?0:-1,"aria-selected":S,"aria-current":C?"date":void 0}))}function fw(n){const e=Le({props:n,name:"MuiDayCalendar"}),t=$e(),{onFocusedDayChange:r,className:i,currentMonth:o,selectedDays:s,focusedDay:a,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:u,readOnly:d,reduceAnimations:p,renderLoading:h=()=>y.jsx("span",{children:"..."}),slideDirection:f,TransitionProps:m,disablePast:g,disableFuture:v,minDate:b,maxDate:S,shouldDisableDate:C,shouldDisableMonth:M,shouldDisableYear:I,dayOfWeekFormatter:A=V=>t.format(V,"weekdayShort").charAt(0).toUpperCase(),hasFocus:T,onFocusedViewChange:E,gridLabelId:F,displayWeekNumber:D,fixedWeekNumber:R,autoFocus:_,timezone:P}=e,k=Wo(P),w=nw(e),j=vn(),L=vg({shouldDisableDate:C,shouldDisableMonth:M,shouldDisableYear:I,minDate:b,maxDate:S,disablePast:g,disableFuture:v,timezone:P}),W=bn(),[J,X]=ar({name:"DayCalendar",state:"hasFocus",controlled:T,default:_??!1}),[ce,me]=x.useState(()=>a||k),Y=fe(V=>{d||c(V)}),B=V=>{L(V)||(r(V),me(V),E==null||E(!0),X(!0))},ne=fe((V,Z)=>{switch(V.key){case"ArrowUp":B(t.addDays(Z,-7)),V.preventDefault();break;case"ArrowDown":B(t.addDays(Z,7)),V.preventDefault();break;case"ArrowLeft":{const U=t.addDays(Z,j?1:-1),de=t.addMonths(Z,j?1:-1),ke=mi({utils:t,date:U,minDate:j?U:t.startOfMonth(de),maxDate:j?t.endOfMonth(de):U,isDateDisabled:L,timezone:P});B(ke||U),V.preventDefault();break}case"ArrowRight":{const U=t.addDays(Z,j?-1:1),de=t.addMonths(Z,j?-1:1),ke=mi({utils:t,date:U,minDate:j?t.startOfMonth(de):U,maxDate:j?U:t.endOfMonth(de),isDateDisabled:L,timezone:P});B(ke||U),V.preventDefault();break}case"Home":B(t.startOfWeek(Z)),V.preventDefault();break;case"End":B(t.endOfWeek(Z)),V.preventDefault();break;case"PageUp":B(t.addMonths(Z,1)),V.preventDefault();break;case"PageDown":B(t.addMonths(Z,-1)),V.preventDefault();break}}),Q=fe((V,Z)=>B(Z)),q=fe((V,Z)=>{J&&t.isSameDay(ce,Z)&&(E==null||E(!1))}),te=t.getMonth(o),se=t.getYear(o),oe=x.useMemo(()=>s.filter(V=>!!V).map(V=>t.startOfDay(V)),[t,s]),ee=`${se}-${te}`,$=x.useMemo(()=>x.createRef(),[ee]),re=x.useMemo(()=>{const V=t.startOfMonth(o),Z=t.endOfMonth(o);return L(ce)||t.isAfterDay(ce,Z)||t.isBeforeDay(ce,V)?mi({utils:t,date:ce,minDate:V,maxDate:Z,disablePast:g,disableFuture:v,isDateDisabled:L,timezone:P}):ce},[o,v,g,ce,L,t,P]),K=x.useMemo(()=>{const V=t.setTimezone(o,P),Z=t.getWeekArray(V);let U=t.addMonths(V,1);for(;R&&Z.length<R;){const de=t.getWeekArray(U),ke=t.isSameDay(Z[Z.length-1][0],de[0][0]);de.slice(ke?1:0).forEach(ze=>{Z.length<R&&Z.push(ze)}),U=t.addMonths(U,1)}return Z},[o,R,t,P]);return y.jsxs(rw,{role:"grid","aria-labelledby":F,className:w.root,children:[y.jsxs(iw,{role:"row",className:w.header,children:[D&&y.jsx(sw,{variant:"caption",role:"columnheader","aria-label":W.calendarWeekNumberHeaderLabel,className:w.weekNumberLabel,children:W.calendarWeekNumberHeaderText}),ik(t,k).map((V,Z)=>y.jsx(ow,{variant:"caption",role:"columnheader","aria-label":t.format(V,"weekday"),className:w.weekDayLabel,children:A(V)},Z.toString()))]}),l?y.jsx(lw,{className:w.loadingContainer,children:h()}):y.jsx(cw,O({transKey:ee,onExited:u,reduceAnimations:p,slideDirection:f,className:_e(i,w.slideTransition)},m,{nodeRef:$,children:y.jsx(uw,{ref:$,role:"rowgroup",className:w.monthContainer,children:K.map((V,Z)=>y.jsxs(dw,{role:"row",className:w.weekContainer,"aria-rowindex":Z+1,children:[D&&y.jsx(aw,{className:w.weekNumber,role:"rowheader","aria-label":W.calendarWeekNumberAriaLabelText(t.getWeekNumber(V[0])),children:W.calendarWeekNumberText(t.getWeekNumber(V[0]))}),V.map((U,de)=>y.jsx(pw,{parentProps:e,day:U,selectedDays:oe,focusableDay:re,onKeyDown:ne,onFocus:Q,onBlur:q,onDaySelect:Y,isDateDisabled:L,currentMonthNumber:te,isViewFocused:J,"aria-colindex":de+1},U.toString()))]},`week-${V[0]}`))})}))]})}function hw(n){return Ye("MuiPickersMonth",n)}const Ji=Je("MuiPickersMonth",["root","monthButton","disabled","selected"]),mw=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],gw=n=>{const{disabled:e,selected:t,classes:r}=n;return Ke({root:["root"],monthButton:["monthButton",e&&"disabled",t&&"selected"]},hw,r)},yw=le("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(n,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),vw=le("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(n,e)=>[e.monthButton,{[`&.${Ji.disabled}`]:e.disabled},{[`&.${Ji.selected}`]:e.selected}]})(({theme:n})=>O({color:"unset",backgroundColor:"transparent",border:0,outline:0},n.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Qe(n.palette.action.active,n.palette.action.hoverOpacity)},"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Qe(n.palette.action.active,n.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Ji.disabled}`]:{color:(n.vars||n).palette.text.secondary},[`&.${Ji.selected}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.main,"&:focus, &:hover":{backgroundColor:(n.vars||n).palette.primary.dark}}})),bw=x.memo(function(e){const t=Le({props:e,name:"MuiPickersMonth"}),{autoFocus:r,className:i,children:o,disabled:s,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:p,onBlur:h,"aria-current":f,"aria-label":m,slots:g,slotProps:v}=t,b=ve(t,mw),S=x.useRef(null),C=gw(t);gn(()=>{var A;r&&((A=S.current)==null||A.focus())},[r]);const M=(g==null?void 0:g.monthButton)??vw,I=Ne({elementType:M,externalSlotProps:v==null?void 0:v.monthButton,additionalProps:{children:o,disabled:s,tabIndex:c,ref:S,type:"button",role:"radio","aria-current":f,"aria-checked":a,"aria-label":m,onClick:A=>u(A,l),onKeyDown:A=>d(A,l),onFocus:A=>p(A,l),onBlur:A=>h(A,l)},ownerState:t,className:C.monthButton});return y.jsx(yw,O({className:_e(C.root,i),ownerState:t},b,{children:y.jsx(M,O({},I))}))});function xw(n){return Ye("MuiMonthCalendar",n)}Je("MuiMonthCalendar",["root"]);const kw=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],Sw=n=>{const{classes:e}=n;return Ke({root:["root"]},xw,e)};function ww(n,e){const t=$e(),r=Ri(),i=Le({props:n,name:e});return O({disableFuture:!1,disablePast:!1},i,{minDate:Bt(t,i.minDate,r.minDate),maxDate:Bt(t,i.maxDate,r.maxDate)})}const Cw=le("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Ko,boxSizing:"border-box"}),Mw=x.forwardRef(function(e,t){const r=ww(e,"MuiMonthCalendar"),{className:i,value:o,defaultValue:s,referenceDate:a,disabled:l,disableFuture:c,disablePast:u,maxDate:d,minDate:p,onChange:h,shouldDisableMonth:f,readOnly:m,autoFocus:g=!1,onMonthFocus:v,hasFocus:b,onFocusedViewChange:S,monthsPerRow:C=3,timezone:M,gridLabelId:I,slots:A,slotProps:T}=r,E=ve(r,kw),{value:F,handleValueChange:D,timezone:R}=tu({name:"MonthCalendar",timezone:M,value:o,defaultValue:s,onChange:h,valueManager:on}),_=Wo(R),P=vn(),k=$e(),w=x.useMemo(()=>on.getInitialReferenceValue({value:F,utils:k,props:r,timezone:R,referenceDate:a,granularity:nn.month}),[]),j=r,L=Sw(j),W=x.useMemo(()=>k.getMonth(_),[k,_]),J=x.useMemo(()=>F!=null?k.getMonth(F):null,[F,k]),[X,ce]=x.useState(()=>J||k.getMonth(w)),[me,Y]=ar({name:"MonthCalendar",state:"hasFocus",controlled:b,default:g??!1}),B=fe(ee=>{Y(ee),S&&S(ee)}),ne=x.useCallback(ee=>{const $=k.startOfMonth(u&&k.isAfter(_,p)?_:p),re=k.startOfMonth(c&&k.isBefore(_,d)?_:d),K=k.startOfMonth(ee);return k.isBefore(K,$)||k.isAfter(K,re)?!0:f?f(K):!1},[c,u,d,p,_,f,k]),Q=fe((ee,$)=>{if(m)return;const re=k.setMonth(F??w,$);D(re)}),q=fe(ee=>{ne(k.setMonth(F??w,ee))||(ce(ee),B(!0),v&&v(ee))});x.useEffect(()=>{ce(ee=>J!==null&&ee!==J?J:ee)},[J]);const te=fe((ee,$)=>{switch(ee.key){case"ArrowUp":q((12+$-3)%12),ee.preventDefault();break;case"ArrowDown":q((12+$+3)%12),ee.preventDefault();break;case"ArrowLeft":q((12+$+(P?1:-1))%12),ee.preventDefault();break;case"ArrowRight":q((12+$+(P?-1:1))%12),ee.preventDefault();break}}),se=fe((ee,$)=>{q($)}),oe=fe((ee,$)=>{X===$&&B(!1)});return y.jsx(Cw,O({ref:t,className:_e(L.root,i),ownerState:j,role:"radiogroup","aria-labelledby":I},E,{children:Xc(k,F??w).map(ee=>{const $=k.getMonth(ee),re=k.format(ee,"monthShort"),K=k.format(ee,"month"),V=$===J,Z=l||ne(ee);return y.jsx(bw,{selected:V,value:$,onClick:Q,onKeyDown:te,autoFocus:me&&$===X,disabled:Z,tabIndex:$===X&&!Z?0:-1,onFocus:se,onBlur:oe,"aria-current":W===$?"date":void 0,"aria-label":K,monthsPerRow:C,slots:A,slotProps:T,children:re},re)})}))});function Dw(n){return Ye("MuiPickersYear",n)}const Zi=Je("MuiPickersYear",["root","yearButton","selected","disabled"]),Tw=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],Ow=n=>{const{disabled:e,selected:t,classes:r}=n;return Ke({root:["root"],yearButton:["yearButton",e&&"disabled",t&&"selected"]},Dw,r)},Iw=le("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(n,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),Pw=le("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(n,e)=>[e.yearButton,{[`&.${Zi.disabled}`]:e.disabled},{[`&.${Zi.selected}`]:e.selected}]})(({theme:n})=>O({color:"unset",backgroundColor:"transparent",border:0,outline:0},n.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.focusOpacity})`:Qe(n.palette.action.active,n.palette.action.focusOpacity)},"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Qe(n.palette.action.active,n.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Zi.disabled}`]:{color:(n.vars||n).palette.text.secondary},[`&.${Zi.selected}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.main,"&:focus, &:hover":{backgroundColor:(n.vars||n).palette.primary.dark}}})),Aw=x.memo(function(e){const t=Le({props:e,name:"MuiPickersYear"}),{autoFocus:r,className:i,children:o,disabled:s,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:p,onBlur:h,"aria-current":f,slots:m,slotProps:g}=t,v=ve(t,Tw),b=x.useRef(null),S=Ow(t);gn(()=>{var I;r&&((I=b.current)==null||I.focus())},[r]);const C=(m==null?void 0:m.yearButton)??Pw,M=Ne({elementType:C,externalSlotProps:g==null?void 0:g.yearButton,additionalProps:{children:o,disabled:s,tabIndex:c,ref:b,type:"button",role:"radio","aria-current":f,"aria-checked":a,onClick:I=>u(I,l),onKeyDown:I=>d(I,l),onFocus:I=>p(I,l),onBlur:I=>h(I,l)},ownerState:t,className:S.yearButton});return y.jsx(Iw,O({className:_e(S.root,i),ownerState:t},v,{children:y.jsx(C,O({},M))}))});function Ew(n){return Ye("MuiYearCalendar",n)}Je("MuiYearCalendar",["root"]);const Rw=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],Nw=n=>{const{classes:e}=n;return Ke({root:["root"]},Ew,e)};function Fw(n,e){const t=$e(),r=Ri(),i=Le({props:n,name:e});return O({disablePast:!1,disableFuture:!1},i,{yearsPerRow:i.yearsPerRow??3,minDate:Bt(t,i.minDate,r.minDate),maxDate:Bt(t,i.maxDate,r.maxDate)})}const jw=le("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Ko,maxHeight:Q0,boxSizing:"border-box",position:"relative"}),_w=x.forwardRef(function(e,t){const r=Fw(e,"MuiYearCalendar"),{autoFocus:i,className:o,value:s,defaultValue:a,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:p,minDate:h,onChange:f,readOnly:m,shouldDisableYear:g,onYearFocus:v,hasFocus:b,onFocusedViewChange:S,yearsOrder:C="asc",yearsPerRow:M,timezone:I,gridLabelId:A,slots:T,slotProps:E}=r,F=ve(r,Rw),{value:D,handleValueChange:R,timezone:_}=tu({name:"YearCalendar",timezone:I,value:s,defaultValue:a,onChange:f,valueManager:on}),P=Wo(_),k=vn(),w=$e(),j=x.useMemo(()=>on.getInitialReferenceValue({value:D,utils:w,props:r,timezone:_,referenceDate:l,granularity:nn.year}),[]),L=r,W=Nw(L),J=x.useMemo(()=>w.getYear(P),[w,P]),X=x.useMemo(()=>D!=null?w.getYear(D):null,[D,w]),[ce,me]=x.useState(()=>X||w.getYear(j)),[Y,B]=ar({name:"YearCalendar",state:"hasFocus",controlled:b,default:i??!1}),ne=fe(U=>{B(U),S&&S(U)}),Q=x.useCallback(U=>{if(d&&w.isBeforeYear(U,P)||u&&w.isAfterYear(U,P)||h&&w.isBeforeYear(U,h)||p&&w.isAfterYear(U,p))return!0;if(!g)return!1;const de=w.startOfYear(U);return g(de)},[u,d,p,h,P,g,w]),q=fe((U,de)=>{if(m)return;const ke=w.setYear(D??j,de);R(ke)}),te=fe(U=>{Q(w.setYear(D??j,U))||(me(U),ne(!0),v==null||v(U))});x.useEffect(()=>{me(U=>X!==null&&U!==X?X:U)},[X]);const se=C!=="desc"?M*1:M*-1,oe=k||C==="desc"?-1:1,ee=fe((U,de)=>{switch(U.key){case"ArrowUp":te(de-se),U.preventDefault();break;case"ArrowDown":te(de+se),U.preventDefault();break;case"ArrowLeft":te(de-oe),U.preventDefault();break;case"ArrowRight":te(de+oe),U.preventDefault();break}}),$=fe((U,de)=>{te(de)}),re=fe((U,de)=>{ce===de&&ne(!1)}),K=x.useRef(null),V=Nt(t,K);x.useEffect(()=>{if(i||K.current===null)return;const U=K.current.querySelector('[tabindex="0"]');if(!U)return;const de=U.offsetHeight,ke=U.offsetTop,ze=K.current.clientHeight,Ve=K.current.scrollTop,Ae=ke+de;de>ze||ke<Ve||(K.current.scrollTop=Ae-ze/2-de/2)},[i]);const Z=w.getYearRange([h,p]);return C==="desc"&&Z.reverse(),y.jsx(jw,O({ref:V,className:_e(W.root,o),ownerState:L,role:"radiogroup","aria-labelledby":A},F,{children:Z.map(U=>{const de=w.getYear(U),ke=de===X,ze=c||Q(U);return y.jsx(Aw,{selected:ke,value:de,onClick:q,onKeyDown:ee,autoFocus:Y&&de===ce,disabled:ze,tabIndex:de===ce&&!ze?0:-1,onFocus:$,onBlur:re,"aria-current":J===de?"date":void 0,yearsPerRow:M,slots:T,slotProps:E,children:w.format(U,"year")},w.format(U,"year"))})}))}),Lw=n=>Ye("MuiPickersCalendarHeader",n),$w=Je("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),Vw=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],Bw=["ownerState"],zw=n=>{const{classes:e}=n;return Ke({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Lw,e)},qw=le("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Hw=le("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(n,e)=>e.labelContainer})(({theme:n})=>O({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},n.typography.body1,{fontWeight:n.typography.fontWeightMedium})),Ww=le("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(n,e)=>e.label})({marginRight:6}),Uw=le(Jr,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(n,e)=>e.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${$w.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),Kw=le(N0,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(n,e)=>e.switchViewIcon})(({theme:n})=>({willChange:"transform",transition:n.transitions.create("transform"),transform:"rotate(0deg)"})),Yw=x.forwardRef(function(e,t){const r=bn(),i=$e(),o=Le({props:e,name:"MuiPickersCalendarHeader"}),{slots:s,slotProps:a,currentMonth:l,disabled:c,disableFuture:u,disablePast:d,maxDate:p,minDate:h,onMonthChange:f,onViewChange:m,view:g,reduceAnimations:v,views:b,labelId:S,className:C,timezone:M,format:I=`${i.formats.month} ${i.formats.year}`}=o,A=ve(o,Vw),T=o,E=zw(o),F=(s==null?void 0:s.switchViewButton)??Uw,D=Ne({elementType:F,externalSlotProps:a==null?void 0:a.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(g)},ownerState:T,className:E.switchViewButton}),R=(s==null?void 0:s.switchViewIcon)??Kw,_=Ne({elementType:R,externalSlotProps:a==null?void 0:a.switchViewIcon,ownerState:T,className:E.switchViewIcon}),P=ve(_,Bw),k=()=>f(i.addMonths(l,1),"left"),w=()=>f(i.addMonths(l,-1),"right"),j=Z0(l,{disableFuture:u,maxDate:p,timezone:M}),L=X0(l,{disablePast:d,minDate:h,timezone:M}),W=()=>{if(!(b.length===1||!m||c))if(b.length===2)m(b.find(X=>X!==g)||b[0]);else{const X=b.indexOf(g)!==0?0:1;m(b[X])}};if(b.length===1&&b[0]==="year")return null;const J=i.formatByString(l,I);return y.jsxs(qw,O({},A,{ownerState:T,className:_e(C,E.root),ref:t,children:[y.jsxs(Hw,{role:"presentation",onClick:W,ownerState:T,"aria-live":"polite",className:E.labelContainer,children:[y.jsx(bg,{reduceAnimations:v,transKey:J,children:y.jsx(Ww,{id:S,ownerState:T,className:E.label,children:J})}),b.length>1&&!c&&y.jsx(F,O({},D,{children:y.jsx(R,O({},P))}))]}),y.jsx(zo,{in:g==="day",children:y.jsx(U0,{slots:s,slotProps:a,onGoToPrevious:w,isPreviousDisabled:L,previousLabel:r.previousMonth,onGoToNext:k,isNextDisabled:j,nextLabel:r.nextMonth})})]}))}),Gw="@media (prefers-reduced-motion: reduce)",Fr=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Td=Fr&&Fr[1]?parseInt(Fr[1],10):null,Od=Fr&&Fr[2]?parseInt(Fr[2],10):null,Jw=Td&&Td<10||Od&&Od<13||!1,kg=()=>Fm(Gw,{defaultMatches:!1})||Jw,Zw=n=>Ye("MuiDateCalendar",n);Je("MuiDateCalendar",["root","viewTransitionContainer"]);const Xw=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],Qw=n=>{const{classes:e}=n;return Ke({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Zw,e)};function e1(n,e){const t=$e(),r=Ri(),i=kg(),o=Le({props:n,name:e});return O({},o,{loading:o.loading??!1,disablePast:o.disablePast??!1,disableFuture:o.disableFuture??!1,openTo:o.openTo??"day",views:o.views??["year","day"],reduceAnimations:o.reduceAnimations??i,renderLoading:o.renderLoading??(()=>y.jsx("span",{children:"..."})),minDate:Bt(t,o.minDate,r.minDate),maxDate:Bt(t,o.maxDate,r.maxDate)})}const t1=le(ek,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"flex",flexDirection:"column",height:Zc}),n1=le(bg,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(n,e)=>e.viewTransitionContainer})({}),r1=x.forwardRef(function(e,t){const r=$e(),i=Ei(),o=e1(e,"MuiDateCalendar"),{autoFocus:s,onViewChange:a,value:l,defaultValue:c,referenceDate:u,disableFuture:d,disablePast:p,onChange:h,onYearChange:f,onMonthChange:m,reduceAnimations:g,shouldDisableDate:v,shouldDisableMonth:b,shouldDisableYear:S,view:C,views:M,openTo:I,className:A,disabled:T,readOnly:E,minDate:F,maxDate:D,disableHighlightToday:R,focusedView:_,onFocusedViewChange:P,showDaysOutsideCurrentMonth:k,fixedWeekNumber:w,dayOfWeekFormatter:j,slots:L,slotProps:W,loading:J,renderLoading:X,displayWeekNumber:ce,yearsOrder:me,yearsPerRow:Y,monthsPerRow:B,timezone:ne}=o,Q=ve(o,Xw),{value:q,handleValueChange:te,timezone:se}=tu({name:"DateCalendar",timezone:ne,value:l,defaultValue:c,onChange:h,valueManager:on}),{view:oe,setView:ee,focusedView:$,setFocusedView:re,goToNextView:K,setValueAndGoToNextView:V}=Zm({view:C,views:M,openTo:I,onChange:te,onViewChange:a,autoFocus:s,focusedView:_,onFocusedViewChange:P}),{referenceDate:Z,calendarState:U,changeFocusedDay:de,changeMonth:ke,handleChangeMonth:ze,isDateDisabled:Ve,onMonthSwitchingAnimationEnd:Ae}=HS({value:q,referenceDate:u,reduceAnimations:g,onMonthChange:m,minDate:F,maxDate:D,shouldDisableDate:v,disablePast:p,disableFuture:d,timezone:se}),ie=T&&q||F,he=T&&q||D,Ee=`${i}-grid-label`,Pe=$!==null,Me=(L==null?void 0:L.calendarHeader)??Yw,De=Ne({elementType:Me,externalSlotProps:W==null?void 0:W.calendarHeader,additionalProps:{views:M,view:oe,currentMonth:U.currentMonth,onViewChange:ee,onMonthChange:(Te,Ze)=>ze({newMonth:Te,direction:Ze}),minDate:ie,maxDate:he,disabled:T,disablePast:p,disableFuture:d,reduceAnimations:g,timezone:se,labelId:Ee},ownerState:o}),qe=fe(Te=>{const Ze=r.startOfMonth(Te),Mt=r.endOfMonth(Te),bt=Ve(Te)?mi({utils:r,date:Te,minDate:r.isBefore(F,Ze)?Ze:F,maxDate:r.isAfter(D,Mt)?Mt:D,disablePast:p,disableFuture:d,isDateDisabled:Ve,timezone:se}):Te;bt?(V(bt,"finish"),m==null||m(Ze)):(K(),ke(Ze)),de(bt,!0)}),Pt=fe(Te=>{const Ze=r.startOfYear(Te),Mt=r.endOfYear(Te),bt=Ve(Te)?mi({utils:r,date:Te,minDate:r.isBefore(F,Ze)?Ze:F,maxDate:r.isAfter(D,Mt)?Mt:D,disablePast:p,disableFuture:d,isDateDisabled:Ve,timezone:se}):Te;bt?(V(bt,"finish"),f==null||f(bt)):(K(),ke(Ze)),de(bt,!0)}),vt=fe(Te=>te(Te&&Co(r,Te,q??Z),"finish",oe));x.useEffect(()=>{q!=null&&r.isValid(q)&&ke(q)},[q]);const Ge=o,je=Qw(Ge),tt={disablePast:p,disableFuture:d,maxDate:D,minDate:F},qt={disableHighlightToday:R,readOnly:E,disabled:T,timezone:se,gridLabelId:Ee,slots:L,slotProps:W},At=x.useRef(oe);x.useEffect(()=>{At.current!==oe&&($===At.current&&re(oe,!0),At.current=oe)},[$,re,oe]);const dn=x.useMemo(()=>[q],[q]);return y.jsxs(t1,O({ref:t,className:_e(je.root,A),ownerState:Ge},Q,{children:[y.jsx(Me,O({},De,{slots:L,slotProps:W})),y.jsx(n1,{reduceAnimations:g,className:je.viewTransitionContainer,transKey:oe,ownerState:Ge,children:y.jsxs("div",{children:[oe==="year"&&y.jsx(_w,O({},tt,qt,{value:q,onChange:Pt,shouldDisableYear:S,hasFocus:Pe,onFocusedViewChange:Te=>re("year",Te),yearsOrder:me,yearsPerRow:Y,referenceDate:Z})),oe==="month"&&y.jsx(Mw,O({},tt,qt,{hasFocus:Pe,className:A,value:q,onChange:qe,shouldDisableMonth:b,onFocusedViewChange:Te=>re("month",Te),monthsPerRow:B,referenceDate:Z})),oe==="day"&&y.jsx(fw,O({},U,tt,qt,{onMonthSwitchingAnimationEnd:Ae,onFocusedDayChange:de,reduceAnimations:g,selectedDays:dn,onSelectedDaysChange:vt,shouldDisableDate:v,shouldDisableMonth:b,shouldDisableYear:S,hasFocus:Pe,onFocusedViewChange:Te=>re("day",Te),showDaysOutsideCurrentMonth:k,fixedWeekNumber:w,dayOfWeekFormatter:j,displayWeekNumber:ce,loading:J,renderLoading:X}))]})})]}))});function i1(n){return Ye("MuiPickersToolbar",n)}Je("MuiPickersToolbar",["root","content"]);const o1=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],s1=n=>{const{classes:e,isLandscape:t}=n;return Ke({root:["root"],content:["content"],penIconButton:["penIconButton",t&&"penIconButtonLandscape"]},i1,e)},a1=le("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:n.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),l1=le("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(n,e)=>e.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),c1=x.forwardRef(function(e,t){const r=Le({props:e,name:"MuiPickersToolbar"}),{children:i,className:o,toolbarTitle:s,hidden:a,titleId:l}=r,c=ve(r,o1),u=r,d=s1(u);return a?null:y.jsxs(a1,O({ref:t,className:_e(d.root,o),ownerState:u},c,{children:[y.jsx(mt,{color:"text.secondary",variant:"overline",id:l,children:s}),y.jsx(l1,{className:d.content,ownerState:u,children:i})]}))});function u1(n){return Ye("MuiDatePickerToolbar",n)}Je("MuiDatePickerToolbar",["root","title"]);const d1=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],p1=n=>{const{classes:e}=n;return Ke({root:["root"],title:["title"]},u1,e)},f1=le(c1,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(n,e)=>e.root})({}),h1=le(mt,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(n,e)=>e.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),m1=x.forwardRef(function(e,t){const r=Le({props:e,name:"MuiDatePickerToolbar"}),{value:i,isLandscape:o,toolbarFormat:s,toolbarPlaceholder:a="â€“â€“",views:l,className:c}=r,u=ve(r,d1),d=$e(),p=bn(),h=p1(r),f=x.useMemo(()=>{if(!i)return a;const g=Qc(d,{format:s,views:l},!0);return d.formatByString(i,g)},[i,s,a,d,l]),m=r;return y.jsx(f1,O({ref:t,toolbarTitle:p.datePickerToolbarTitle,isLandscape:o,className:_e(h.root,c)},u,{children:y.jsx(h1,{variant:"h4",align:o?"left":"center",ownerState:m,className:h.title,children:f})}))});function Sg(n,e){const t=$e(),r=Ri(),i=Le({props:n,name:e}),o=x.useMemo(()=>{var s;return((s=i.localeText)==null?void 0:s.toolbarTitle)==null?i.localeText:O({},i.localeText,{datePickerToolbarTitle:i.localeText.toolbarTitle})},[i.localeText]);return O({},i,{localeText:o},K0({views:i.views,openTo:i.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:i.disableFuture??!1,disablePast:i.disablePast??!1,minDate:Bt(t,i.minDate,r.minDate),maxDate:Bt(t,i.maxDate,r.maxDate),slots:O({toolbar:m1},i.slots)})}function g1(n){return Ye("MuiPickersPopper",n)}Je("MuiPickersPopper",["root","paper"]);const y1=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],v1=n=>{const{classes:e}=n;return Ke({root:["root"],paper:["paper"]},g1,e)},b1=le(Uc,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(n,e)=>e.root})(({theme:n})=>({zIndex:n.zIndex.modal})),x1=le(Hc,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(n,e)=>e.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:n})=>["top","top-start","top-end"].includes(n),style:{transformOrigin:"bottom center"}}]});function k1(n,e){return e.documentElement.clientWidth<n.clientX||e.documentElement.clientHeight<n.clientY}function S1(n,e){const t=x.useRef(!1),r=x.useRef(!1),i=x.useRef(null),o=x.useRef(!1);x.useEffect(()=>{if(!n)return;function l(){o.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),o.current=!1}},[n]);const s=fe(l=>{if(!o.current)return;const c=r.current;r.current=!1;const u=Ms(i.current);if(!i.current||"clientX"in l&&k1(l,u))return;if(t.current){t.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(i.current)>-1:d=!u.documentElement.contains(l.target)||i.current.contains(l.target),!d&&!c&&e(l)}),a=()=>{r.current=!0};return x.useEffect(()=>{if(n){const l=Ms(i.current),c=()=>{t.current=!0};return l.addEventListener("touchstart",s),l.addEventListener("touchmove",c),()=>{l.removeEventListener("touchstart",s),l.removeEventListener("touchmove",c)}}},[n,s]),x.useEffect(()=>{if(n){const l=Ms(i.current);return l.addEventListener("click",s),()=>{l.removeEventListener("click",s),r.current=!1}}},[n,s]),[i,a,a]}const w1=x.forwardRef((n,e)=>{const{PaperComponent:t,popperPlacement:r,ownerState:i,children:o,paperSlotProps:s,paperClasses:a,onPaperClick:l,onPaperTouchStart:c}=n,u=ve(n,y1),d=O({},i,{placement:r}),p=Ne({elementType:t,externalSlotProps:s,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:a,ownerState:d});return y.jsx(t,O({},u,p,{onClick:h=>{var f;l(h),(f=p.onClick)==null||f.call(p,h)},onTouchStart:h=>{var f;c(h),(f=p.onTouchStart)==null||f.call(p,h)},ownerState:d,children:o}))});function C1(n){const e=Le({props:n,name:"MuiPickersPopper"}),{anchorEl:t,children:r,containerRef:i=null,shouldRestoreFocus:o,onBlur:s,onDismiss:a,open:l,role:c,placement:u,slots:d,slotProps:p,reduceAnimations:h}=e;x.useEffect(()=>{function k(w){l&&w.key==="Escape"&&a()}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[a,l]);const f=x.useRef(null);x.useEffect(()=>{c==="tooltip"||o&&!o()||(l?f.current=Et(document):f.current&&f.current instanceof HTMLElement&&setTimeout(()=>{f.current instanceof HTMLElement&&f.current.focus()}))},[l,c,o]);const[m,g,v]=S1(l,s??a),b=x.useRef(null),S=Nt(b,i),C=Nt(S,m),M=e,I=v1(M),A=kg(),T=h??A,E=k=>{k.key==="Escape"&&(k.stopPropagation(),a())},F=(d==null?void 0:d.desktopTransition)??T?zo:cb,D=(d==null?void 0:d.desktopTrapFocus)??ub,R=(d==null?void 0:d.desktopPaper)??x1,_=(d==null?void 0:d.popper)??b1,P=Ne({elementType:_,externalSlotProps:p==null?void 0:p.popper,additionalProps:{transition:!0,role:c,open:l,anchorEl:t,placement:u,onKeyDown:E},className:I.root,ownerState:e});return y.jsx(_,O({},P,{children:({TransitionProps:k,placement:w})=>y.jsx(D,O({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:c==="tooltip",isEnabled:()=>!0},p==null?void 0:p.desktopTrapFocus,{children:y.jsx(F,O({},k,p==null?void 0:p.desktopTransition,{children:y.jsx(w1,{PaperComponent:R,ownerState:M,popperPlacement:w,ref:C,onPaperClick:g,onPaperTouchStart:v,paperClasses:I.paper,paperSlotProps:p==null?void 0:p.desktopPaper,children:r})}))}))}))}const M1=({open:n,onOpen:e,onClose:t})=>{const r=x.useRef(typeof n=="boolean").current,[i,o]=x.useState(!1);x.useEffect(()=>{if(r){if(typeof n!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");o(n)}},[r,n]);const s=x.useCallback(a=>{r||o(a),a&&e&&e(),!a&&t&&t()},[r,e,t]);return{isOpen:i,setIsOpen:s}},D1=n=>{const{action:e,hasChanged:t,dateState:r,isControlled:i}=n,o=!i&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?o&&["accept","today","clear"].includes(e.pickerAction)?!0:t(r.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?o?!0:t(r.lastPublishedValue):!1},T1=n=>{const{action:e,hasChanged:t,dateState:r,isControlled:i,closeOnSelect:o}=n,s=!i&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:t(r.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&o?s?!0:t(r.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&t(r.lastCommittedValue):!1},O1=n=>{const{action:e,closeOnSelect:t}=n;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&t:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},I1=({props:n,valueManager:e,valueType:t,wrapperVariant:r,validator:i})=>{const{onAccept:o,onChange:s,value:a,defaultValue:l,closeOnSelect:c=r==="desktop",timezone:u}=n,{current:d}=x.useRef(l),{current:p}=x.useRef(a!==void 0),h=$e(),f=hr(),{isOpen:m,setIsOpen:g}=M1(n),{timezone:v,value:b,handleValueChange:S}=eu({timezone:u,value:a,defaultValue:d,onChange:s,valueManager:e}),[C,M]=x.useState(()=>{let Y;return b!==void 0?Y=b:d!==void 0?Y=d:Y=e.emptyValue,{draft:Y,lastPublishedValue:Y,lastCommittedValue:Y,lastControlledValue:b,hasBeenModifiedSinceMount:!1}}),{getValidationErrorForNewValue:I}=cg({props:n,validator:i,timezone:v,value:C.draft,onError:n.onError}),A=fe(Y=>{const B={action:Y,dateState:C,hasChanged:oe=>!e.areValuesEqual(h,Y.value,oe),isControlled:p,closeOnSelect:c},ne=D1(B),Q=T1(B),q=O1(B);M(oe=>O({},oe,{draft:Y.value,lastPublishedValue:ne?Y.value:oe.lastPublishedValue,lastCommittedValue:Q?Y.value:oe.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let te=null;const se=()=>(te||(te={validationError:Y.name==="setValueFromField"?Y.context.validationError:I(Y.value)},Y.name==="setValueFromShortcut"&&(te.shortcut=Y.shortcut)),te);ne&&S(Y.value,se()),Q&&o&&o(Y.value,se()),q&&g(!1)});if(b!==void 0&&(C.lastControlledValue===void 0||!e.areValuesEqual(h,C.lastControlledValue,b))){const Y=e.areValuesEqual(h,C.draft,b);M(B=>O({},B,{lastControlledValue:b},Y?{}:{lastCommittedValue:b,lastPublishedValue:b,draft:b,hasBeenModifiedSinceMount:!0}))}const T=fe(()=>{A({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),E=fe(()=>{A({value:C.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),F=fe(()=>{A({value:C.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),D=fe(()=>{A({value:C.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),R=fe(()=>{A({value:e.getTodayValue(h,v,t),name:"setValueFromAction",pickerAction:"today"})}),_=fe(Y=>{Y.preventDefault(),g(!0)}),P=fe(Y=>{Y==null||Y.preventDefault(),g(!1)}),k=fe((Y,B="partial")=>A({name:"setValueFromView",value:Y,selectionState:B})),w=fe((Y,B,ne)=>A({name:"setValueFromShortcut",value:Y,changeImportance:B,shortcut:ne})),j=fe((Y,B)=>A({name:"setValueFromField",value:Y,context:B})),L={onClear:T,onAccept:E,onDismiss:F,onCancel:D,onSetToday:R,onOpen:_,onClose:P},W={value:C.draft,onChange:j},J=x.useMemo(()=>e.cleanValue(h,C.draft),[h,e,C.draft]),X={value:J,onChange:k,onClose:P,open:m},me=O({},L,{value:J,onChange:k,onSelectShortcut:w,isValid:Y=>{const B=i({adapter:f,value:Y,timezone:v,props:n});return!e.hasError(B)}});return{open:m,fieldProps:W,viewProps:X,layoutProps:me,actions:L}},P1=["className","sx"],A1=({props:n,propsFromPickerValue:e,additionalViewProps:t,autoFocusView:r,rendererInterceptor:i,fieldRef:o})=>{const{onChange:s,open:a,onClose:l}=e,{view:c,views:u,openTo:d,onViewChange:p,viewRenderers:h,timezone:f}=n,m=ve(n,P1),{view:g,setView:v,defaultView:b,focusedView:S,setFocusedView:C,setValueAndGoToNextView:M}=Zm({view:c,views:u,openTo:d,onChange:s,onViewChange:p,autoFocus:r}),{hasUIView:I,viewModeLookup:A}=x.useMemo(()=>u.reduce((P,k)=>{let w;return h[k]!=null?w="UI":w="field",P.viewModeLookup[k]=w,w==="UI"&&(P.hasUIView=!0),P},{hasUIView:!1,viewModeLookup:{}}),[h,u]),T=x.useMemo(()=>u.reduce((P,k)=>h[k]!=null&&G0(k)?P+1:P,0),[h,u]),E=A[g],F=fe(()=>E==="UI"),[D,R]=x.useState(E==="UI"?g:null);return D!==g&&A[g]==="UI"&&R(g),gn(()=>{E==="field"&&a&&(l(),setTimeout(()=>{var P,k;(P=o==null?void 0:o.current)==null||P.setSelectedSections(g),(k=o==null?void 0:o.current)==null||k.focusField(g)}))},[g]),gn(()=>{if(!a)return;let P=g;E==="field"&&D!=null&&(P=D),P!==b&&A[P]==="UI"&&A[b]==="UI"&&(P=b),P!==g&&v(P),C(P,!0)},[a]),{hasUIView:I,shouldRestoreFocus:F,layoutProps:{views:u,view:D,onViewChange:v},renderCurrentView:()=>{if(D==null)return null;const P=h[D];if(P==null)return null;const k=O({},m,t,e,{views:u,timezone:f,onChange:M,view:D,onViewChange:v,focusedView:S,onFocusedViewChange:C,showViewSwitcher:T>1,timeViewsCount:T});return i?i(h,D,k):P(k)}}};function Id(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const E1=(n,e)=>{const[t,r]=x.useState(Id);return gn(()=>{const o=()=>{r(Id())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),Bk(n,["hours","minutes","seconds"])?!1:(e||t)==="landscape"},R1=({props:n,propsFromPickerValue:e,propsFromPickerViews:t,wrapperVariant:r})=>{const{orientation:i}=n,o=E1(t.views,i),s=vn();return{layoutProps:O({},t,e,{isLandscape:o,isRtl:s,wrapperVariant:r,disabled:n.disabled,readOnly:n.readOnly})}},wg=({props:n,valueManager:e,valueType:t,wrapperVariant:r,additionalViewProps:i,validator:o,autoFocusView:s,rendererInterceptor:a,fieldRef:l})=>{const c=I1({props:n,valueManager:e,valueType:t,wrapperVariant:r,validator:o}),u=A1({props:n,additionalViewProps:i,autoFocusView:s,fieldRef:l,propsFromPickerValue:c.viewProps,rendererInterceptor:a}),d=R1({props:n,wrapperVariant:r,propsFromPickerValue:c.layoutProps,propsFromPickerViews:u.layoutProps});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:u.renderCurrentView,hasUIView:u.hasUIView,shouldRestoreFocus:u.shouldRestoreFocus,layoutProps:d.layoutProps}};function Cg(n){return Ye("MuiPickersLayout",n)}const Yn=Je("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),N1=["onAccept","onClear","onCancel","onSetToday","actions"];function F1(n){const{onAccept:e,onClear:t,onCancel:r,onSetToday:i,actions:o}=n,s=ve(n,N1),a=bn();if(o==null||o.length===0)return null;const l=o==null?void 0:o.map(c=>{switch(c){case"clear":return y.jsx(On,{onClick:t,children:a.clearButtonLabel},c);case"cancel":return y.jsx(On,{onClick:r,children:a.cancelButtonLabel},c);case"accept":return y.jsx(On,{onClick:e,children:a.okButtonLabel},c);case"today":return y.jsx(On,{onClick:i,children:a.todayButtonLabel},c);default:return null}});return y.jsx(Ab,O({},s,{children:l}))}const j1=["items","changeImportance","isLandscape","onChange","isValid"],_1=["getValue"];function L1(n){const{items:e,changeImportance:t="accept",onChange:r,isValid:i}=n,o=ve(n,j1);if(e==null||e.length===0)return null;const s=e.map(a=>{let{getValue:l}=a,c=ve(a,_1);const u=l({isValid:i});return O({},c,{label:c.label,onClick:()=>{r(u,t,c)},disabled:!i(u)})});return y.jsx(Eb,O({dense:!0,sx:[{maxHeight:Zc,maxWidth:200,overflow:"auto"},...Array.isArray(o.sx)?o.sx:[o.sx]]},o,{children:s.map(a=>y.jsx(Tb,{children:y.jsx(Kc,O({},a))},a.id??a.label))}))}function $1(n){return n.view!==null}const V1=n=>{const{classes:e,isLandscape:t}=n;return Ke({root:["root",t&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},Cg,e)},B1=n=>{const{wrapperVariant:e,onAccept:t,onClear:r,onCancel:i,onSetToday:o,view:s,views:a,onViewChange:l,value:c,onChange:u,onSelectShortcut:d,isValid:p,isLandscape:h,disabled:f,readOnly:m,children:g,slots:v,slotProps:b}=n,S=V1(n),C=(v==null?void 0:v.actionBar)??F1,M=Ne({elementType:C,externalSlotProps:b==null?void 0:b.actionBar,additionalProps:{onAccept:t,onClear:r,onCancel:i,onSetToday:o,actions:e==="desktop"?[]:["cancel","accept"]},className:S.actionBar,ownerState:O({},n,{wrapperVariant:e})}),I=y.jsx(C,O({},M)),A=v==null?void 0:v.toolbar,T=Ne({elementType:A,externalSlotProps:b==null?void 0:b.toolbar,additionalProps:{isLandscape:h,onChange:u,value:c,view:s,onViewChange:l,views:a,disabled:f,readOnly:m},className:S.toolbar,ownerState:O({},n,{wrapperVariant:e})}),E=$1(T)&&A?y.jsx(A,O({},T)):null,F=g,D=v==null?void 0:v.tabs,R=s&&D?y.jsx(D,O({view:s,onViewChange:l,className:S.tabs},b==null?void 0:b.tabs)):null,_=(v==null?void 0:v.shortcuts)??L1,P=Ne({elementType:_,externalSlotProps:b==null?void 0:b.shortcuts,additionalProps:{isValid:p,isLandscape:h,onChange:d},className:S.shortcuts,ownerState:{isValid:p,isLandscape:h,onChange:d,wrapperVariant:e}}),k=s&&_?y.jsx(_,O({},P)):null;return{toolbar:E,content:F,tabs:R,actionBar:I,shortcuts:k}},z1=n=>{const{isLandscape:e,classes:t}=n;return Ke({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},Cg,t)},q1=le("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Yn.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${Yn.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${Yn.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${Yn.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${Yn.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${Yn.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${Yn.shortcuts}`]:{gridColumn:3}}}]}),H1=le("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(n,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Mg=x.forwardRef(function(e,t){const r=Le({props:e,name:"MuiPickersLayout"}),{toolbar:i,content:o,tabs:s,actionBar:a,shortcuts:l}=B1(r),{sx:c,className:u,isLandscape:d,wrapperVariant:p}=r,h=z1(r);return y.jsxs(q1,{ref:t,sx:c,className:_e(u,h.root),ownerState:r,children:[d?l:i,d?i:l,y.jsx(H1,{className:h.contentWrapper,children:p==="desktop"?y.jsxs(x.Fragment,{children:[o,s]}):y.jsxs(x.Fragment,{children:[s,o]})}),a]})}),W1=["props","getOpenDialogAriaText"],U1=["ownerState"],K1=["ownerState"],Y1=n=>{var re;let{props:e,getOpenDialogAriaText:t}=n,r=ve(n,W1);const{slots:i,slotProps:o,className:s,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:p,timezone:h,name:f,label:m,inputRef:g,readOnly:v,disabled:b,autoFocus:S,localeText:C,reduceAnimations:M}=e,I=x.useRef(null),A=x.useRef(null),T=Ei(),E=((re=o==null?void 0:o.toolbar)==null?void 0:re.hidden)??!1,{open:F,actions:D,hasUIView:R,layoutProps:_,renderCurrentView:P,shouldRestoreFocus:k,fieldProps:w}=wg(O({},r,{props:e,fieldRef:A,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),j={open:F},L=i.inputAdornment??jm,W=Ne({elementType:L,externalSlotProps:o==null?void 0:o.inputAdornment,additionalProps:{position:"end"},ownerState:e}),J=ve(W,U1),X=i.openPickerButton??Jr,ce=Ne({elementType:X,externalSlotProps:o==null?void 0:o.openPickerButton,additionalProps:{disabled:b||v,onClick:F?D.onClose:D.onOpen,"aria-label":t(w.value),edge:J.position},ownerState:e}),me=ve(ce,K1),Y=i.openPickerIcon,B=Ne({elementType:Y,externalSlotProps:o==null?void 0:o.openPickerIcon,ownerState:j}),ne=i.field,Q=Ne({elementType:ne,externalSlotProps:o==null?void 0:o.field,additionalProps:O({},w,E&&{id:T},{readOnly:v,disabled:b,className:s,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:p,timezone:h,label:m,name:f,autoFocus:S&&!e.open,focused:F?!0:void 0},g?{inputRef:g}:{}),ownerState:e});R&&(Q.InputProps=O({},Q.InputProps,{ref:I},!e.disableOpenPicker&&{[`${J.position}Adornment`]:y.jsx(L,O({},J,{children:y.jsx(X,O({},me,{children:y.jsx(Y,O({},B))}))}))}));const q=O({textField:i.textField,clearIcon:i.clearIcon,clearButton:i.clearButton},Q.slots),te=i.layout??Mg;let se=T;E&&(m?se=`${T}-label`:se=void 0);const oe=O({},o,{toolbar:O({},o==null?void 0:o.toolbar,{titleId:T}),popper:O({"aria-labelledby":se},o==null?void 0:o.popper)}),ee=Nt(A,Q.unstableFieldRef);return{renderPicker:()=>y.jsxs(wo,{localeText:C,children:[y.jsx(ne,O({},Q,{slots:q,slotProps:oe,unstableFieldRef:ee})),y.jsx(C1,O({role:"dialog",placement:"bottom-start",anchorEl:I.current},D,{open:F,slots:i,slotProps:oe,shouldRestoreFocus:k,reduceAnimations:M,children:y.jsx(te,O({},_,oe==null?void 0:oe.layout,{slots:i,slotProps:oe,children:P()}))}))]})}},jr=({view:n,onViewChange:e,views:t,focusedView:r,onFocusedViewChange:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:p,minDate:h,maxDate:f,shouldDisableDate:m,shouldDisableMonth:g,shouldDisableYear:v,reduceAnimations:b,onMonthChange:S,monthsPerRow:C,onYearChange:M,yearsOrder:I,yearsPerRow:A,slots:T,slotProps:E,loading:F,renderLoading:D,disableHighlightToday:R,readOnly:_,disabled:P,showDaysOutsideCurrentMonth:k,dayOfWeekFormatter:w,sx:j,autoFocus:L,fixedWeekNumber:W,displayWeekNumber:J,timezone:X})=>y.jsx(r1,{view:n,onViewChange:e,views:t.filter(bd),focusedView:r&&bd(r)?r:null,onFocusedViewChange:i,value:o,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:p,minDate:h,maxDate:f,shouldDisableDate:m,shouldDisableMonth:g,shouldDisableYear:v,reduceAnimations:b,onMonthChange:S,monthsPerRow:C,onYearChange:M,yearsOrder:I,yearsPerRow:A,slots:T,slotProps:E,loading:F,renderLoading:D,disableHighlightToday:R,readOnly:_,disabled:P,showDaysOutsideCurrentMonth:k,dayOfWeekFormatter:w,sx:j,autoFocus:L,fixedWeekNumber:W,displayWeekNumber:J,timezone:X}),Dg=x.forwardRef(function(e,t){var c,u;const r=bn(),i=$e(),o=Sg(e,"MuiDesktopDatePicker"),s=O({day:jr,month:jr,year:jr},o.viewRenderers),a=O({},o,{viewRenderers:s,format:Qc(i,o,!1),yearsPerRow:o.yearsPerRow??4,slots:O({openPickerIcon:_0,field:yg},o.slots),slotProps:O({},o.slotProps,{field:d=>{var p;return O({},Jc((p=o.slotProps)==null?void 0:p.field,d),lg(o),{ref:t})},toolbar:O({hidden:!0},(c=o.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=Y1({props:a,valueManager:on,valueType:"date",getOpenDialogAriaText:Gm({utils:i,formatKey:"fullDate",contextTranslation:r.openDatePickerDialogue,propsTranslation:(u=a.localeText)==null?void 0:u.openDatePickerDialogue}),validator:Ni});return l()});Dg.propTypes={autoFocus:N.bool,className:N.string,closeOnSelect:N.bool,dayOfWeekFormatter:N.func,defaultValue:N.object,disabled:N.bool,disableFuture:N.bool,disableHighlightToday:N.bool,disableOpenPicker:N.bool,disablePast:N.bool,displayWeekNumber:N.bool,enableAccessibleFieldDOMStructure:N.any,fixedWeekNumber:N.number,format:N.string,formatDensity:N.oneOf(["dense","spacious"]),inputRef:Ym,label:N.node,loading:N.bool,localeText:N.object,maxDate:N.object,minDate:N.object,monthsPerRow:N.oneOf([3,4]),name:N.string,onAccept:N.func,onChange:N.func,onClose:N.func,onError:N.func,onMonthChange:N.func,onOpen:N.func,onSelectedSectionsChange:N.func,onViewChange:N.func,onYearChange:N.func,open:N.bool,openTo:N.oneOf(["day","month","year"]),orientation:N.oneOf(["landscape","portrait"]),readOnly:N.bool,reduceAnimations:N.bool,referenceDate:N.object,renderLoading:N.func,selectedSections:N.oneOfType([N.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),N.number]),shouldDisableDate:N.func,shouldDisableMonth:N.func,shouldDisableYear:N.func,showDaysOutsideCurrentMonth:N.bool,slotProps:N.object,slots:N.object,sx:N.oneOfType([N.arrayOf(N.oneOfType([N.func,N.object,N.bool])),N.func,N.object]),timezone:N.string,value:N.object,view:N.oneOf(["day","month","year"]),viewRenderers:N.shape({day:N.func,month:N.func,year:N.func}),views:N.arrayOf(N.oneOf(["day","month","year"]).isRequired),yearsOrder:N.oneOf(["asc","desc"]),yearsPerRow:N.oneOf([3,4])};const G1=le(Rb)({[`& .${Yu.container}`]:{outline:0},[`& .${Yu.paper}`]:{outline:0,minWidth:Ko}}),J1=le(Nb)({"&:first-of-type":{padding:0}});function Z1(n){const{children:e,onDismiss:t,open:r,slots:i,slotProps:o}=n,s=(i==null?void 0:i.dialog)??G1,a=(i==null?void 0:i.mobileTransition)??zo;return y.jsx(s,O({open:r,onClose:t},o==null?void 0:o.dialog,{TransitionComponent:a,TransitionProps:o==null?void 0:o.mobileTransition,PaperComponent:i==null?void 0:i.mobilePaper,PaperProps:o==null?void 0:o.mobilePaper,children:y.jsx(J1,{children:e})}))}const X1=["props","getOpenDialogAriaText"],Q1=n=>{var J;let{props:e,getOpenDialogAriaText:t}=n,r=ve(n,X1);const{slots:i,slotProps:o,className:s,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:p,timezone:h,name:f,label:m,inputRef:g,readOnly:v,disabled:b,localeText:S}=e,C=x.useRef(null),M=Ei(),I=((J=o==null?void 0:o.toolbar)==null?void 0:J.hidden)??!1,{open:A,actions:T,layoutProps:E,renderCurrentView:F,fieldProps:D}=wg(O({},r,{props:e,fieldRef:C,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),R=i.field,_=Ne({elementType:R,externalSlotProps:o==null?void 0:o.field,additionalProps:O({},D,I&&{id:M},!(b||v)&&{onClick:T.onOpen,onKeyDown:zk(T.onOpen)},{readOnly:v??!0,disabled:b,className:s,sx:a,format:l,formatDensity:c,enableAccessibleFieldDOMStructure:u,selectedSections:d,onSelectedSectionsChange:p,timezone:h,label:m,name:f},g?{inputRef:g}:{}),ownerState:e});_.inputProps=O({},_.inputProps,{"aria-label":t(D.value)});const P=O({textField:i.textField},_.slots),k=i.layout??Mg;let w=M;I&&(m?w=`${M}-label`:w=void 0);const j=O({},o,{toolbar:O({},o==null?void 0:o.toolbar,{titleId:M}),mobilePaper:O({"aria-labelledby":w},o==null?void 0:o.mobilePaper)}),L=Nt(C,_.unstableFieldRef);return{renderPicker:()=>y.jsxs(wo,{localeText:S,children:[y.jsx(R,O({},_,{slots:P,slotProps:j,unstableFieldRef:L})),y.jsx(Z1,O({},T,{open:A,slots:i,slotProps:j,children:y.jsx(k,O({},E,j==null?void 0:j.layout,{slots:i,slotProps:j,children:F()}))}))]})}},Tg=x.forwardRef(function(e,t){var c,u;const r=bn(),i=$e(),o=Sg(e,"MuiMobileDatePicker"),s=O({day:jr,month:jr,year:jr},o.viewRenderers),a=O({},o,{viewRenderers:s,format:Qc(i,o,!1),slots:O({field:yg},o.slots),slotProps:O({},o.slotProps,{field:d=>{var p;return O({},Jc((p=o.slotProps)==null?void 0:p.field,d),lg(o),{ref:t})},toolbar:O({hidden:!1},(c=o.slotProps)==null?void 0:c.toolbar)})}),{renderPicker:l}=Q1({props:a,valueManager:on,valueType:"date",getOpenDialogAriaText:Gm({utils:i,formatKey:"fullDate",contextTranslation:r.openDatePickerDialogue,propsTranslation:(u=a.localeText)==null?void 0:u.openDatePickerDialogue}),validator:Ni});return l()});Tg.propTypes={autoFocus:N.bool,className:N.string,closeOnSelect:N.bool,dayOfWeekFormatter:N.func,defaultValue:N.object,disabled:N.bool,disableFuture:N.bool,disableHighlightToday:N.bool,disableOpenPicker:N.bool,disablePast:N.bool,displayWeekNumber:N.bool,enableAccessibleFieldDOMStructure:N.any,fixedWeekNumber:N.number,format:N.string,formatDensity:N.oneOf(["dense","spacious"]),inputRef:Ym,label:N.node,loading:N.bool,localeText:N.object,maxDate:N.object,minDate:N.object,monthsPerRow:N.oneOf([3,4]),name:N.string,onAccept:N.func,onChange:N.func,onClose:N.func,onError:N.func,onMonthChange:N.func,onOpen:N.func,onSelectedSectionsChange:N.func,onViewChange:N.func,onYearChange:N.func,open:N.bool,openTo:N.oneOf(["day","month","year"]),orientation:N.oneOf(["landscape","portrait"]),readOnly:N.bool,reduceAnimations:N.bool,referenceDate:N.object,renderLoading:N.func,selectedSections:N.oneOfType([N.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),N.number]),shouldDisableDate:N.func,shouldDisableMonth:N.func,shouldDisableYear:N.func,showDaysOutsideCurrentMonth:N.bool,slotProps:N.object,slots:N.object,sx:N.oneOfType([N.arrayOf(N.oneOfType([N.func,N.object,N.bool])),N.func,N.object]),timezone:N.string,value:N.object,view:N.oneOf(["day","month","year"]),viewRenderers:N.shape({day:N.func,month:N.func,year:N.func}),views:N.arrayOf(N.oneOf(["day","month","year"]).isRequired),yearsOrder:N.oneOf(["asc","desc"]),yearsPerRow:N.oneOf([3,4])};const eC=["desktopModeMediaQuery"],Pd=x.forwardRef(function(e,t){const r=Le({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=qk}=r,o=ve(r,eC);return Fm(i,{defaultMatches:!0})?y.jsx(Dg,O({ref:t},o)):y.jsx(Tg,O({ref:t},o))});var ao={exports:{}},tC=ao.exports,Ad;function nC(){return Ad||(Ad=1,function(n,e){(function(t,r){n.exports=r()})(tC,function(){var t=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",c="day",u="week",d="month",p="quarter",h="year",f="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(P){var k=["th","st","nd","rd"],w=P%100;return"["+P+(k[(w-20)%10]||k[w]||k[0])+"]"}},S=function(P,k,w){var j=String(P);return!j||j.length>=k?P:""+Array(k+1-j.length).join(w)+P},C={s:S,z:function(P){var k=-P.utcOffset(),w=Math.abs(k),j=Math.floor(w/60),L=w%60;return(k<=0?"+":"-")+S(j,2,"0")+":"+S(L,2,"0")},m:function P(k,w){if(k.date()<w.date())return-P(w,k);var j=12*(w.year()-k.year())+(w.month()-k.month()),L=k.clone().add(j,d),W=w-L<0,J=k.clone().add(j+(W?-1:1),d);return+(-(j+(w-L)/(W?L-J:J-L))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:d,y:h,w:u,d:c,D:f,h:l,m:a,s,ms:o,Q:p}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},M="en",I={};I[M]=b;var A="$isDayjsObject",T=function(P){return P instanceof R||!(!P||!P[A])},E=function P(k,w,j){var L;if(!k)return M;if(typeof k=="string"){var W=k.toLowerCase();I[W]&&(L=W),w&&(I[W]=w,L=W);var J=k.split("-");if(!L&&J.length>1)return P(J[0])}else{var X=k.name;I[X]=k,L=X}return!j&&L&&(M=L),L||!j&&M},F=function(P,k){if(T(P))return P.clone();var w=typeof k=="object"?k:{};return w.date=P,w.args=arguments,new R(w)},D=C;D.l=E,D.i=T,D.w=function(P,k){return F(P,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var R=function(){function P(w){this.$L=E(w.locale,null,!0),this.parse(w),this.$x=this.$x||w.x||{},this[A]=!0}var k=P.prototype;return k.parse=function(w){this.$d=function(j){var L=j.date,W=j.utc;if(L===null)return new Date(NaN);if(D.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var J=L.match(g);if(J){var X=J[2]-1||0,ce=(J[7]||"0").substring(0,3);return W?new Date(Date.UTC(J[1],X,J[3]||1,J[4]||0,J[5]||0,J[6]||0,ce)):new Date(J[1],X,J[3]||1,J[4]||0,J[5]||0,J[6]||0,ce)}}return new Date(L)}(w),this.init()},k.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},k.$utils=function(){return D},k.isValid=function(){return this.$d.toString()!==m},k.isSame=function(w,j){var L=F(w);return this.startOf(j)<=L&&L<=this.endOf(j)},k.isAfter=function(w,j){return F(w)<this.startOf(j)},k.isBefore=function(w,j){return this.endOf(j)<F(w)},k.$g=function(w,j,L){return D.u(w)?this[j]:this.set(L,w)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(w,j){var L=this,W=!!D.u(j)||j,J=D.p(w),X=function(te,se){var oe=D.w(L.$u?Date.UTC(L.$y,se,te):new Date(L.$y,se,te),L);return W?oe:oe.endOf(c)},ce=function(te,se){return D.w(L.toDate()[te].apply(L.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(se)),L)},me=this.$W,Y=this.$M,B=this.$D,ne="set"+(this.$u?"UTC":"");switch(J){case h:return W?X(1,0):X(31,11);case d:return W?X(1,Y):X(0,Y+1);case u:var Q=this.$locale().weekStart||0,q=(me<Q?me+7:me)-Q;return X(W?B-q:B+(6-q),Y);case c:case f:return ce(ne+"Hours",0);case l:return ce(ne+"Minutes",1);case a:return ce(ne+"Seconds",2);case s:return ce(ne+"Milliseconds",3);default:return this.clone()}},k.endOf=function(w){return this.startOf(w,!1)},k.$set=function(w,j){var L,W=D.p(w),J="set"+(this.$u?"UTC":""),X=(L={},L[c]=J+"Date",L[f]=J+"Date",L[d]=J+"Month",L[h]=J+"FullYear",L[l]=J+"Hours",L[a]=J+"Minutes",L[s]=J+"Seconds",L[o]=J+"Milliseconds",L)[W],ce=W===c?this.$D+(j-this.$W):j;if(W===d||W===h){var me=this.clone().set(f,1);me.$d[X](ce),me.init(),this.$d=me.set(f,Math.min(this.$D,me.daysInMonth())).$d}else X&&this.$d[X](ce);return this.init(),this},k.set=function(w,j){return this.clone().$set(w,j)},k.get=function(w){return this[D.p(w)]()},k.add=function(w,j){var L,W=this;w=Number(w);var J=D.p(j),X=function(Y){var B=F(W);return D.w(B.date(B.date()+Math.round(Y*w)),W)};if(J===d)return this.set(d,this.$M+w);if(J===h)return this.set(h,this.$y+w);if(J===c)return X(1);if(J===u)return X(7);var ce=(L={},L[a]=r,L[l]=i,L[s]=t,L)[J]||1,me=this.$d.getTime()+w*ce;return D.w(me,this)},k.subtract=function(w,j){return this.add(-1*w,j)},k.format=function(w){var j=this,L=this.$locale();if(!this.isValid())return L.invalidDate||m;var W=w||"YYYY-MM-DDTHH:mm:ssZ",J=D.z(this),X=this.$H,ce=this.$m,me=this.$M,Y=L.weekdays,B=L.months,ne=L.meridiem,Q=function(se,oe,ee,$){return se&&(se[oe]||se(j,W))||ee[oe].slice(0,$)},q=function(se){return D.s(X%12||12,se,"0")},te=ne||function(se,oe,ee){var $=se<12?"AM":"PM";return ee?$.toLowerCase():$};return W.replace(v,function(se,oe){return oe||function(ee){switch(ee){case"YY":return String(j.$y).slice(-2);case"YYYY":return D.s(j.$y,4,"0");case"M":return me+1;case"MM":return D.s(me+1,2,"0");case"MMM":return Q(L.monthsShort,me,B,3);case"MMMM":return Q(B,me);case"D":return j.$D;case"DD":return D.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return Q(L.weekdaysMin,j.$W,Y,2);case"ddd":return Q(L.weekdaysShort,j.$W,Y,3);case"dddd":return Y[j.$W];case"H":return String(X);case"HH":return D.s(X,2,"0");case"h":return q(1);case"hh":return q(2);case"a":return te(X,ce,!0);case"A":return te(X,ce,!1);case"m":return String(ce);case"mm":return D.s(ce,2,"0");case"s":return String(j.$s);case"ss":return D.s(j.$s,2,"0");case"SSS":return D.s(j.$ms,3,"0");case"Z":return J}return null}(se)||J.replace(":","")})},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(w,j,L){var W,J=this,X=D.p(j),ce=F(w),me=(ce.utcOffset()-this.utcOffset())*r,Y=this-ce,B=function(){return D.m(J,ce)};switch(X){case h:W=B()/12;break;case d:W=B();break;case p:W=B()/3;break;case u:W=(Y-me)/6048e5;break;case c:W=(Y-me)/864e5;break;case l:W=Y/i;break;case a:W=Y/r;break;case s:W=Y/t;break;default:W=Y}return L?W:D.a(W)},k.daysInMonth=function(){return this.endOf(d).$D},k.$locale=function(){return I[this.$L]},k.locale=function(w,j){if(!w)return this.$L;var L=this.clone(),W=E(w,j,!0);return W&&(L.$L=W),L},k.clone=function(){return D.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},P}(),_=R.prototype;return F.prototype=_,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",c],["$M",d],["$y",h],["$D",f]].forEach(function(P){_[P[1]]=function(k){return this.$g(k,P[0],P[1])}}),F.extend=function(P,k){return P.$i||(P(k,R,F),P.$i=!0),F},F.locale=E,F.isDayjs=T,F.unix=function(P){return F(1e3*P)},F.en=I[M],F.Ls=I,F.p={},F})}(ao)),ao.exports}var rC=nC();const We=yn(rC);var lo={exports:{}},iC=lo.exports,Ed;function oC(){return Ed||(Ed=1,function(n,e){(function(t,r){n.exports=r()})(iC,function(){var t="week",r="year";return function(i,o,s){var a=o.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=s(this).startOf(r).add(1,r).date(c),d=s(this).endOf(t);if(u.isBefore(d))return 1}var p=s(this).startOf(r).date(c).startOf(t).subtract(1,"millisecond"),h=this.diff(p,t,!0);return h<0?s(this).startOf("week").week():Math.ceil(h)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})}(lo)),lo.exports}var sC=oC();const aC=yn(sC);var co={exports:{}},lC=co.exports,Rd;function cC(){return Rd||(Rd=1,function(n,e){(function(t,r){n.exports=r()})(lC,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,o=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},c=function(g){return(g=+g)+(g>68?1900:2e3)},u=function(g){return function(v){this[g]=+v}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var b=v.match(/([+-]|\d\d)/g),S=60*b[1]+(+b[2]||0);return S===0?0:b[0]==="+"?-S:S}(g)}],p=function(g){var v=l[g];return v&&(v.indexOf?v:v.s.concat(v.f))},h=function(g,v){var b,S=l.meridiem;if(S){for(var C=1;C<=24;C+=1)if(g.indexOf(S(C,0,v))>-1){b=C>12;break}}else b=g===(v?"pm":"PM");return b},f={A:[a,function(g){this.afternoon=h(g,!1)}],a:[a,function(g){this.afternoon=h(g,!0)}],Q:[i,function(g){this.month=3*(g-1)+1}],S:[i,function(g){this.milliseconds=100*+g}],SS:[o,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[o,u("day")],Do:[a,function(g){var v=l.ordinal,b=g.match(/\d+/);if(this.day=b[0],v)for(var S=1;S<=31;S+=1)v(S).replace(/\[|\]/g,"")===g&&(this.day=S)}],w:[s,u("week")],ww:[o,u("week")],M:[s,u("month")],MM:[o,u("month")],MMM:[a,function(g){var v=p("months"),b=(p("monthsShort")||v.map(function(S){return S.slice(0,3)})).indexOf(g)+1;if(b<1)throw new Error;this.month=b%12||b}],MMMM:[a,function(g){var v=p("months").indexOf(g)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,u("year")],YY:[o,function(g){this.year=c(g)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function m(g){var v,b;v=g,b=l&&l.formats;for(var S=(g=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(F,D,R){var _=R&&R.toUpperCase();return D||b[R]||t[R]||b[_].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(P,k,w){return k||w.slice(1)})})).match(r),C=S.length,M=0;M<C;M+=1){var I=S[M],A=f[I],T=A&&A[0],E=A&&A[1];S[M]=E?{regex:T,parser:E}:I.replace(/^\[|\]$/g,"")}return function(F){for(var D={},R=0,_=0;R<C;R+=1){var P=S[R];if(typeof P=="string")_+=P.length;else{var k=P.regex,w=P.parser,j=F.slice(_),L=k.exec(j)[0];w.call(D,L),F=F.replace(L,"")}}return function(W){var J=W.afternoon;if(J!==void 0){var X=W.hours;J?X<12&&(W.hours+=12):X===12&&(W.hours=0),delete W.afternoon}}(D),D}}return function(g,v,b){b.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(c=g.parseTwoDigitYear);var S=v.prototype,C=S.parse;S.parse=function(M){var I=M.date,A=M.utc,T=M.args;this.$u=A;var E=T[1];if(typeof E=="string"){var F=T[2]===!0,D=T[3]===!0,R=F||D,_=T[2];D&&(_=T[2]),l=this.$locale(),!F&&_&&(l=b.Ls[_]),this.$d=function(j,L,W,J){try{if(["x","X"].indexOf(L)>-1)return new Date((L==="X"?1e3:1)*j);var X=m(L)(j),ce=X.year,me=X.month,Y=X.day,B=X.hours,ne=X.minutes,Q=X.seconds,q=X.milliseconds,te=X.zone,se=X.week,oe=new Date,ee=Y||(ce||me?1:oe.getDate()),$=ce||oe.getFullYear(),re=0;ce&&!me||(re=me>0?me-1:oe.getMonth());var K,V=B||0,Z=ne||0,U=Q||0,de=q||0;return te?new Date(Date.UTC($,re,ee,V,Z,U,de+60*te.offset*1e3)):W?new Date(Date.UTC($,re,ee,V,Z,U,de)):(K=new Date($,re,ee,V,Z,U,de),se&&(K=J(K).week(se).toDate()),K)}catch{return new Date("")}}(I,E,A,b),this.init(),_&&_!==!0&&(this.$L=this.locale(_).$L),R&&I!=this.format(E)&&(this.$d=new Date("")),l={}}else if(E instanceof Array)for(var P=E.length,k=1;k<=P;k+=1){T[1]=E[k-1];var w=b.apply(this,T);if(w.isValid()){this.$d=w.$d,this.$L=w.$L,this.init();break}k===P&&(this.$d=new Date(""))}else C.call(this,M)}}})}(co)),co.exports}var uC=cC();const dC=yn(uC);var uo={exports:{}},pC=uo.exports,Nd;function fC(){return Nd||(Nd=1,function(n,e){(function(t,r){n.exports=r()})(pC,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,o){var s=i.prototype,a=s.format;o.en.formats=t,s.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(d,p){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,f,m){var g=m&&m.toUpperCase();return f||p[m]||t[m]||p[g].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,b,S){return b||S.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,u)}}})}(uo)),uo.exports}var hC=fC();const mC=yn(hC);var po={exports:{}},gC=po.exports,Fd;function yC(){return Fd||(Fd=1,function(n,e){(function(t,r){n.exports=r()})(gC,function(){return function(t,r,i){r.prototype.isBetween=function(o,s,a,l){var c=i(o),u=i(s),d=(l=l||"()")[0]==="(",p=l[1]===")";return(d?this.isAfter(c,a):!this.isBefore(c,a))&&(p?this.isBefore(u,a):!this.isAfter(u,a))||(d?this.isBefore(c,a):!this.isAfter(c,a))&&(p?this.isAfter(u,a):!this.isBefore(u,a))}}})}(po)),po.exports}var vC=yC();const bC=yn(vC);var fo={exports:{}},xC=fo.exports,jd;function kC(){return jd||(jd=1,function(n,e){(function(t,r){n.exports=r()})(xC,function(){return function(t,r){var i=r.prototype,o=i.format;i.format=function(s){var a=this,l=this.$locale();if(!this.isValid())return o.bind(this)(s);var c=this.$utils(),u=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),d==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return d}});return o.bind(this)(u)}}})}(fo)),fo.exports}var SC=kC();const wC=yn(SC);We.extend(mC);We.extend(aC);We.extend(bC);We.extend(wC);const CC={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},MC={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},Ds=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),_d=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),DC=(n,e)=>e?(...t)=>n(...t).locale(e):n;class Ld{constructor({locale:e,formats:t}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=CC,this.setLocaleToValue=r=>{const i=this.getCurrentLocaleCode();return i===r.locale()?r:r.locale(i)},this.hasUTCPlugin=()=>typeof We.utc<"u",this.hasTimezonePlugin=()=>typeof We.tz<"u",this.isSame=(r,i,o)=>{const s=this.setTimezone(i,this.getTimezone(r));return r.format(o)===s.format(o)},this.cleanTimezone=r=>{switch(r){case"default":return;case"system":return We.tz.guess();default:return r}},this.createSystemDate=r=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const i=We.tz.guess();return i!=="UTC"?We.tz(r,i):We(r)}return We(r)},this.createUTCDate=r=>{if(!this.hasUTCPlugin())throw new Error(Ds);return We.utc(r)},this.createTZDate=(r,i)=>{if(!this.hasUTCPlugin())throw new Error(Ds);if(!this.hasTimezonePlugin())throw new Error(_d);const o=r!==void 0&&!r.endsWith("Z");return We(r).tz(this.cleanTimezone(i),o)},this.getLocaleFormats=()=>{const r=We.Ls,i=this.locale||"en";let o=r[i];return o===void 0&&(o=r.en),o.formats},this.adjustOffset=r=>{if(!this.hasTimezonePlugin())return r;const i=this.getTimezone(r);if(i!=="UTC"){const o=r.tz(this.cleanTimezone(i),!0);if(o.$offset===(r.$offset??0))return r;r.$offset=o.$offset}return r},this.date=(r,i="default")=>{if(r===null)return null;let o;return i==="UTC"?o=this.createUTCDate(r):i==="system"||i==="default"&&!this.hasTimezonePlugin()?o=this.createSystemDate(r):o=this.createTZDate(r,i),this.locale===void 0?o:o.locale(this.locale)},this.getInvalidDate=()=>We(new Date("Invalid date")),this.getTimezone=r=>{var i;if(this.hasTimezonePlugin()){const o=(i=r.$x)==null?void 0:i.$timezone;if(o)return o}return this.hasUTCPlugin()&&r.isUTC()?"UTC":"system"},this.setTimezone=(r,i)=>{if(this.getTimezone(r)===i)return r;if(i==="UTC"){if(!this.hasUTCPlugin())throw new Error(Ds);return r.utc()}if(i==="system")return r.local();if(!this.hasTimezonePlugin()){if(i==="default")return r;throw new Error(_d)}return We.tz(r,this.cleanTimezone(i))},this.toJsDate=r=>r.toDate(),this.parse=(r,i)=>r===""?null:this.dayjs(r,i,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=r=>{const i=this.getLocaleFormats(),o=s=>s.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(a,l,c)=>l||c.slice(1));return r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(s,a,l)=>{const c=l&&l.toUpperCase();return a||i[l]||o(i[c])})},this.isValid=r=>r==null?!1:r.isValid(),this.format=(r,i)=>this.formatByString(r,this.formats[i]),this.formatByString=(r,i)=>this.dayjs(r).format(i),this.formatNumber=r=>r,this.isEqual=(r,i)=>r===null&&i===null?!0:r===null||i===null?!1:r.toDate().getTime()===i.toDate().getTime(),this.isSameYear=(r,i)=>this.isSame(r,i,"YYYY"),this.isSameMonth=(r,i)=>this.isSame(r,i,"YYYY-MM"),this.isSameDay=(r,i)=>this.isSame(r,i,"YYYY-MM-DD"),this.isSameHour=(r,i)=>r.isSame(i,"hour"),this.isAfter=(r,i)=>r>i,this.isAfterYear=(r,i)=>this.hasUTCPlugin()?!this.isSameYear(r,i)&&r.utc()>i.utc():r.isAfter(i,"year"),this.isAfterDay=(r,i)=>this.hasUTCPlugin()?!this.isSameDay(r,i)&&r.utc()>i.utc():r.isAfter(i,"day"),this.isBefore=(r,i)=>r<i,this.isBeforeYear=(r,i)=>this.hasUTCPlugin()?!this.isSameYear(r,i)&&r.utc()<i.utc():r.isBefore(i,"year"),this.isBeforeDay=(r,i)=>this.hasUTCPlugin()?!this.isSameDay(r,i)&&r.utc()<i.utc():r.isBefore(i,"day"),this.isWithinRange=(r,[i,o])=>r>=i&&r<=o,this.startOfYear=r=>this.adjustOffset(r.startOf("year")),this.startOfMonth=r=>this.adjustOffset(r.startOf("month")),this.startOfWeek=r=>this.adjustOffset(this.setLocaleToValue(r).startOf("week")),this.startOfDay=r=>this.adjustOffset(r.startOf("day")),this.endOfYear=r=>this.adjustOffset(r.endOf("year")),this.endOfMonth=r=>this.adjustOffset(r.endOf("month")),this.endOfWeek=r=>this.adjustOffset(this.setLocaleToValue(r).endOf("week")),this.endOfDay=r=>this.adjustOffset(r.endOf("day")),this.addYears=(r,i)=>this.adjustOffset(i<0?r.subtract(Math.abs(i),"year"):r.add(i,"year")),this.addMonths=(r,i)=>this.adjustOffset(i<0?r.subtract(Math.abs(i),"month"):r.add(i,"month")),this.addWeeks=(r,i)=>this.adjustOffset(i<0?r.subtract(Math.abs(i),"week"):r.add(i,"week")),this.addDays=(r,i)=>this.adjustOffset(i<0?r.subtract(Math.abs(i),"day"):r.add(i,"day")),this.addHours=(r,i)=>this.adjustOffset(i<0?r.subtract(Math.abs(i),"hour"):r.add(i,"hour")),this.addMinutes=(r,i)=>this.adjustOffset(i<0?r.subtract(Math.abs(i),"minute"):r.add(i,"minute")),this.addSeconds=(r,i)=>this.adjustOffset(i<0?r.subtract(Math.abs(i),"second"):r.add(i,"second")),this.getYear=r=>r.year(),this.getMonth=r=>r.month(),this.getDate=r=>r.date(),this.getHours=r=>r.hour(),this.getMinutes=r=>r.minute(),this.getSeconds=r=>r.second(),this.getMilliseconds=r=>r.millisecond(),this.setYear=(r,i)=>this.adjustOffset(r.set("year",i)),this.setMonth=(r,i)=>this.adjustOffset(r.set("month",i)),this.setDate=(r,i)=>this.adjustOffset(r.set("date",i)),this.setHours=(r,i)=>this.adjustOffset(r.set("hour",i)),this.setMinutes=(r,i)=>this.adjustOffset(r.set("minute",i)),this.setSeconds=(r,i)=>this.adjustOffset(r.set("second",i)),this.setMilliseconds=(r,i)=>this.adjustOffset(r.set("millisecond",i)),this.getDaysInMonth=r=>r.daysInMonth(),this.getWeekArray=r=>{const i=this.startOfWeek(this.startOfMonth(r)),o=this.endOfWeek(this.endOfMonth(r));let s=0,a=i;const l=[];for(;a<o;){const c=Math.floor(s/7);l[c]=l[c]||[],l[c].push(a),a=this.addDays(a,1),s+=1}return l},this.getWeekNumber=r=>r.week(),this.getYearRange=([r,i])=>{const o=this.startOfYear(r),s=this.endOfYear(i),a=[];let l=o;for(;this.isBefore(l,s);)a.push(l),l=this.addYears(l,1);return a},this.dayjs=DC(We,e),this.locale=e,this.formats=O({},MC,t),We.extend(dC)}getDayOfWeek(e){return e.day()+1}}function ct(n){this.content=n}ct.prototype={constructor:ct,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),o=r.content.slice();return i==-1?o.push(t||n,e):(o[i+1]=e,t&&(o[i]=t)),new ct(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new ct(t)},addToStart:function(n,e){return new ct([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new ct(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),o=r.find(n);return i.splice(o==-1?i.length:o,0,e,t),new ct(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=ct.from(n),n.size?new ct(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=ct.from(n),n.size?new ct(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=ct.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};ct.from=function(n){if(n instanceof ct)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new ct(e)};function Og(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),o=e.child(r);if(i==o){t+=i.nodeSize;continue}if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)t++;return t}if(i.content.size||o.content.size){let s=Og(i.content,o.content,t+1);if(s!=null)return s}t+=i.nodeSize}}function Ig(n,e,t,r){for(let i=n.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:t,b:r};let s=n.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){t-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:t,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,r--;return{a:t,b:r}}if(s.content.size||a.content.size){let c=Ig(s.content,a.content,t-1,r-1);if(c)return c}t-=l,r-=l}}class G{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,o){for(let s=0,a=0;a<t;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let o="",s=!0;return this.nodesBetween(e,t,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=c},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new G(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let o=0,s=0;s<t;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,t-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,t-s-1))),r.push(a),i+=a.nodeSize),s=l}return new G(r,i)}cutByIndex(e,t){return e==t?G.empty:e==0&&t==this.content.length?this:new G(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new G(i,o)}addToStart(e){return new G([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new G(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return Og(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return Ig(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Xi(0,e);if(e==this.size)return Xi(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||t>0?Xi(r+1,s):Xi(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return G.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new G(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return G.empty;let t,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new G(t||e,r)}static from(e){if(!e)return G.empty;if(e instanceof G)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new G([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}G.empty=new G([],0);const Ts={index:0,offset:0};function Xi(n,e){return Ts.index=n,Ts.offset=e,Ts}function Mo(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Mo(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Mo(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Fe=class Cc{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Mo(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Cc.none;if(e instanceof Cc)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};Fe.none=[];class Do extends Error{}class ae{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=Ag(this.content,e+this.openStart,t);return r&&new ae(r,this.openStart,this.openEnd)}removeBetween(e,t){return new ae(Pg(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ae.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ae(G.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new ae(e,r,i)}}ae.empty=new ae(G.empty,0,0);function Pg(n,e,t){let{index:r,offset:i}=n.findIndex(e),o=n.maybeChild(r),{index:s,offset:a}=n.findIndex(t);if(i==e||o.isText){if(a!=t&&!n.child(s).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=s)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(Pg(o.content,e-i-1,t-i-1)))}function Ag(n,e,t,r){let{index:i,offset:o}=n.findIndex(e),s=n.maybeChild(i);if(o==e||s.isText)return n.cut(0,e).append(t).append(n.cut(e));let a=Ag(s.content,e-o-1,t);return a&&n.replaceChild(i,s.copy(a))}function TC(n,e,t){if(t.openStart>n.depth)throw new Do("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Do("Inconsistent open depths");return Eg(n,e,t,0)}function Eg(n,e,t,r){let i=n.index(r),o=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let s=Eg(n,e,t,r+1);return o.copy(o.content.replaceChild(i,s))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let s=n.parent,a=s.content;return rr(s,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=OC(t,n);return rr(o,Ng(n,s,a,e,r))}else return rr(o,To(n,e,r))}function Rg(n,e){if(!e.type.compatibleContent(n.type))throw new Do("Cannot join "+e.type.name+" onto "+n.type.name)}function Mc(n,e,t){let r=n.node(t);return Rg(r,e.node(t)),r}function nr(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function gi(n,e,t,r){let i=(e||n).node(t),o=0,s=e?e.index(t):i.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(nr(n.nodeAfter,r),o++));for(let a=o;a<s;a++)nr(i.child(a),r);e&&e.depth==t&&e.textOffset&&nr(e.nodeBefore,r)}function rr(n,e){return n.type.checkContent(e),n.copy(e)}function Ng(n,e,t,r,i){let o=n.depth>i&&Mc(n,e,i+1),s=r.depth>i&&Mc(t,r,i+1),a=[];return gi(null,n,i,a),o&&s&&e.index(i)==t.index(i)?(Rg(o,s),nr(rr(o,Ng(n,e,t,r,i+1)),a)):(o&&nr(rr(o,To(n,e,i+1)),a),gi(e,t,i,a),s&&nr(rr(s,To(t,r,i+1)),a)),gi(r,null,i,a),new G(a)}function To(n,e,t){let r=[];if(gi(null,n,t,r),n.depth>t){let i=Mc(n,e,t+1);nr(rr(i,To(n,e,t+1)),r)}return gi(e,null,t,r),new G(r)}function OC(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)i=e.node(o).copy(G.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class Si{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Fe.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Oo(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,o=t;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new Si(t,r,o)}static resolveCached(e,t){let r=$d.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==t)return s}else $d.set(e,r=new IC);let i=r.elts[r.i]=Si.resolve(e,t);return r.i=(r.i+1)%PC,i}}class IC{constructor(){this.elts=[],this.i=0}}const PC=12,$d=new WeakMap;class Oo{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const AC=Object.create(null);let En=class Dc{constructor(e,t,r,i=Fe.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||G.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Mo(this.attrs,t||e.defaultAttrs||AC)&&Fe.sameSet(this.marks,r||Fe.none)}copy(e=null){return e==this.content?this:new Dc(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Dc(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return ae.empty;let i=this.resolve(e),o=this.resolve(t),s=r?0:i.sharedDepth(t),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new ae(c,i.depth-s,o.depth-s)}replace(e,t,r){return TC(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return Si.resolveCached(this,e)}resolveNoCache(e){return Si.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Fg(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=G.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,t);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Fe.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Fe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=G.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};En.prototype.text=void 0;class Io extends En{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Fg(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Io(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Io(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Fg(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class cr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new EC(e,t);if(r.next==null)return cr.empty;let i=jg(r);r.next&&r.err("Unexpected trailing text");let o=$C(LC(i));return VC(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let o=t;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!t||l.validEnd))return G.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let p=o(d,a.concat(u));if(p)return p}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}cr.empty=new cr(!0);class EC{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function jg(n){let e=[];do e.push(RC(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function RC(n){let e=[];do e.push(NC(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function NC(n){let e=_C(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=FC(n,e);else break;return e}function Vd(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function FC(n,e){let t=Vd(n),r=t;return n.eat(",")&&(n.next!="}"?r=Vd(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function jC(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let o in t){let s=t[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function _C(n){if(n.eat("(")){let e=jg(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=jC(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function LC(n){let e=[[]];return i(o(n,0),t()),e;function t(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=t())}else if(s.type=="star"){let l=t();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=t();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=t();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=t();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function _g(n,e){return e-n}function Bd(n,e){let t=[];return r(e),t.sort(_g);function r(i){let o=n[i];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&t.indexOf(l)==-1&&r(l)}}}function $C(n){let e=Object.create(null);return t(Bd(n,0));function t(r){let i=[];r.forEach(s=>{n[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);Bd(n,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=e[r.join(",")]=new cr(r.indexOf(n.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(_g);o.next.push({type:i[s][0],next:e[a.join(",")]||t(a)})}return o}}function VC(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Lg(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function $g(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let o=n[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function Vg(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let o=n[i];o.validate&&o.validate(e[i])}}function Bg(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new zC(n,r,e[r]);return t}let zd=class zg{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Bg(e,r.attrs),this.defaultAttrs=Lg(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==cr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:$g(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new En(this,this.computeAttrs(e),G.from(t),Fe.setFrom(r))}createChecked(e=null,t,r){return t=G.from(t),this.checkContent(t),new En(this,this.computeAttrs(e),t,Fe.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=G.from(t),t.size){let s=this.contentMatch.fillBefore(t);if(!s)return null;t=s.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(G.empty,!0);return o?new En(this,e,t.append(o),Fe.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Vg(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Fe.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,s)=>r[o]=new zg(o,t,s));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function BC(n,e,t){let r=t.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class zC{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?BC(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Jo{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=Bg(e,i.attrs),this.excluded=null;let o=Lg(this.attrs);this.instance=o?new Fe(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Fe(this,$g(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new Jo(o,i++,t,s)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Vg(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class qg{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=ct.from(e.nodes),t.marks=ct.from(e.marks||{}),this.nodes=zd.compile(this.spec.nodes,this),this.marks=Jo.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=cr.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?qd(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:qd(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof zd){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new Io(r,r.defaultAttrs,e,Fe.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return En.fromJSON(this,e)}markFromJSON(e){return Fe.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function qd(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],o=n.marks[i],s=o;if(o)t.push(o);else for(let a in n.marks){let l=n.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function qC(n){return n.tag!=null}function HC(n){return n.style!=null}class Rn{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(qC(i))this.tags.push(i);else if(HC(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new Wd(this,t,!1);return r.addAll(e,Fe.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new Wd(this,t,!0);return r.addAll(e,Fe.none,t.from,t.to),ae.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(KC(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,t,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(s.getAttrs){let l=s.getAttrs(t);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let t=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<t.length;s++){let a=t[s];if((a.priority==null?50:a.priority)<o)break}t.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Ud(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Ud(s)),s.node||s.ignore||s.mark||(s.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Rn(e,Rn.schemaRules(e)))}}const Hg={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},WC={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Wg={ol:!0,ul:!0},Po=1,Ao=2,yi=4;function Hd(n,e,t){return e!=null?(e?Po:0)|(e==="full"?Ao:0):n&&n.whitespace=="pre"?Po|Ao:t&~yi}class Qi{constructor(e,t,r,i,o,s){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=Fe.none,this.match=o||(s&yi?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(G.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Po)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let t=G.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(G.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Hg.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Wd{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0;let i=t.topNode,o,s=Hd(null,t.preserveWhitespace,0)|(r?yi:0);i?o=new Qi(i.type,i.attrs,Fe.none,!0,t.topMatch||i.type.contentMatch,s):r?o=new Qi(null,null,Fe.none,!0,null,s):o=new Qi(e.schema.topNodeType,null,Fe.none,!0,null,s),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top;if(i.options&Ao||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&Po)i.options&Ao?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],s=e.previousSibling;(!o||s&&s.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=e.nodeName.toLowerCase(),o;Wg.hasOwnProperty(i)&&this.parser.normalizeLists&&UC(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));if(s?s.ignore:WC.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let a,l=this.top,c=this.needsBlock;if(Hg.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);return}let u=s&&s.skip?t:this.readStyles(e,t);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,t);a&&this.addElementByRule(e,s,a,s.consuming===!1?o:void 0)}}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(c=>!l.clearMark(c)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,r,i){let o,s;if(t.node)if(s=this.parser.schema.nodes[t.node],s.isLeaf)this.insertNode(s.create(t.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(s,t.attrs||null,r,t.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[t.mark];r=r.concat(l.create(t.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}o&&this.sync(a)&&this.open--}addAll(e,t,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,t);this.findAtPoint(e,o)}findPlace(e,t){let r,i;for(let o=this.open;o>=0;o--){let s=this.nodes[o],a=s.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=s,!a.length)||s.solid)break}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)t=this.enterInner(r[o],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(t=this.enterInner(i,null,t))}let r=this.findPlace(e,t);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=Fe.none;for(let s of r.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):Kd(s.type,e.type))&&(o=s.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let o=this.findPlace(e.create(t),r);return o&&(o=this.enterInner(e,t,r,!0,i)),o}enterInner(e,t,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=Hd(e,o,s.options);s.options&yi&&s.content.length==0&&(a|=yi);let l=Fe.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):Kd(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Qi(e,t,l,i,null,a)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=t[a];if(c==""){if(a==t.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return s(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function UC(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Wg.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function KC(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function Ud(n){let e={};for(let t in n)e[t]=n[t];return e}function Kd(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}class mr{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Os(t).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,t);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=ho(Os(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&ho(Os(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return ho(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new mr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Yd(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return Yd(e.marks)}}function Yd(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Os(n){return n.document||window.document}const Gd=new WeakMap;function YC(n){let e=Gd.get(n);return e===void 0&&Gd.set(n,e=GC(n)),e}function GC(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function ho(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=YC(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(t=i.slice(0,s),i=i.slice(s+1));let a,l=t?n.createElementNS(t,i):n.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let p=d.indexOf(" ");p>0?l.setAttributeNS(d.slice(0,p),d.slice(p+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let p=e[d];if(p===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:f}=ho(n,p,t,r);if(l.appendChild(h),f){if(a)throw new RangeError("Multiple content holes");a=f}}}return{dom:l,contentDOM:a}}const Ug=65535,Kg=Math.pow(2,16);function JC(n,e){return n+e*Kg}function Jd(n){return n&Ug}function ZC(n){return(n-(n&Ug))/Kg}const Yg=1,Gg=2,mo=4,Jg=8;class Tc{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&Jg)>0}get deletedBefore(){return(this.delInfo&(Yg|mo))>0}get deletedAfter(){return(this.delInfo&(Gg|mo))>0}get deletedAcross(){return(this.delInfo&mo)>0}}class Rt{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Rt.empty)return Rt.empty}recover(e){let t=0,r=Jd(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+ZC(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){let p=c?e==l?-1:e==d?1:t:t,h=l+i+(p<0?0:u);if(r)return h;let f=e==(t<0?l:d)?null:JC(a/3,e-l),m=e==l?Gg:e==d?Yg:mo;return(t<0?e!=l:e!=d)&&(m|=Jg),new Tc(h,m,f)}i+=u-c}return r?e+i:new Tc(e+i,0,null)}touches(e,t){let r=0,i=Jd(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+t],u=this.ranges[i+r];e(a,a+c,l,l+u),o+=u-c}}invert(){return new Rt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Rt.empty:new Rt(e<0?[0,-e,0]:[0,0,e])}}Rt.empty=new Rt([]);class _r{constructor(e=[],t,r=0,i=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=i}slice(e=0,t=this.maps.length){return new _r(this.maps,this.mirror,e,t)}copy(){return new _r(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new _r;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Tc(e,i,null)}}const Is=Object.create(null);class yt{getMap(){return Rt.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Is[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Is)throw new RangeError("Duplicate use of step JSON ID "+e);return Is[e]=t,t.prototype.jsonID=e,t}}class et{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new et(e,null)}static fail(e){return new et(null,e)}static fromReplace(e,t,r,i){try{return et.ok(e.replace(t,r,i))}catch(o){if(o instanceof Do)return et.fail(o.message);throw o}}}function su(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(su(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return G.fromArray(r)}class In extends yt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new ae(su(t.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),t.openStart,t.openEnd);return et.fromReplace(e,this.from,this.to,o)}invert(){return new rn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new In(t.pos,r.pos,this.mark)}merge(e){return e instanceof In&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new In(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new In(t.from,t.to,e.markFromJSON(t.mark))}}yt.jsonID("addMark",In);class rn extends yt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new ae(su(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return et.fromReplace(e,this.from,this.to,r)}invert(){return new In(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new rn(t.pos,r.pos,this.mark)}merge(e){return e instanceof rn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new rn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new rn(t.from,t.to,e.markFromJSON(t.mark))}}yt.jsonID("removeMark",rn);class Pn extends yt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return et.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return et.fromReplace(e,this.pos,this.pos+1,new ae(G.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Pn(this.pos,t.marks[i]);return new Pn(this.pos,this.mark)}}return new zr(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Pn(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Pn(t.pos,e.markFromJSON(t.mark))}}yt.jsonID("addNodeMark",Pn);class zr extends yt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return et.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return et.fromReplace(e,this.pos,this.pos+1,new ae(G.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Pn(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new zr(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new zr(t.pos,e.markFromJSON(t.mark))}}yt.jsonID("removeNodeMark",zr);class st extends yt{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&Oc(e,this.from,this.to)?et.fail("Structure replace would overwrite content"):et.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Rt([this.from,this.to-this.from,this.slice.size])}invert(e){return new st(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new st(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof st)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ae.empty:new ae(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new st(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ae.empty:new ae(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new st(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new st(t.from,t.to,ae.fromJSON(e,t.slice),!!t.structure)}}yt.jsonID("replace",st);class at extends yt{constructor(e,t,r,i,o,s,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(Oc(e,this.from,this.gapFrom)||Oc(e,this.gapTo,this.to)))return et.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return et.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?et.fromReplace(e,this.from,this.to,r):et.fail("Content does not fit in gap")}getMap(){return new Rt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new at(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new at(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new at(t.from,t.to,t.gapFrom,t.gapTo,ae.fromJSON(e,t.slice),t.insert,!!t.structure)}}yt.jsonID("replaceAround",at);function Oc(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function XC(n,e,t,r){let i=[],o=[],s,a;n.doc.nodesBetween(e,t,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let p=Math.max(c,e),h=Math.min(c+l.nodeSize,t),f=r.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(f)||(s&&s.to==p&&s.mark.eq(d[m])?s.to=h:i.push(s=new rn(p,h,d[m])));a&&a.to==p?a.to=h:o.push(a=new In(p,h,r))}}),i.forEach(l=>n.step(l)),o.forEach(l=>n.step(l))}function QC(n,e,t,r){let i=[],o=0;n.doc.nodesBetween(e,t,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof Jo){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,t);for(let u=0;u<l.length;u++){let d=l[u],p;for(let h=0;h<i.length;h++){let f=i[h];f.step==o-1&&d.eq(i[h].style)&&(p=f)}p?(p.to=c,p.step=o):i.push({style:d,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>n.step(new rn(s.from,s.to,s.style)))}function au(n,e,t,r=t.contentMatch,i=!0){let o=n.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new st(a,u,ae.empty));else{r=d;for(let p=0;p<c.marks.length;p++)t.allowsMarkType(c.marks[p].type)||n.step(new rn(a,u,c.marks[p]));if(i&&c.isText&&t.whitespace!="pre"){let p,h=/\r?\n|\r/g,f;for(;p=h.exec(c.text);)f||(f=new ae(G.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),s.push(new st(a+p.index,a+p.index+p[0].length,f))}}a=u}if(!r.validEnd){let l=r.fillBefore(G.empty,!0);n.replace(a,a,new ae(l,0,0))}for(let l=s.length-1;l>=0;l--)n.step(s[l])}function eM(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Zr(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),s=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,s,t))return r;if(r==0||i.type.spec.isolating||!eM(i,o,s))break}return null}function tM(n,e,t){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=G.empty,d=0;for(let f=o,m=!1;f>t;f--)m||r.index(f)>0?(m=!0,u=G.from(r.node(f).copy(u)),d++):l--;let p=G.empty,h=0;for(let f=o,m=!1;f>t;f--)m||i.after(f+1)<i.end(f)?(m=!0,p=G.from(i.node(f).copy(p)),h++):c++;n.step(new at(l,c,s,a,new ae(u.append(p),d,h),u.size-d,!0))}function lu(n,e,t=null,r=n){let i=nM(n,e),o=i&&rM(r,e);return o?i.map(Zd).concat({type:e,attrs:t}).concat(o.map(Zd)):null}function Zd(n){return{type:n,attrs:null}}function nM(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return t.canReplaceWith(r,i,s)?o:null}function rM(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:s}function iM(n,e,t){let r=G.empty;for(let s=t.length-1;s>=0;s--){if(r.size){let a=t[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=G.from(t[s].type.create(t[s].attrs,r))}let i=e.start,o=e.end;n.step(new at(i,o,i,o,new ae(r,0,0),t.length,!0))}function oM(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&sM(n.doc,n.mapping.slice(o).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",f=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!f?c=!1:!h&&f&&(c=!0)}c===!1&&Xg(n,s,a,o),au(n,n.mapping.slice(o).map(a,1),r,void 0,c===null);let u=n.mapping.slice(o),d=u.map(a,1),p=u.map(a+s.nodeSize,1);return n.step(new at(d,p,d+1,p-1,new ae(G.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&Zg(n,s,a,o),!1}})}function Zg(n,e,t,r){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=n.mapping.slice(r).map(t+1+o+s.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function Xg(n,e,t,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=n.mapping.slice(r).map(t+1+o);n.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function sM(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function aM(n,e,t,r,i){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let s=t.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,s);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new at(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new ae(G.from(s),0,0),1,!0))}function Lr(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=t-2;c>o;c--,u--){let d=i.node(c),p=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(p,d.childCount),f=r&&r[u+1];f&&(h=h.replaceChild(0,f.type.create(f.attrs)));let m=r&&r[u]||d;if(!d.canReplace(p+1,d.childCount)||!m.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function lM(n,e,t=1,r){let i=n.doc.resolve(e),o=G.empty,s=G.empty;for(let a=i.depth,l=i.depth-t,c=t-1;a>l;a--,c--){o=G.from(i.node(a).copy(o));let u=r&&r[c];s=G.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}n.step(new st(e,e,new ae(o.append(s),t,t),!0))}function Bn(n,e){let t=n.resolve(e),r=t.index();return Qg(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function cM(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(s),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function Qg(n,e){return!!(n&&e&&!n.isLeaf&&cM(n,e))}function Zo(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):t>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&Qg(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function uM(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,o=n.doc.resolve(e-t),s=o.node().type;if(i&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=n.steps.length;if(r===!1){let u=n.doc.resolve(e+t);Xg(n,u.node(),u.before(),a)}s.inlineContent&&au(n,e+t-1,s,o.node().contentMatchAt(o.index()),r==null);let l=n.mapping.slice(a),c=l.map(e-t);if(n.step(new st(c,l.map(e+t,-1),ae.empty,!0)),r===!0){let u=n.doc.resolve(c);Zg(n,u.node(),u.before(),n.steps.length)}return n}function dM(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,t))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function ey(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let o=0;o<t.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function Xo(n,e,t=e,r=ae.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return ty(i,o,r)?new st(e,t,r):new pM(i,o,r).fit()}function ty(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class pM{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=G.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=G.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new ae(o,s,a);return e>-1?new at(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new st(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Ps(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(t==1&&(s?c.matchType(s.type)||(d=c.fillBefore(G.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(t==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Ps(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ae(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Ps(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new ae(ci(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new ae(ci(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let m=0;m<o.length;m++)this.openFrontierNode(o[m]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:p}=this.frontier[t];if(i){for(let m=0;m<i.childCount;m++)u.push(i.child(m));d=d.matchFragment(i)}let h=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let m=a.child(c),g=d.matchType(m.type);if(!g)break;c++,(c>1||l==0||m.content.size)&&(d=g,u.push(ny(m.mark(p.allowedMarks(m.marks)),c==1?l:0,c==a.childCount?h:-1)))}let f=c==a.childCount;f||(h=-1),this.placed=ui(this.placed,t,G.from(u)),this.frontier[t].match=d,f&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=a;m<h;m++){let v=g.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),g=v.content}this.unplaced=f?e==0?ae.empty:new ae(ci(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new ae(ci(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!As(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=As(e,t,i,r,o);if(s){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=As(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ui(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ui(this.placed,this.depth,G.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(G.empty,!0);t.childCount&&(this.placed=ui(this.placed,this.frontier.length,t))}}function ci(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(ci(n.firstChild.content,e-1,t)))}function ui(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(ui(n.lastChild.content,e-1,t)))}function Ps(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function ny(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,ny(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(G.empty,!0)))),n.copy(r)}function As(n,e,t,r,i){let o=n.node(e),s=i?n.indexAfter(e):n.index(e);if(s==o.childCount&&!t.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!fM(t,o.content,s)?a:null}function fM(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function hM(n){return n.spec.defining||n.spec.definingForContent}function mM(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),o=n.doc.resolve(t);if(ty(i,o,r))return n.step(new st(e,t,r));let s=iy(i,n.doc.resolve(t));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let p=i.depth,h=i.pos-1;p>0;p--,h--){let f=i.node(p).type.spec;if(f.defining||f.definingAsContext||f.isolating)break;s.indexOf(p)>-1?a=p:i.before(p)==h&&s.splice(1,0,-p)}let l=s.indexOf(a),c=[],u=r.openStart;for(let p=r.content,h=0;;h++){let f=p.firstChild;if(c.push(f),h==r.openStart)break;p=f.content}for(let p=u-1;p>=0;p--){let h=c[p],f=hM(h.type);if(f&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=p;else if(f||!h.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let h=(p+u+1)%(r.openStart+1),f=c[h];if(f)for(let m=0;m<s.length;m++){let g=s[(m+l)%s.length],v=!0;g<0&&(v=!1,g=-g);let b=i.node(g-1),S=i.index(g-1);if(b.canReplaceWith(S,S,f.type,f.marks))return n.replace(i.before(g),v?o.after(g):t,new ae(ry(r.content,0,r.openStart,h),h,r.openEnd))}}let d=n.steps.length;for(let p=s.length-1;p>=0&&(n.replace(e,t,r),!(n.steps.length>d));p--){let h=s[p];h<0||(e=i.before(h),t=o.after(h))}}function ry(n,e,t,r,i){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(ry(o.content,e+1,t,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(n).append(n);n=s.append(o.matchFragment(s).fillBefore(G.empty,!0))}return n}function gM(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=dM(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new ae(G.from(r),0,0))}function yM(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),o=iy(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&t>r.end(s)&&i.end(s)-t!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return n.delete(r.before(s),t);n.delete(e,t)}function iy(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}class $r extends yt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return et.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return et.fromReplace(e,this.pos,this.pos+1,new ae(G.from(i),0,t.isLeaf?0:1))}getMap(){return Rt.empty}invert(e){return new $r(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new $r(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new $r(t.pos,t.attr,t.value)}}yt.jsonID("attr",$r);class wi extends yt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return et.ok(r)}getMap(){return Rt.empty}invert(e){return new wi(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new wi(t.attr,t.value)}}yt.jsonID("docAttr",wi);let qr=class extends Error{};qr=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};qr.prototype=Object.create(Error.prototype);qr.prototype.constructor=qr;qr.prototype.name="TransformError";class vM{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new _r}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new qr(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=ae.empty){let i=Xo(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new ae(G.from(r),0,0))}delete(e,t){return this.replace(e,t,ae.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return mM(this,e,t,r),this}replaceRangeWith(e,t,r){return gM(this,e,t,r),this}deleteRange(e,t){return yM(this,e,t),this}lift(e,t){return tM(this,e,t),this}join(e,t=1){return uM(this,e,t),this}wrap(e,t){return iM(this,e,t),this}setBlockType(e,t=e,r,i=null){return oM(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return aM(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new $r(e,t,r)),this}setDocAttribute(e,t){return this.step(new wi(e,t)),this}addNodeMark(e,t){return this.step(new Pn(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Fe)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new zr(e,t)),this}split(e,t=1,r){return lM(this,e,t,r),this}addMark(e,t,r){return XC(this,e,t,r),this}removeMark(e,t,r){return QC(this,e,t,r),this}clearIncompatible(e,t,r){return au(this,e,t,r),this}}const Es=Object.create(null);class xe{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new bM(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ae.empty){let r=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?ae.empty:t),a==0&&ep(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),ep(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new ye(e):Or(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=t<0?Or(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):Or(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(s)return s}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Jt(e.node(0))}static atStart(e){return Or(e,e,0,0,1)||new Jt(e)}static atEnd(e){return Or(e,e,e.content.size,e.childCount,-1)||new Jt(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Es[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Es)throw new RangeError("Duplicate use of selection JSON ID "+e);return Es[e]=t,t.prototype.jsonID=e,t}getBookmark(){return ye.between(this.$anchor,this.$head).getBookmark()}}xe.prototype.visible=!0;class bM{constructor(e,t){this.$from=e,this.$to=t}}let Xd=!1;function Qd(n){!Xd&&!n.parent.inlineContent&&(Xd=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class ye extends xe{constructor(e,t=e){Qd(e),Qd(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return xe.near(r);let i=e.resolve(t.map(this.anchor));return new ye(i.parent.inlineContent?i:r,r)}replace(e,t=ae.empty){if(super.replace(e,t),t==ae.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ye&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Qo(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ye(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let o=xe.findFrom(t,r,!0)||xe.findFrom(t,-r,!0);if(o)t=o.$head;else return xe.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(xe.findFrom(e,-r,!0)||xe.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new ye(e,t)}}xe.jsonID("text",ye);class Qo{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Qo(e.map(this.anchor),e.map(this.head))}resolve(e){return ye.between(e.resolve(this.anchor),e.resolve(this.head))}}class ge extends xe{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return r?xe.near(o):new ge(o)}content(){return new ae(G.from(this.node),0,0)}eq(e){return e instanceof ge&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new cu(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ge(e.resolve(t.anchor))}static create(e,t){return new ge(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ge.prototype.visible=!1;xe.jsonID("node",ge);class cu{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Qo(r,r):new cu(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ge.isSelectable(r)?new ge(t):xe.near(t)}}class Jt extends xe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ae.empty){if(t==ae.empty){e.delete(0,e.doc.content.size);let r=xe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Jt(e)}map(e){return new Jt(e)}eq(e){return e instanceof Jt}getBookmark(){return xM}}xe.jsonID("all",Jt);const xM={map(){return this},resolve(n){return new Jt(n)}};function Or(n,e,t,r,i,o=!1){if(e.inlineContent)return ye.create(n,t);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&ge.isSelectable(a))return ge.create(n,t-(i<0?a.nodeSize:0))}else{let l=Or(n,a,t+i,i<0?a.childCount:0,i,o);if(l)return l}t+=a.nodeSize*i}return null}function ep(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof st||i instanceof at))return;let o=n.mapping.maps[r],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),n.setSelection(xe.near(n.doc.resolve(s),t))}const tp=1,eo=2,np=4;class kM extends vM{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|tp)&~eo,this.storedMarks=null,this}get selectionSet(){return(this.updated&tp)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=eo,this}ensureMarks(e){return Fe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&eo)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~eo,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Fe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(t);o=r==t?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,o)),this.selection.empty||this.setSelection(xe.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=np,this}get scrolledIntoView(){return(this.updated&np)>0}}function rp(n,e){return!e||!n?n:n.bind(e)}class di{constructor(e,t,r){this.name=e,this.init=rp(t.init,r),this.apply=rp(t.apply,r)}}const SM=[new di("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new di("selection",{init(n,e){return n.selection||xe.atStart(e.doc)},apply(n){return n.selection}}),new di("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new di("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Rs{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=SM.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new di(r.key,r.spec.state,r))})}}class Er{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:t.length}:{state:this,n:0})}t.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Er(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new kM(this)}static create(e){let t=new Rs(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Er(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new Rs(this.schema,e.plugins),r=t.fields,i=new Er(t);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Rs(e.schema,e.plugins),o=new Er(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=En.fromJSON(e.schema,t.doc);else if(s.name=="selection")o.selection=xe.fromJSON(o.doc,t.selection);else if(s.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){o[s.name]=c.fromJSON.call(l,e,t[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function oy(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=oy(i,e,{})),t[r]=i}return t}class Ot{constructor(e){this.spec=e,this.props={},e.props&&oy(e.props,this,this.props),this.key=e.key?e.key.key:sy("plugin")}getState(e){return e[this.key]}}const Ns=Object.create(null);function sy(n){return n in Ns?n+"$"+ ++Ns[n]:(Ns[n]=0,n+"$")}class cn{constructor(e="key"){this.key=sy(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ut=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Ci=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Ic=null;const hn=function(n,e,t){let r=Ic||(Ic=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},wM=function(){Ic=null},ur=function(n,e,t,r){return t&&(ip(n,e,t,r,-1)||ip(n,e,t,r,1))},CM=/^(img|br|input|textarea|hr)$/i;function ip(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Lt(n))){let o=n.parentNode;if(!o||o.nodeType!=1||Fi(n)||CM.test(n.nodeName)||n.contentEditable=="false")return!1;e=ut(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?Lt(n):0}else return!1}}function Lt(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function MM(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Lt(n)}else if(n.parentNode&&!Fi(n))e=ut(n),n=n.parentNode;else return null}}function DM(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Fi(n))e=ut(n)+1,n=n.parentNode;else return null}}function TM(n,e,t){for(let r=e==0,i=e==Lt(n);r||i;){if(n==t)return!0;let o=ut(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,i=i&&o==Lt(n)}}function Fi(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const es=function(n){return n.focusNode&&ur(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Jn(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function OM(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function IM(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Lt(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Lt(r.startContainer),r.startOffset)}}}const sn=typeof navigator<"u"?navigator:null,op=typeof document<"u"?document:null,zn=sn&&sn.userAgent||"",Pc=/Edge\/(\d+)/.exec(zn),ay=/MSIE \d/.exec(zn),Ac=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(zn),Dt=!!(ay||Ac||Pc),Nn=ay?document.documentMode:Ac?+Ac[1]:Pc?+Pc[1]:0,Zt=!Dt&&/gecko\/(\d+)/i.test(zn);Zt&&+(/Firefox\/(\d+)/.exec(zn)||[0,0])[1];const Ec=!Dt&&/Chrome\/(\d+)/.exec(zn),gt=!!Ec,ly=Ec?+Ec[1]:0,xt=!Dt&&!!sn&&/Apple Computer/.test(sn.vendor),Hr=xt&&(/Mobile\/\w+/.test(zn)||!!sn&&sn.maxTouchPoints>2),_t=Hr||(sn?/Mac/.test(sn.platform):!1),PM=sn?/Win/.test(sn.platform):!1,Yt=/Android \d/.test(zn),ji=!!op&&"webkitFontSmoothing"in op.documentElement.style,AM=ji?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function EM(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function fn(n,e){return typeof n=="number"?n:n[e]}function RM(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function sp(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let s=t||n.dom;s;s=Ci(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,c=l?EM(o):RM(a),u=0,d=0;if(e.top<c.top+fn(r,"top")?d=-(c.top-e.top+fn(i,"top")):e.bottom>c.bottom-fn(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+fn(i,"top")-c.top:e.bottom-c.bottom+fn(i,"bottom")),e.left<c.left+fn(r,"left")?u=-(c.left-e.left+fn(i,"left")):e.right>c.right-fn(r,"right")&&(u=e.right-c.right+fn(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let p=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let f=a.scrollLeft-p,m=a.scrollTop-h;e={left:e.left-f,top:e.top-m,right:e.right-f,bottom:e.bottom-m}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function NM(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=t+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=n.root.elementFromPoint(o,s);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:cy(n.dom)}}function cy(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Ci(r));return e}function FM({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;uy(t,r==0?0:r-e)}function uy(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:o}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let wr=null;function jM(n){if(n.setActive)return n.setActive();if(wr)return n.focus(wr);let e=cy(n);n.focus(wr==null?{get preventScroll(){return wr={preventScroll:!0},!0}}:void 0),wr||(wr=!1,uy(e,0))}function dy(n,e){let t,r=2e8,i,o=0,s=e.top,a=e.top,l,c;for(let u=n.firstChild,d=0;u;u=u.nextSibling,d++){let p;if(u.nodeType==1)p=u.getClientRects();else if(u.nodeType==3)p=hn(u).getClientRects();else continue;for(let h=0;h<p.length;h++){let f=p[h];if(f.top<=s&&f.bottom>=a){s=Math.max(f.bottom,s),a=Math.min(f.top,a);let m=f.left>e.left?f.left-e.left:f.right<e.left?e.left-f.right:0;if(m<r){t=u,r=m,i=m&&t.nodeType==3?{left:f.right<e.left?f.right:f.left,top:e.top}:e,u.nodeType==1&&m&&(o=d+(e.left>=(f.left+f.right)/2?1:0));continue}}else f.top>e.top&&!l&&f.left<=e.left&&f.right>=e.left&&(l=u,c={left:Math.max(f.left,Math.min(f.right,e.left)),top:f.top});!t&&(e.left>=f.right&&e.top>=f.top||e.left>=f.left&&e.top>=f.bottom)&&(o=d+1)}}return!t&&l&&(t=l,i=c,r=0),t&&t.nodeType==3?_M(t,i):!t||r&&t.nodeType==1?{node:n,offset:o}:dy(t,i)}function _M(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let o=wn(r,1);if(o.top!=o.bottom&&uu(e,o))return{node:n,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function uu(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function LM(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function $M(n,e,t){let{node:r,offset:i}=dy(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&t.left>(s.left+s.right)/2?1:-1}return n.docView.posFromDOM(r,i,o)}function VM(n,e,t,r){let i=-1;for(let o=e,s=!1;o!=n.dom;){let a=n.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!s&&l.left>r.left||l.top>r.top?i=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function py(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){let s=n.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(uu(e,c))return py(s,e,c)}}if((o=(o+1)%r)==i)break}return n}function BM(n,e){let t=n.dom.ownerDocument,r,i=0,o=IM(t,e.left,e.top);o&&({node:r,offset:i}=o);let s=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!s||!n.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=n.dom.getBoundingClientRect();if(!uu(e,c)||(s=py(n.dom,e,c),!s))return null}if(xt)for(let c=s;r&&c;c=Ci(c))c.draggable&&(r=void 0);if(s=LM(s,e),r){if(Zt&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;ji&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=VM(n,r,i,e))}a==null&&(a=$M(n,s,e));let l=n.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function ap(n){return n.top<n.bottom||n.left<n.right}function wn(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(ap(r))return r}return Array.prototype.find.call(t,ap)||n.getBoundingClientRect()}const zM=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function fy(n,e,t){let{node:r,offset:i,atom:o}=n.docView.domFromPos(e,t<0?-1:1),s=ji||Zt;if(r.nodeType==3)if(s&&(zM.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let l=wn(hn(r,i,i),t);if(Zt&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=wn(hn(r,i-1,i-1),-1);if(c.top==l.top){let u=wn(hn(r,i,i+1),-1);if(u.top!=l.top)return li(u,u.left<c.left)}}return l}else{let l=i,c=i,u=t<0?1:-1;return t<0&&!i?(c++,u=-1):t>=0&&i==r.nodeValue.length?(l--,u=1):t<0?l--:c++,li(wn(hn(r,l,c),u),u<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(t<0||i==Lt(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return Fs(l.getBoundingClientRect(),!1)}if(o==null&&i<Lt(r)){let l=r.childNodes[i];if(l.nodeType==1)return Fs(l.getBoundingClientRect(),!0)}return Fs(r.getBoundingClientRect(),t>=0)}if(o==null&&i&&(t<0||i==Lt(r))){let l=r.childNodes[i-1],c=l.nodeType==3?hn(l,Lt(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return li(wn(c,1),!1)}if(o==null&&i<Lt(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?hn(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return li(wn(c,-1),!0)}return li(wn(r.nodeType==3?hn(r):r,-t),t>=0)}function li(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Fs(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function hy(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function qM(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return hy(n,e,()=>{let{node:o}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=fy(n,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=hn(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(t=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const HM=/[\u0590-\u08ac]/;function WM(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=n.domSelection();return a?!HM.test(r.parent.textContent)||!a.modify?t=="left"||t=="backward"?o:s:hy(n,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=n.domSelectionRange(),p=a.caretBidiLevel;a.modify("move",t,"character");let h=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:f,focusOffset:m}=n.domSelectionRange(),g=f&&!h.contains(f.nodeType==1?f:f.parentNode)||l==f&&c==m;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return p!=null&&(a.caretBidiLevel=p),g}):r.pos==r.start()||r.pos==r.end()}let lp=null,cp=null,up=!1;function UM(n,e,t){return lp==e&&cp==t?up:(lp=e,cp=t,up=t=="up"||t=="down"?qM(n,e,t):WM(n,e,t))}const Vt=0,dp=1,Xn=2,an=3;class _i{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=Vt,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>ut(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!t||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof gy){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof my&&o.side>=0;r--);if(t<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&t&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?ut(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?ut(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&e<=c){let u=s+l.border;if(e>=u&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,u);e=s;for(let d=a;d>0;d--){let p=this.children[d-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=ut(p.dom)+1;break}e-=p.size}i==-1&&(i=0)}if(i>-1&&(c>t||a==this.children.length-1)){t=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=ut(d.dom);break}t+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let o=Math.min(e,t),s=Math.max(e,t);for(let h=0,f=0;h<this.children.length;h++){let m=this.children[h],g=f+m.size;if(o>f&&s<g)return m.setSelection(e-f-m.border,t-f-m.border,r,i);f=g}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((Zt||xt)&&e==t){let{node:h,offset:f}=a;if(h.nodeType==3){if(d=!!(f&&h.nodeValue[f-1]==`
`),d&&f==h.nodeValue.length)for(let m=h,g;m;m=m.parentNode){if(g=m.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:ut(g)+1});break}let v=m.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let m=h.childNodes[f-1];d=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(Zt&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||d&&xt)&&ur(a.node,a.offset,u.anchorNode,u.anchorOffset)&&ur(l.node,l.offset,u.focusNode,u.focusOffset))return;let p=!1;if((c.extend||e==t)&&!d){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(e>t){let f=a;a=l,l=f}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&t>=r:e<s&&t>r){let a=r+o.border,l=s-o.border;if(e>=a&&t<=l){this.dirty=e==r||t==s?Xn:dp,e==a&&t==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=an:o.markDirty(e-a,t-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Xn:an}r=s}this.dirty=Xn}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Xn:dp;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class my extends _i{constructor(e,t,r,i){let o,s=t.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==Vt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class KM extends _i{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class dr extends _i{constructor(e,t,r,i,o){super(e,[],r,i),this.mark=t,this.spec=o}static create(e,t,r,i){let o=i.nodeViews[t.type.name],s=o&&o(t,i,r);return(!s||!s.dom)&&(s=mr.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new dr(e,t,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&an||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=an&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Vt){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Vt}}slice(e,t,r){let i=dr.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;t<s&&(o=Nc(o,t,s,r)),e>0&&(o=Nc(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Fn extends _i{constructor(e,t,r,i,o,s,a,l,c){super(e,[],o,s),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,t,r,i,o,s){let a=o.nodeViews[t.type.name],l,c=a&&a(t,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(t.isText){if(!u)u=document.createTextNode(t.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=mr.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!d&&!t.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let p=u;return u=by(u,r,t),c?l=new YM(e,t,r,i,u,d||null,p,c,o,s+1):t.isText?new ts(e,t,r,i,u,p,o):new Fn(e,t,r,i,u,d||null,p,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>G.empty)}return e}matchesNode(e,t,r){return this.dirty==Vt&&e.eq(this.node)&&Eo(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new JM(this,s&&s.node,e);QM(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Fe.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,p)=>{l.syncToMarks(c.marks,r,e);let h;l.findNodeMatch(c,u,d,p)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,h,e)||l.updateNextNode(c,u,d,e,p,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Xn)&&(s&&this.protectLocalComposition(e,s),yy(this.contentDOM,this.children,e),Hr&&eD(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof ye)||r<t||i>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=tD(this.node.content,s,r-t,i-t);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new KM(this,o,t,i);e.input.compositionNodes.push(s),this.children=Nc(this.children,r,r+i.length,e,s)}update(e,t,r,i){return this.dirty==an||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Vt}updateOuterDeco(e){if(Eo(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=vy(this.dom,this.nodeDOM,Rc(this.outerDeco,this.node,t),Rc(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function pp(n,e,t,r,i){by(r,e,n);let o=new Fn(void 0,n,e,t,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class ts extends Fn{constructor(e,t,r,i,o,s,a){super(e,t,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==an||this.dirty!=Vt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Vt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Vt,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),o=document.createTextNode(i.text);return new ts(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=an)}get domAtom(){return!1}isText(e){return this.node.text==e}}class gy extends _i{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Vt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class YM extends Fn{constructor(e,t,r,i,o,s,a,l,c,u){super(e,t,r,i,o,s,a,c,u),this.spec=l}update(e,t,r,i){if(this.dirty==an)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function yy(n,e,t){let r=n.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==n){for(;a!=r;)r=fp(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(s instanceof dr){let l=r?r.previousSibling:n.lastChild;yy(s.contentDOM,s.children,t),r=l?l.nextSibling:n.firstChild}}for(;r;)r=fp(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const vi=function(n){n&&(this.nodeName=n)};vi.prototype=Object.create(null);const Qn=[new vi];function Rc(n,e,t){if(n.length==0)return Qn;let r=t?Qn[0]:new vi,i=[r];for(let o=0;o<n.length;o++){let s=n[o].type.attrs;if(s){s.nodeName&&i.push(r=new vi(s.nodeName));for(let a in s){let l=s[a];l!=null&&(t&&i.length==1&&i.push(r=new vi(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function vy(n,e,t,r){if(t==Qn&&r==Qn)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Qn[0]),i=l}GM(i,a||Qn[0],s)}return i}function GM(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.add(i[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function by(n,e,t){return vy(n,n,Qn,Rc(e,t,n.nodeType!=1))}function Eo(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function fp(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class JM{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=ZM(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Vt,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=dr.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,t,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,t,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,i,o){let s=this.top.children[i];return s.dirty==an&&s.dom==s.contentDOM&&(s.dirty=Xn),s.update(e,t,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Fn){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,p=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=an&&Eo(t,l.outerDeco));if(!p&&l.update(e,t,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!p&&(d=this.recreateWrapper(l,e,t,r,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Xn,d.updateChildren(i,s+1),d.dirty=Vt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,o,s){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Eo(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Fn.create(this.top,t,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,r,i,o){let s=Fn.create(this.top,e,t,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new my(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof dr;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof ts)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((xt||gt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new gy(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function ZM(n,e){let t=e,r=t.children.length,i=n.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=t.children[r-1];if(c instanceof dr)t=c,r=c.children.length;else{a=c,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=n.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function XM(n,e){return n.type.side-e.type.side}function QM(n,e,t,r){let i=e.locals(n),o=0;if(i.length==0){for(let c=0;c<n.childCount;c++){let u=n.child(c);r(u,i,e.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d;for(;s<i.length&&i[s].to==o;){let g=i[s++];g.widget&&(u?(d||(d=[u])).push(g):u=g)}if(u)if(d){d.sort(XM);for(let g=0;g<d.length;g++)t(d[g],c,!!l)}else t(u,c,!!l);let p,h;if(l)h=-1,p=l,l=null;else if(c<n.childCount)h=c,p=n.child(c++);else break;for(let g=0;g<a.length;g++)a[g].to<=o&&a.splice(g--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let f=o+p.nodeSize;if(p.isText){let g=f;s<i.length&&i[s].from<g&&(g=i[s].from);for(let v=0;v<a.length;v++)a[v].to<g&&(g=a[v].to);g<f&&(l=p.cut(g-o),p=p.cut(0,g-o),f=g,h=-1)}else for(;s<i.length&&i[s].to<f;)s++;let m=p.isInline&&!p.isLeaf?a.filter(g=>!g.inline):a.slice();r(p,m,e.forChild(o,p),h),o=f}}function eD(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function tD(n,e,t,r){for(let i=0,o=0;i<n.childCount&&o<=r;){let s=n.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<n.childCount;){let c=n.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=t){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=t)return a+c;if(t==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Nc(n,e,t,r,i){let o=[];for(let s=0,a=0;s<n.length;s++){let l=n[s],c=a,u=a+=l.size;c>=t||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>t&&o.push(l.slice(t-c,l.size,r)))}return o}function du(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),o=i&&i.size==0,s=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(es(t)){for(l=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&ge.isSelectable(d)&&i.parent&&!(d.isInline&&TM(t.focusNode,t.focusOffset,i.dom))){let p=i.posBefore;c=new ge(s==p?a:r.resolve(p))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let d=s,p=s;for(let h=0;h<t.rangeCount;h++){let f=t.getRangeAt(h);d=Math.min(d,n.docView.posFromDOM(f.startContainer,f.startOffset,1)),p=Math.max(p,n.docView.posFromDOM(f.endContainer,f.endOffset,-1))}if(d<0)return null;[l,s]=p==n.state.selection.anchor?[p,d]:[d,p],a=r.resolve(s)}else l=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||n.state.selection.head<a.pos&&!o?1:-1;c=pu(n,u,a,d)}return c}function xy(n){return n.editable?n.hasFocus():Sy(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function mn(n,e=!1){let t=n.state.selection;if(ky(n,t),!!xy(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&gt){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&ur(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)rD(n);else{let{anchor:r,head:i}=t,o,s;hp&&!(t instanceof ye)&&(t.$from.parent.inlineContent||(o=mp(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(s=mp(n,t.to))),n.docView.setSelection(r,i,n,e),hp&&(o&&gp(o),s&&gp(s)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&nD(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const hp=xt||gt&&ly<63;function mp(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(xt&&i&&i.contentEditable=="false")return js(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return js(i);if(o)return js(o)}}function js(n){return n.contentEditable="true",xt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function gp(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function nD(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!xy(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function rD(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,ut(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&Dt&&Nn<=11&&(r.disabled=!0,r.disabled=!1)}function ky(n,e){if(e instanceof ge){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(yp(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else yp(n)}function yp(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function pu(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||ye.between(e,t,r)}function vp(n){return n.editable&&!n.hasFocus()?!1:Sy(n)}function Sy(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function iD(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return ur(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Fc(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),o=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return o&&xe.findFrom(o,e)}function Cn(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function bp(n,e,t){let r=n.state.selection;if(r instanceof ye)if(t.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=n.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Cn(n,new ye(r.$anchor,s))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=Fc(n.state,e);return i&&i instanceof ge?Cn(n,i):!1}else if(!(_t&&t.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=n.docView.descAt(a))&&!s.contentDOM?ge.isSelectable(o)?Cn(n,new ge(e<0?n.state.doc.resolve(i.pos-o.nodeSize):i)):ji?Cn(n,new ye(n.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ge&&r.node.isInline)return Cn(n,new ye(e>0?r.$to:r.$from));{let i=Fc(n.state,e);return i?Cn(n,i):!1}}}function Ro(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function bi(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Cr(n,e){return e<0?oD(n):sD(n)}function oD(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,o,s=!1;for(Zt&&t.nodeType==1&&r<Ro(t)&&bi(t.childNodes[r],-1)&&(s=!0);;)if(r>0){if(t.nodeType!=1)break;{let a=t.childNodes[r-1];if(bi(a,-1))i=t,o=--r;else if(a.nodeType==3)t=a,r=t.nodeValue.length;else break}}else{if(wy(t))break;{let a=t.previousSibling;for(;a&&bi(a,-1);)i=t.parentNode,o=ut(a),a=a.previousSibling;if(a)t=a,r=Ro(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}s?jc(n,t,r):i&&jc(n,i,o)}function sD(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=Ro(t),o,s;for(;;)if(r<i){if(t.nodeType!=1)break;let a=t.childNodes[r];if(bi(a,1))o=t,s=++r;else break}else{if(wy(t))break;{let a=t.nextSibling;for(;a&&bi(a,1);)o=a.parentNode,s=ut(a)+1,a=a.nextSibling;if(a)t=a,r=0,i=Ro(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}o&&jc(n,o,s)}function wy(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function aD(n,e){for(;n&&e==n.childNodes.length&&!Fi(n);)e=ut(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function lD(n,e){for(;n&&!e&&!Fi(n);)e=ut(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function jc(n,e,t){if(e.nodeType!=3){let o,s;(s=aD(e,t))?(e=s,t=0):(o=lD(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(es(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&mn(n)},50)}function xp(n,e){let t=n.state.doc.resolve(e);if(!(gt||PM)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function kp(n,e,t){let r=n.state.selection;if(r instanceof ye&&!r.empty||t.indexOf("s")>-1||_t&&t.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let s=Fc(n.state,e);if(s&&s instanceof ge)return Cn(n,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof Jt?xe.near(s,e):xe.findFrom(s,e);return a?Cn(n,a):!1}return!1}function Sp(n,e){if(!(n.state.selection instanceof ye))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let s=n.state.tr;return e<0?s.delete(t.pos-o.nodeSize,t.pos):s.delete(t.pos,t.pos+o.nodeSize),n.dispatch(s),!0}return!1}function wp(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function cD(n){if(!xt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;wp(n,r,"true"),setTimeout(()=>wp(n,r,"false"),20)}return!1}function uD(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function dD(n,e){let t=e.keyCode,r=uD(e);if(t==8||_t&&t==72&&r=="c")return Sp(n,-1)||Cr(n,-1);if(t==46&&!e.shiftKey||_t&&t==68&&r=="c")return Sp(n,1)||Cr(n,1);if(t==13||t==27)return!0;if(t==37||_t&&t==66&&r=="c"){let i=t==37?xp(n,n.state.selection.from)=="ltr"?-1:1:-1;return bp(n,i,r)||Cr(n,i)}else if(t==39||_t&&t==70&&r=="c"){let i=t==39?xp(n,n.state.selection.from)=="ltr"?1:-1:1;return bp(n,i,r)||Cr(n,i)}else{if(t==38||_t&&t==80&&r=="c")return kp(n,-1,r)||Cr(n,-1);if(t==40||_t&&t==78&&r=="c")return cD(n)||kp(n,1,r)||Cr(n,1);if(r==(_t?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Cy(n,e){n.someProp("transformCopied",h=>{e=h(e,n)});let t=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;t.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=n.someProp("clipboardSerializer")||mr.fromSchema(n.state.schema),a=Py(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=Iy[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let f=a.createElement(u[h]);for(;l.firstChild;)f.appendChild(l.firstChild);l.appendChild(f),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(t)}`);let p=n.someProp("clipboardTextSerializer",h=>h(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:p,slice:e}}function My(n,e,t,r,i){let o=i.parent.type.spec.code,s,a;if(!t&&!e)return null;let l=e&&(r||o||!t);if(l){if(n.someProp("transformPastedText",p=>{e=p(e,o||r,n)}),o)return e?new ae(G.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ae.empty;let d=n.someProp("clipboardTextParser",p=>p(e,i,r,n));if(d)a=d;else{let p=i.marks(),{schema:h}=n.state,f=mr.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let g=s.appendChild(document.createElement("p"));m&&g.appendChild(f.serializeNode(h.text(m,p)))})}}else n.someProp("transformPastedHTML",d=>{t=d(t,n)}),s=mD(t),ji&&gD(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let p=s.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;s=p}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||Rn.fromSchema(n.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!pD.test(p.parentNode.nodeName)?{ignore:!0}:null}})),u)a=yD(Cp(a,+u[1],+u[2]),u[4]);else if(a=ae.maxOpen(fD(a.content,i),!0),a.openStart||a.openEnd){let d=0,p=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;p<a.openEnd&&!h.type.spec.isolating;p++,h=h.lastChild);a=Cp(a,d,p)}return n.someProp("transformPasted",d=>{a=d(a,n)}),a}const pD=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function fD(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),o,s=[];if(n.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&Ty(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=Oy(s[s.length-1],o.length));let u=Dy(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return G.from(s)}return n}function Dy(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,G.from(n));return n}function Ty(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let o=Ty(n,e,t,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(G.from(Dy(t,n,i+1))))}}function Oy(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,Oy(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(G.empty,!0);return n.copy(t.append(r))}function _c(n,e,t,r,i,o){let s=e<0?n.firstChild:n.lastChild,a=s.content;return n.childCount>1&&(o=0),i<r-1&&(a=_c(a,e,t,r,i+1,o)),i>=t&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(G.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,s.copy(a))}function Cp(n,e,t){return e<n.openStart&&(n=new ae(_c(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ae(_c(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const Iy={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Mp=null;function Py(){return Mp||(Mp=document.implementation.createHTMLDocument("title"))}let _s=null;function hD(n){let e=window.trustedTypes;return e?(_s||(_s=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),_s.createHTML(n)):n}function mD(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=Py().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&Iy[r[1].toLowerCase()])&&(n=i.map(o=>"<"+o+">").join("")+n+i.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=hD(n),i)for(let o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}function gD(n){let e=n.querySelectorAll(gt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent=="Â "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function yD(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:o,openEnd:s}=n;for(let a=r.length-2;a>=0;a-=2){let l=t.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=G.from(l.create(r[a+1],i)),o++,s++}return new ae(i,o,s)}const kt={},St={},vD={touchstart:!0,touchmove:!0};class bD{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function xD(n){for(let e in kt){let t=kt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{SD(n,r)&&!fu(n,r)&&(n.editable||!(r.type in St))&&t(n,r)},vD[e]?{passive:!0}:void 0)}xt&&n.dom.addEventListener("input",()=>null),Lc(n)}function An(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function kD(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Lc(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>fu(n,r))})}function fu(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function SD(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function wD(n,e){!fu(n,e)&&kt[e.type]&&(n.editable||!(e.type in St))&&kt[e.type](n,e)}St.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!Ey(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Yt&&gt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Hr&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Jn(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||dD(n,t)?t.preventDefault():An(n,"key")};St.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};St.keypress=(n,e)=>{let t=e;if(Ey(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||_t&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof ye)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function ns(n){return{left:n.clientX,top:n.clientY}}function CD(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function hu(n,e,t,r,i){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(n.someProp(e,a=>s>o.depth?a(n,t,o.nodeAfter,o.before(s),i,!0):a(n,t,o.node(s),o.before(s),i,!1)))return!0;return!1}function Vr(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function MD(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ge.isSelectable(r)?(Vr(n,new ge(t)),!0):!1}function DD(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof ge&&(r=t.node);let o=n.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(ge.isSelectable(a)){r&&t.$from.depth>0&&s>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?i=o.before(t.$from.depth):i=o.before(s);break}}return i!=null?(Vr(n,ge.create(n.state.doc,i)),!0):!1}function TD(n,e,t,r,i){return hu(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(i?DD(n,t):MD(n,t))}function OD(n,e,t,r){return hu(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function ID(n,e,t,r){return hu(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||PD(n,t,r)}function PD(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Vr(n,ye.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Vr(n,ye.create(r,a+1,a+1+s.content.size));else if(ge.isSelectable(s))Vr(n,ge.create(r,a));else continue;return!0}}function mu(n){return No(n)}const Ay=_t?"metaKey":"ctrlKey";kt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=mu(n),i=Date.now(),o="singleClick";i-n.input.lastClick.time<500&&CD(t,n.input.lastClick)&&!t[Ay]&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:o};let s=n.posAtCoords(ns(t));s&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new AD(n,s,t,!!r)):(o=="doubleClick"?OD:ID)(n,s.pos,s.inside,t)?t.preventDefault():An(n,"pointer"))};class AD{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Ay],this.allowDefault=r.shiftKey;let o,s;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),s=t.inside;else{let u=e.state.doc.resolve(t.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof ge&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Zt&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),An(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>mn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(ns(e))),this.updateAllowDefault(e),this.allowDefault||!t?An(this.view,"pointer"):TD(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||xt&&this.mightDrag&&!this.mightDrag.node.isAtom||gt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Vr(this.view,xe.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):An(this.view,"pointer")}move(e){this.updateAllowDefault(e),An(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}kt.touchstart=n=>{n.input.lastTouch=Date.now(),mu(n),An(n,"pointer")};kt.touchmove=n=>{n.input.lastTouch=Date.now(),An(n,"pointer")};kt.contextmenu=n=>mu(n);function Ey(n,e){return n.composing?!0:xt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const ED=Yt?5e3:-1;St.compositionstart=St.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof ye&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),No(n,!0),n.markCursor=null;else if(No(n,!e.selection.empty),Zt&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=n.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}n.input.composing=!0}Ry(n,ED)};St.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Ry(n,20))};function Ry(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>No(n),e))}function Ny(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=ND());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function RD(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=MM(e.focusNode,e.focusOffset),r=DM(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let s=t.pmViewDesc;if(!(!s||!s.isText(t.nodeValue)))return r}}return t||r}function ND(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function No(n,e=!1){if(!(Yt&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Ny(n),e||n.docView&&n.docView.dirty){let t=du(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function FD(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Mi=Dt&&Nn<15||Hr&&AM<604;kt.copy=St.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let o=Mi?null:t.clipboardData,s=r.content(),{dom:a,text:l}=Cy(n,s);o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):FD(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function jD(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function _D(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Di(n,r.value,null,i,e):Di(n,r.textContent,r.innerHTML,i,e)},50)}function Di(n,e,t,r,i){let o=My(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,i,o||ae.empty)))return!0;if(!o)return!1;let s=jD(o),a=s?n.state.tr.replaceSelectionWith(s,r):n.state.tr.replaceSelection(o);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Fy(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}St.paste=(n,e)=>{let t=e;if(n.composing&&!Yt)return;let r=Mi?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Di(n,Fy(r),r.getData("text/html"),i,t)?t.preventDefault():_D(n,t)};class jy{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const _y=_t?"altKey":"ctrlKey";kt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,o=i.empty?null:n.posAtCoords(ns(t)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof ge?i.to-1:i.to))){if(r&&r.mightDrag)s=ge.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let d=n.docView.nearestDesc(t.target,!0);d&&d.node.type.spec.draggable&&d!=n.docView&&(s=ge.create(n.state.doc,d.posBefore))}}let a=(s||n.state.selection).content(),{dom:l,text:c,slice:u}=Cy(n,a);(!t.dataTransfer.files.length||!gt||ly>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Mi?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",Mi||t.dataTransfer.setData("text/plain",c),n.dragging=new jy(u,!t[_y],s)};kt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};St.dragover=St.dragenter=(n,e)=>e.preventDefault();St.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(ns(t));if(!i)return;let o=n.state.doc.resolve(i.pos),s=r&&r.slice;s?n.someProp("transformPasted",f=>{s=f(s,n)}):s=My(n,Fy(t.dataTransfer),Mi?null:t.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!t[_y]);if(n.someProp("handleDrop",f=>f(n,t,s||ae.empty,a))){t.preventDefault();return}if(!s)return;t.preventDefault();let l=s?ey(n.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=n.state.tr;if(a){let{node:f}=r;f?f.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,p=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(p))return;let h=c.doc.resolve(u);if(d&&ge.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new ge(h));else{let f=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((m,g,v,b)=>f=b),c.setSelection(pu(n,h,c.doc.resolve(f)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))};kt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&mn(n)},20))};kt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};kt.beforeinput=(n,e)=>{if(gt&&Yt&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,Jn(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in St)kt[n]=St[n];function Ti(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Fo{constructor(e,t){this.toDOM=e,this.spec=t||ir,this.side=this.spec.side||0}map(e,t,r,i){let{pos:o,deleted:s}=e.mapResult(t.from+i,this.side<0?-1:1);return s?null:new $t(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Fo&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ti(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class jn{constructor(e,t){this.attrs=e,this.spec=t||ir}map(e,t,r,i){let o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new $t(o,s,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof jn&&Ti(this.attrs,e.attrs)&&Ti(this.spec,e.spec)}static is(e){return e.type instanceof jn}destroy(){}}class gu{constructor(e,t){this.attrs=e,this.spec=t||ir}map(e,t,r,i){let o=e.mapResult(t.from+i,1);if(o.deleted)return null;let s=e.mapResult(t.to+i,-1);return s.deleted||s.pos<=o.pos?null:new $t(o.pos-r,s.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),o;return i==t.from&&!(o=e.child(r)).isText&&i+o.nodeSize==t.to}eq(e){return this==e||e instanceof gu&&Ti(this.attrs,e.attrs)&&Ti(this.spec,e.spec)}destroy(){}}class $t{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new $t(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new $t(e,e,new Fo(t,r))}static inline(e,t,r,i){return new $t(e,t,new jn(r,i))}static node(e,t,r,i){return new $t(e,t,new gu(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof jn}get widget(){return this.type instanceof Fo}}const Ir=[],ir={};class nt{constructor(e,t){this.local=e.length?e:Ir,this.children=t.length?t:Ir}static create(e,t){return t.length?jo(t,e,0,ir):ht}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,t-a,r,i+a,o)}}map(e,t,r){return this==ht||e.maps.length==0?this:this.mapInner(e,t,0,0,r||ir)}mapInner(e,t,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(t,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?LD(this.children,s||[],e,t,r,i,o):s?new nt(s.sort(or),Ir):ht}add(e,t){return t.length?this==ht?nt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,o=0;e.forEach((a,l)=>{let c=l+r,u;if(u=$y(t,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,jo(u,a,c+1,ir)),o+=3}});let s=Ly(o?Vy(t):t,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new nt(s.length?this.local.concat(s).sort(or):this.local,i||this.children)}remove(e){return e.length==0||this==ht?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+t,l=r[o+1]+t;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=ht?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,t)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new nt(i,r):ht}forChild(e,t){if(this==ht)return this;if(t.isLeaf)return nt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof jn){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new nt(i.sort(or),Ir);return r?new Tn([a,r]):a}return r||ht}eq(e){if(this==e)return!0;if(!(e instanceof nt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return yu(this.localsInner(e))}localsInner(e){if(this==ht)return Ir;if(e.inlineContent||!this.local.some(jn.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof jn||t.push(this.local[r]);return t}forEachSet(e){e(this)}}nt.empty=new nt([],[]);nt.removeOverlap=yu;const ht=nt.empty;class Tn{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,ir));return Tn.from(r)}forChild(e,t){if(t.isLeaf)return nt.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,t);o!=ht&&(o instanceof Tn?r=r.concat(o.members):r.push(o))}return Tn.from(r)}eq(e){if(!(e instanceof Tn)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let s=0;s<o.length;s++)t.push(o[s])}}return t?yu(r?t:t.sort(or)):Ir}static from(e){switch(e.length){case 0:return ht;case 1:return e[0];default:return new Tn(e.every(t=>t instanceof nt)?e:e.reduce((t,r)=>t.concat(r instanceof nt?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function LD(n,e,t,r,i,o,s){let a=n.slice();for(let c=0,u=o;c<t.maps.length;c++){let d=0;t.maps[c].forEach((p,h,f,m)=>{let g=m-f-(h-p);for(let v=0;v<a.length;v+=3){let b=a[v+1];if(b<0||p>b+u-d)continue;let S=a[v]+u-d;h>=S?a[v+1]=p<=S?-2:-1:p>=u&&g&&(a[v]+=g,a[v+1]+=g)}d+=g}),u=t.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=t.map(n[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let p=t.map(n[c+1]+o,-1),h=p-i,{index:f,offset:m}=r.content.findIndex(d),g=r.maybeChild(f);if(g&&m==d&&m+g.nodeSize==h){let v=a[c+2].mapInner(t,g,u+1,n[c]+o+1,s);v!=ht?(a[c]=d,a[c+1]=h,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=$D(a,n,e,t,i,o,s),u=jo(c,r,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,p=0;d<u.children.length;d+=3){let h=u.children[d];for(;p<a.length&&a[p]<h;)p+=3;a.splice(p,0,u.children[d],u.children[d+1],u.children[d+2])}}return new nt(e.sort(or),a)}function Ly(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new $t(i.from+e,i.to+e,i.type))}return t}function $D(n,e,t,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?t.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],e[l]+o+1);return t}function $y(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let o=0,s;o<n.length;o++)(s=n[o])&&s.from>t&&s.to<r&&((i||(i=[])).push(s),n[o]=null);return i}function Vy(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function jo(n,e,t,r){let i=[],o=!1;e.forEach((a,l)=>{let c=$y(n,a,l+t);if(c){o=!0;let u=jo(c,a,t+l+1,r);u!=ht&&i.push(l,l+a.nodeSize,u)}});let s=Ly(o?Vy(n):n,-t).sort(or);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new nt(s,i):ht}function or(n,e){return n.from-e.from||n.to-e.to}function yu(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[i]=o.copy(o.from,r.to),Dp(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),Dp(e,i,r.copy(o.from,r.to)));break}}}return e}function Dp(n,e,t){for(;e<n.length&&or(t,n[e])>0;)e++;n.splice(e,0,t)}function Ls(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=ht&&e.push(r)}),n.cursorWrapper&&e.push(nt.create(n.state.doc,[n.cursorWrapper.deco])),Tn.from(e)}const VD={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},BD=Dt&&Nn<=11;class zD{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class qD{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new zD,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Dt&&Nn<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),BD&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,VD)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(vp(this.view)){if(this.suppressingSelectionUpdates)return mn(this.view);if(Dt&&Nn<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ur(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=Ci(o))t.add(o);for(let o=e.anchorNode;o;o=Ci(o))if(t.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&vp(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let u=0;u<t.length;u++){let d=this.registerMutation(t[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(Zt&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,p]=u;d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let p of u){let h=p.parentNode;h&&h.nodeName=="LI"&&(!d||UD(e,d)!=h)&&p.remove()}}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&es(r)&&(c=du(e))&&c.eq(xe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,mn(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),HD(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||mn(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];t.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Dt&&Nn<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:p}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(o=p)}let s=i&&i.parentNode==e.target?ut(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?ut(o):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Tp=new WeakMap,Op=!1;function HD(n){if(!Tp.has(n)&&(Tp.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Zt,Op)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Op=!0}}function Ip(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=n.domAtPos(n.state.selection.anchor);return ur(s.node,s.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function WD(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return Ip(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?Ip(n,t):null}function UD(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function KD(n,e,t){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),c,u=l.anchorNode;if(u&&n.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],es(l)||c.push({node:l.focusNode,offset:l.focusOffset})),gt&&n.input.lastKeyCode===8)for(let g=o;g>i;g--){let v=r.childNodes[g-1],b=v.pmViewDesc;if(v.nodeName=="BR"&&!b){o=g;break}if(!b||b.size)break}let d=n.state.doc,p=n.someProp("domParser")||Rn.fromSchema(n.state.schema),h=d.resolve(s),f=null,m=p.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:YD,context:h});if(c&&c[0].pos!=null){let g=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=g),f={anchor:g+s,head:v+s}}return{doc:m,sel:f,from:s,to:a}}function YD(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(xt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||xt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const GD=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function JD(n,e,t,r,i){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let E=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,F=du(n,E);if(F&&!n.state.selection.eq(F)){if(gt&&Yt&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",R=>R(n,Jn(13,"Enter"))))return;let D=n.state.tr.setSelection(F);E=="pointer"?D.setMeta("pointer",!0):E=="key"&&D.scrollIntoView(),o&&D.setMeta("composition",o),n.dispatch(D)}return}let s=n.state.doc.resolve(e),a=s.sharedDepth(t);e=s.before(a+1),t=n.state.doc.resolve(t).after(a+1);let l=n.state.selection,c=KD(n,e,t),u=n.state.doc,d=u.slice(c.from,c.to),p,h;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(p=n.state.selection.to,h="end"):(p=n.state.selection.from,h="start"),n.input.lastKeyCode=null;let f=QD(d.content,c.doc.content,c.from,p,h);if(f&&n.input.domChangeCount++,(Hr&&n.input.lastIOSEnter>Date.now()-225||Yt)&&i.some(E=>E.nodeType==1&&!GD.test(E.nodeName))&&(!f||f.endA>=f.endB)&&n.someProp("handleKeyDown",E=>E(n,Jn(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!f)if(r&&l instanceof ye&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))f={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let E=Pp(n,n.state.doc,c.sel);if(E&&!E.eq(n.state.selection)){let F=n.state.tr.setSelection(E);o&&F.setMeta("composition",o),n.dispatch(F)}}return}n.state.selection.from<n.state.selection.to&&f.start==f.endB&&n.state.selection instanceof ye&&(f.start>n.state.selection.from&&f.start<=n.state.selection.from+2&&n.state.selection.from>=c.from?f.start=n.state.selection.from:f.endA<n.state.selection.to&&f.endA>=n.state.selection.to-2&&n.state.selection.to<=c.to&&(f.endB+=n.state.selection.to-f.endA,f.endA=n.state.selection.to)),Dt&&Nn<=11&&f.endB==f.start+1&&f.endA==f.start&&f.start>c.from&&c.doc.textBetween(f.start-c.from-1,f.start-c.from+1)==" Â "&&(f.start--,f.endA--,f.endB--);let m=c.doc.resolveNoCache(f.start-c.from),g=c.doc.resolveNoCache(f.endB-c.from),v=u.resolve(f.start),b=m.sameParent(g)&&m.parent.inlineContent&&v.end()>=f.endA,S;if((Hr&&n.input.lastIOSEnter>Date.now()-225&&(!b||i.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!b&&m.pos<c.doc.content.size&&!m.sameParent(g)&&(S=xe.findFrom(c.doc.resolve(m.pos+1),1,!0))&&S.head==g.pos)&&n.someProp("handleKeyDown",E=>E(n,Jn(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>f.start&&XD(u,f.start,f.endA,m,g)&&n.someProp("handleKeyDown",E=>E(n,Jn(8,"Backspace")))){Yt&&gt&&n.domObserver.suppressSelectionUpdates();return}gt&&Yt&&f.endB==f.start&&(n.input.lastAndroidDelete=Date.now()),Yt&&!b&&m.start()!=g.start()&&g.parentOffset==0&&m.depth==g.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==f.endA&&(f.endB-=2,g=c.doc.resolveNoCache(f.endB-c.from),setTimeout(()=>{n.someProp("handleKeyDown",function(E){return E(n,Jn(13,"Enter"))})},20));let C=f.start,M=f.endA,I,A,T;if(b){if(m.pos==g.pos)Dt&&Nn<=11&&m.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>mn(n),20)),I=n.state.tr.delete(C,M),A=u.resolve(f.start).marksAcross(u.resolve(f.endA));else if(f.endA==f.endB&&(T=ZD(m.parent.content.cut(m.parentOffset,g.parentOffset),v.parent.content.cut(v.parentOffset,f.endA-v.start()))))I=n.state.tr,T.type=="add"?I.addMark(C,M,T.mark):I.removeMark(C,M,T.mark);else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let E=m.parent.textBetween(m.parentOffset,g.parentOffset);if(n.someProp("handleTextInput",F=>F(n,C,M,E)))return;I=n.state.tr.insertText(E,C,M)}}if(I||(I=n.state.tr.replace(C,M,c.doc.slice(f.start-c.from,f.endB-c.from))),c.sel){let E=Pp(n,I.doc,c.sel);E&&!(gt&&Yt&&n.composing&&E.empty&&(f.start!=f.endB||n.input.lastAndroidDelete<Date.now()-100)&&(E.head==C||E.head==I.mapping.map(M)-1)||Dt&&E.empty&&E.head==C)&&I.setSelection(E)}A&&I.ensureMarks(A),o&&I.setMeta("composition",o),n.dispatch(I.scrollIntoView())}function Pp(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:pu(n,e.resolve(t.anchor),e.resolve(t.head))}function ZD(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,o=r,s,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<t.length;u++)o=t[u].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(G.from(c).eq(n))return{mark:a,type:s}}function XD(n,e,t,r,i){if(t-e<=i.pos-r.pos||$s(r,!0,!1)<i.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&t==e+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=n.resolve($s(o,!0,!0));return!s.parent.isTextblock||s.pos>t||$s(s,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function $s(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function QD(n,e,t,r,i){let o=n.findDiffStart(e,t);if(o==null)return null;let{a:s,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&n.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&Ap(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<n.size&&Ap(n.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function Ap(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class eT{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new bD,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(jp),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Np(this),Rp(this),this.nodeViews=Fp(this),this.docView=pp(this.state.doc,Ep(this),Ls(this),this.dom,this),this.domObserver=new qD(this,(r,i,o,s)=>JD(this,r,i,o,s)),this.domObserver.start(),xD(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Lc(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(jp),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(Ny(this),s=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let h=Fp(this);nT(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&Lc(this),this.editable=Np(this),Rp(this);let l=Ls(this),c=Ep(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(s=!0);let p=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&NM(this);if(s){this.domObserver.stop();let h=d&&(Dt||gt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&tT(i.selection,e.selection);if(d){let f=gt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=RD(this)),(o||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=pp(e.doc,c,l,this.dom,this)),f&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&iD(this))?mn(this,h):(ky(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():p&&FM(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ge){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&sp(this,t.getBoundingClientRect(),e)}else sp(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new jy(e.slice,e.move,i<0?void 0:ge.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=t?t(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=t?t(a):a))return i}}hasFocus(){if(Dt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&jM(this.dom),mn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return BM(this,e)}coordsAtPos(e,t=1){return fy(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return UM(this,t||this.state,e)}pasteHTML(e,t){return Di(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Di(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(kD(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ls(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,wM())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return wD(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?xt&&this.root.nodeType===11&&OM(this.dom.ownerDocument)==this.dom&&WD(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Ep(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[$t.node(0,n.state.doc.content.size,e)]}function Rp(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:$t.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Np(n){return!n.someProp("editable",e=>e(n.state)===!1)}function tT(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function Fp(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function nT(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function jp(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var _n={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},rT=typeof navigator<"u"&&/Mac/.test(navigator.platform),iT=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var dt=0;dt<10;dt++)_n[48+dt]=_n[96+dt]=String(dt);for(var dt=1;dt<=24;dt++)_n[dt+111]="F"+dt;for(var dt=65;dt<=90;dt++)_n[dt]=String.fromCharCode(dt+32),_o[dt]=String.fromCharCode(dt);for(var Vs in _n)_o.hasOwnProperty(Vs)||(_o[Vs]=_n[Vs]);function oT(n){var e=rT&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||iT&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?_o:_n)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const sT=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function aT(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))sT?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),s&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function lT(n){let e=Object.create(null);for(let t in n)e[aT(t)]=n[t];return e}function Bs(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function cT(n){return new Ot({props:{handleKeyDown:By(n)}})}function By(n){let e=lT(n);return function(t,r){let i=oT(r),o,s=e[Bs(i,r)];if(s&&s(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[Bs(i,r,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=_n[r.keyCode])&&o!=i){let a=e[Bs(o,r)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const uT=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function zy(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const dT=(n,e,t)=>{let r=zy(n,t);if(!r)return!1;let i=vu(r);if(!i){let s=r.blockRange(),a=s&&Zr(s);return a==null?!1:(e&&e(n.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(Uy(n,i,e,-1))return!0;if(r.parent.content.size==0&&(Wr(o,"end")||ge.isSelectable(o)))for(let s=r.depth;;s--){let a=Xo(n.doc,r.before(s),r.after(s),ae.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=n.tr.step(a);l.setSelection(Wr(o,"end")?xe.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):ge.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},pT=(n,e,t)=>{let r=zy(n,t);if(!r)return!1;let i=vu(r);return i?qy(n,i,e):!1},fT=(n,e,t)=>{let r=Hy(n,t);if(!r)return!1;let i=bu(r);return i?qy(n,i,e):!1};function qy(n,e,t){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Xo(n.doc,o,l,ae.empty);if(!c||c.from!=o||c instanceof st&&c.slice.size>=l-o)return!1;if(t){let u=n.tr.step(c);u.setSelection(ye.create(u.doc,o)),t(u.scrollIntoView())}return!0}function Wr(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const hT=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=vu(r)}let s=o&&o.nodeBefore;return!s||!ge.isSelectable(s)?!1:(e&&e(n.tr.setSelection(ge.create(n.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function vu(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Hy(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const mT=(n,e,t)=>{let r=Hy(n,t);if(!r)return!1;let i=bu(r);if(!i)return!1;let o=i.nodeAfter;if(Uy(n,i,e,1))return!0;if(r.parent.content.size==0&&(Wr(o,"start")||ge.isSelectable(o))){let s=Xo(n.doc,r.before(),r.after(),ae.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=n.tr.step(s);a.setSelection(Wr(o,"start")?xe.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ge.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},gT=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=bu(r)}let s=o&&o.nodeAfter;return!s||!ge.isSelectable(s)?!1:(e&&e(n.tr.setSelection(ge.create(n.doc,o.pos)).scrollIntoView()),!0)};function bu(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const yT=(n,e)=>{let t=n.selection,r=t instanceof ge,i;if(r){if(t.node.isTextblock||!Bn(n.doc,t.from))return!1;i=t.from}else if(i=Zo(n.doc,t.from,-1),i==null)return!1;if(e){let o=n.tr.join(i);r&&o.setSelection(ge.create(o.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},vT=(n,e)=>{let t=n.selection,r;if(t instanceof ge){if(t.node.isTextblock||!Bn(n.doc,t.to))return!1;r=t.to}else if(r=Zo(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},bT=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),o=i&&Zr(i);return o==null?!1:(e&&e(n.tr.lift(i,o).scrollIntoView()),!0)},xT=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Wy(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const kT=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),o=t.indexAfter(-1),s=Wy(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,s.createAndFill());l.setSelection(xe.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},ST=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof Jt||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Wy(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(s,o.createAndFill());a.setSelection(ye.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},wT=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(Lr(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),i=r&&Zr(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)},CT=(n,e)=>{let{$from:t,to:r}=n.selection,i,o=t.sharedDepth(r);return o==0?!1:(i=t.before(o),e&&e(n.tr.setSelection(ge.create(n.doc,i))),!0)};function MT(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Bn(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function Uy(n,e,t,r){let i=e.nodeBefore,o=e.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&MT(n,e,t))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(t){let h=e.pos+o.nodeSize,f=G.empty;for(let v=s.length-1;v>=0;v--)f=G.from(s[v].create(null,f));f=G.from(i.copy(f));let m=n.tr.step(new at(e.pos-1,h,e.pos,h,new ae(f,1,0),s.length,!0)),g=m.doc.resolve(h+2*s.length);g.nodeAfter&&g.nodeAfter.type==i.type&&Bn(m.doc,g.pos)&&m.join(g.pos),t(m.scrollIntoView())}return!0}let u=o.type.spec.isolating||r>0&&l?null:xe.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),p=d&&Zr(d);if(p!=null&&p>=e.depth)return t&&t(n.tr.lift(d,p).scrollIntoView()),!0;if(c&&Wr(o,"start",!0)&&Wr(i,"end")){let h=i,f=[];for(;f.push(h),!h.isTextblock;)h=h.lastChild;let m=o,g=1;for(;!m.isTextblock;m=m.firstChild)g++;if(h.canReplace(h.childCount,h.childCount,m.content)){if(t){let v=G.empty;for(let S=f.length-1;S>=0;S--)v=G.from(f[S].copy(v));let b=n.tr.step(new at(e.pos-f.length,e.pos+o.nodeSize,e.pos+g,e.pos+o.nodeSize-g,new ae(v,f.length,0),0,!0));t(b.scrollIntoView())}return!0}}return!1}function Ky(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(t&&t(e.tr.setSelection(ye.create(e.doc,n<0?i.start(o):i.end(o)))),!0):!1}}const DT=Ky(-1),TT=Ky(1);function OT(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o),a=s&&lu(s,n,e);return a?(r&&r(t.tr.wrap(s,a).scrollIntoView()),!0):!1}}function _p(n,e=null){return function(t,r){let i=!1;for(let o=0;o<t.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=t.selection.ranges[o];t.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)i=!0;else{let u=t.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,n)}})}if(!i)return!1;if(r){let o=t.tr;for(let s=0;s<t.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[s];o.setBlockType(a,l,n,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function IT(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(n)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let u=t.doc.resolve(s.start-2);l=new Oo(u,u,s.depth),s.endIndex<s.parent.childCount&&(s=new Oo(i,t.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let c=lu(l,n,e,s);return c?(r&&r(PT(t.tr,s,c,a,n).scrollIntoView()),!0):!1}}function PT(n,e,t,r,i){let o=G.empty;for(let u=t.length-1;u>=0;u--)o=G.from(t[u].type.create(t[u].attrs,o));n.step(new at(e.start-(r?2:0),e.end,e.start,e.end,new ae(o,0,0),t.length,!0));let s=0;for(let u=0;u<t.length;u++)t[u].type==i&&(s=u+1);let a=t.length-s,l=e.start+t.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,p=!0;u<d;u++,p=!1)!p&&Lr(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return n}function AT(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?ET(e,t,n,o):RT(e,t,o):!0:!1}}function ET(n,e,t,r){let i=n.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new at(o-1,s,o,s,new ae(G.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Oo(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=Zr(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return Bn(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function RT(n,e,t){let r=n.tr,i=t.parent;for(let h=t.end,f=t.endIndex-1,m=t.startIndex;f>m;f--)h-=i.child(f).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(t.start),s=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?G.empty:G.from(i))))return!1;let d=o.pos,p=d+s.nodeSize;return r.step(new at(d-(a?1:0),p+(l?1:0),d+1,p-1,new ae((a?G.empty:G.from(i.copy(G.empty))).append(l?G.empty:G.from(i.copy(G.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function NT(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==n);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=n)return!1;if(t){let c=l.lastChild&&l.lastChild.type==a.type,u=G.from(c?n.create():null),d=new ae(G.from(n.create(null,G.from(a.type.create(null,u)))),c?3:1,0),p=o.start,h=o.end;t(e.tr.step(new at(p-(c?3:1),h,p,h,d,1,!0)).scrollIntoView())}return!0}}function rs(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,o=t.storedMarks,t}}}class is{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,c=e||o.tr,u=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(p=>p===!0)),d={...Object.fromEntries(Object.entries(r).map(([p,h])=>[p,(...m)=>{const g=this.buildProps(c,t),v=h(...m)(g);return a.push(v),d}])),run:u};return d}createCan(e){const{rawCommands:t,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a={tr:e,editor:i,view:s,state:rs({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class FT{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function pe(n,e,t){return n.config[e]===void 0&&n.parent?pe(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?pe(n.parent,e,t):null}):n.config[e]}function ss(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Yy(n){const e=[],{nodeExtensions:t,markExtensions:r}=ss(n),i=[...t,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:i},l=pe(s,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([p,h])=>{e.push({type:d,name:p,attribute:{...o,...h}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=pe(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const p={...o,...d};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:s.name,name:u,attribute:p})})}),e}function it(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function wt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?o.split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,p]=u.split(":").map(h=>h.trim());c.set(d,p)}),a.forEach(u=>{const[d,p]=u.split(":").map(h=>h.trim());c.set(d,p)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=o}),r},{})}function $c(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>wt(t,r),{})}function Gy(n){return typeof n=="function"}function Ce(n,e=void 0,...t){return Gy(n)?e?n.bind(e)(...t):n(...t):n}function jT(n={}){return Object.keys(n).length===0&&n.constructor===Object}function _T(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function Lp(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(t):_T(t.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function $p(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&jT(t)?!1:t!=null))}function LT(n,e){var t;const r=Yy(n),{nodeExtensions:i,markExtensions:o}=ss(n),s=(t=i.find(c=>pe(c,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},p=n.reduce((v,b)=>{const S=pe(b,"extendNodeSchema",d);return{...v,...S?S(c):{}}},{}),h=$p({...p,content:Ce(pe(c,"content",d)),marks:Ce(pe(c,"marks",d)),group:Ce(pe(c,"group",d)),inline:Ce(pe(c,"inline",d)),atom:Ce(pe(c,"atom",d)),selectable:Ce(pe(c,"selectable",d)),draggable:Ce(pe(c,"draggable",d)),code:Ce(pe(c,"code",d)),whitespace:Ce(pe(c,"whitespace",d)),linebreakReplacement:Ce(pe(c,"linebreakReplacement",d)),defining:Ce(pe(c,"defining",d)),isolating:Ce(pe(c,"isolating",d)),attrs:Object.fromEntries(u.map(v=>{var b;return[v.name,{default:(b=v==null?void 0:v.attribute)===null||b===void 0?void 0:b.default}]}))}),f=Ce(pe(c,"parseHTML",d));f&&(h.parseDOM=f.map(v=>Lp(v,u)));const m=pe(c,"renderHTML",d);m&&(h.toDOM=v=>m({node:v,HTMLAttributes:$c(v,u)}));const g=pe(c,"renderText",d);return g&&(h.toText=g),[c.name,h]})),l=Object.fromEntries(o.map(c=>{const u=r.filter(g=>g.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},p=n.reduce((g,v)=>{const b=pe(v,"extendMarkSchema",d);return{...g,...b?b(c):{}}},{}),h=$p({...p,inclusive:Ce(pe(c,"inclusive",d)),excludes:Ce(pe(c,"excludes",d)),group:Ce(pe(c,"group",d)),spanning:Ce(pe(c,"spanning",d)),code:Ce(pe(c,"code",d)),attrs:Object.fromEntries(u.map(g=>{var v;return[g.name,{default:(v=g==null?void 0:g.attribute)===null||v===void 0?void 0:v.default}]}))}),f=Ce(pe(c,"parseHTML",d));f&&(h.parseDOM=f.map(g=>Lp(g,u)));const m=pe(c,"renderHTML",d);return m&&(h.toDOM=g=>m({mark:g,HTMLAttributes:$c(g,u)})),[c.name,h]}));return new qg({topNode:s,nodes:a,marks:l})}function zs(n,e){return e.nodes[n]||e.marks[n]||null}function Vp(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function xu(n,e){const t=mr.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const $T=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-o))}),t};function ku(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class as{constructor(e){this.find=e.find,this.handler=e.handler}}const VT=(n,e)=>{if(ku(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function to(n){var e;const{editor:t,from:r,to:i,text:o,rules:s,plugin:a}=n,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(p=>p.type.spec.code))return!1;let u=!1;const d=$T(c)+o;return s.forEach(p=>{if(u)return;const h=VT(d,p.find);if(!h)return;const f=l.state.tr,m=rs({state:l.state,transaction:f}),g={from:r-(h[0].length-o.length),to:i},{commands:v,chain:b,can:S}=new is({editor:t,state:m});p.handler({state:m,range:g,match:h,commands:v,chain:b,can:S})===null||!f.steps.length||(f.setMeta(a,{transform:f,from:r,to:i,text:o}),l.dispatch(f),u=!0)}),u}function BT(n){const{editor:e,rules:t}=n,r=new Ot({state:{init(){return null},apply(i,o,s){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=xu(G.from(u),s.schema);const{from:d}=l,p=d+u.length;to({editor:e,from:d,to:p,text:u,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,a){return to({editor:e,from:o,to:s,text:a,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&to({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?to({editor:e,from:s.pos,to:s.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function zT(n){return Object.prototype.toString.call(n).slice(8,-1)}function no(n){return zT(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function ls(n,e){const t={...n};return no(n)&&no(e)&&Object.keys(e).forEach(r=>{no(e[r])&&no(n[r])?t[r]=ls(n[r],e[r]):t[r]=e[r]}),t}class Ln{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ce(pe(this,"addOptions",{name:this.name}))),this.storage=Ce(pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ln(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ls(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Ln(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ce(pe(t,"addOptions",{name:t.name})),t.storage=Ce(pe(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===t.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===t.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function qT(n){return typeof n=="number"}class HT{constructor(e){this.find=e.find,this.handler=e.handler}}const WT=(n,e,t)=>{if(ku(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=n,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function UT(n){const{editor:e,state:t,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=n,{commands:l,chain:c,can:u}=new is({editor:e,state:t}),d=[];return t.doc.nodesBetween(r,i,(h,f)=>{if(!h.isTextblock||h.type.spec.code)return;const m=Math.max(r,f),g=Math.min(i,f+h.content.size),v=h.textBetween(m-f,g-f,void 0,"ï¿¼");WT(v,o.find,s).forEach(S=>{if(S.index===void 0)return;const C=m+S.index+1,M=C+S[0].length,I={from:t.tr.mapping.map(C),to:t.tr.mapping.map(M)},A=o.handler({state:t,range:I,match:S,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});d.push(A)})}),d.every(h=>h!==null)}const KT=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function YT(n){const{editor:e,rules:t}=n;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:p,rule:h,pasteEvt:f})=>{const m=u.tr,g=rs({state:u,transaction:m});if(!(!UT({editor:e,state:g,from:Math.max(d-1,0),to:p.b-1,rule:h,pasteEvent:f,dropEvent:a})||!m.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return t.map(u=>new Ot({view(d){const p=h=>{var f;r=!((f=d.dom.parentElement)===null||f===void 0)&&f.contains(h.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",p),{destroy(){window.removeEventListener("dragstart",p)}}},props:{handleDOMEvents:{drop:(d,p)=>(o=r===d.dom.parentElement,a=p,!1),paste:(d,p)=>{var h;const f=(h=p.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return s=p,i=!!(f!=null&&f.includes("data-pm-slice")),!1}}},appendTransaction:(d,p,h)=>{const f=d[0],m=f.getMeta("uiEvent")==="paste"&&!i,g=f.getMeta("uiEvent")==="drop"&&!o,v=f.getMeta("applyPasteRules"),b=!!v;if(!m&&!g&&!b)return;if(b){let{text:M}=v;typeof M=="string"?M=M:M=xu(G.from(M),h.schema);const{from:I}=v,A=I+M.length,T=KT(M);return l({rule:u,state:h,from:I,to:{b:A},pasteEvt:T})}const S=p.doc.content.findDiffStart(h.doc.content),C=p.doc.content.findDiffEnd(h.doc.content);if(!(!qT(S)||!C||S===C.b))return l({rule:u,state:h,from:S,to:C,pasteEvt:s})}}))}function GT(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Rr{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Rr.resolve(e),this.schema=LT(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Rr.sort(Rr.flatten(e)),r=GT(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=pe(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=pe(r,"priority")||100,s=pe(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:zs(t.name,this.schema)},i=pe(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=Rr.sort([...this.extensions].reverse()),r=[],i=[],o=t.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:zs(s.name,this.schema)},l=[],c=pe(s,"addKeyboardShortcuts",a);let u={};if(s.type==="mark"&&pe(s,"exitable",a)&&(u.ArrowRight=()=>Ln.handleExit({editor:e,mark:s})),c){const m=Object.fromEntries(Object.entries(c()).map(([g,v])=>[g,()=>v({editor:e})]));u={...u,...m}}const d=cT(u);l.push(d);const p=pe(s,"addInputRules",a);Vp(s,e.options.enableInputRules)&&p&&r.push(...p());const h=pe(s,"addPasteRules",a);Vp(s,e.options.enablePasteRules)&&h&&i.push(...h());const f=pe(s,"addProseMirrorPlugins",a);if(f){const m=f();l.push(...m)}return l}).flat();return[BT({editor:e,rules:r}),...YT({editor:e,rules:i}),...o]}get attributes(){return Yy(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=ss(this.extensions);return Object.fromEntries(t.filter(r=>!!pe(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:it(r.name,this.schema)},s=pe(r,"addNodeView",o);if(!s)return[];const a=(l,c,u,d,p)=>{const h=$c(l,i);return s()({node:l,view:c,getPos:u,decorations:d,innerDecorations:p,editor:e,extension:r,HTMLAttributes:h})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:zs(e.name,this.schema)};e.type==="mark"&&(!((t=Ce(pe(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=pe(e,"onBeforeCreate",r),o=pe(e,"onCreate",r),s=pe(e,"onUpdate",r),a=pe(e,"onSelectionUpdate",r),l=pe(e,"onTransaction",r),c=pe(e,"onFocus",r),u=pe(e,"onBlur",r),d=pe(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class Ct{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ce(pe(this,"addOptions",{name:this.name}))),this.storage=Ce(pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ct(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ls(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Ct({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ce(pe(t,"addOptions",{name:t.name})),t.storage=Ce(pe(t,"addStorage",{name:t.name,options:t.options})),t}}function Jy(n,e,t){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=t||{};let a="";return n.nodesBetween(r,i,(l,c,u,d)=>{var p;l.isBlock&&c>r&&(a+=o);const h=s==null?void 0:s[l.type.name];if(h)return u&&(a+=h({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(p=l==null?void 0:l.text)===null||p===void 0?void 0:p.slice(Math.max(r,c)-c,i-c))}),a}function Zy(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const JT=Ct.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ot({key:new cn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),l=Zy(t);return Jy(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),ZT=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),XT=(n=!1)=>({commands:e})=>e.setContent("",n),QT=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:o,$to:s})=>{n.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),p=c.resolve(u.map(l+a.nodeSize)),h=d.blockRange(p);if(!h)return;const f=Zr(h);if(a.type.isTextblock){const{defaultType:m}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,m)}(f||f===0)&&e.lift(h,f)})}),!0},eO=n=>e=>n(e),tO=()=>({state:n,dispatch:e})=>ST(n,e),nO=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,o=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new ye(r.doc.resolve(s-1))),!0},rO=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const a=i.before(o),l=i.after(o);n.delete(a,l).scrollIntoView()}return!0}return!1},iO=n=>({tr:e,state:t,dispatch:r})=>{const i=it(n,t.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),c=o.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},oO=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},sO=()=>({state:n,dispatch:e})=>uT(n,e),aO=()=>({commands:n})=>n.keyboardShortcut("Enter"),lO=()=>({state:n,dispatch:e})=>kT(n,e);function Lo(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:ku(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function Xy(n,e,t={}){return n.find(r=>r.type===e&&Lo(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function Bp(n,e,t={}){return!!Xy(n,e,t)}function Su(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!Xy([...i.node.marks],e,t)))return;let s=i.index,a=n.start()+i.offset,l=s+1,c=a+i.node.nodeSize;for(;s>0&&Bp([...n.parent.child(s-1).marks],e,t);)s-=1,a-=n.parent.child(s).nodeSize;for(;l<n.parent.childCount&&Bp([...n.parent.child(l).marks],e,t);)c+=n.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function xn(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const cO=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const o=xn(n,r.schema),{doc:s,selection:a}=t,{$from:l,from:c,to:u}=a;if(i){const d=Su(l,o,e);if(d&&d.from<=c&&d.to>=u){const p=ye.create(s,d.from,d.to);t.setSelection(p)}}return!0},uO=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function Qy(n){return n instanceof ye}function er(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function ev(n,e=null){if(!e)return null;const t=xe.atStart(n),r=xe.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,o=r.to;return e==="all"?ye.create(n,er(0,i,o),er(n.content.size,i,o)):ye.create(n,er(e,i,o),er(e,i,o))}function wu(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const dO=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{wu()&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!Qy(t.state.selection))return s(),!0;const a=ev(i.doc,n)||t.state.selection,l=t.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},pO=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),fO=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),tv=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&tv(r)}return n};function ro(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return tv(t)}function $o(n,e,t){if(n instanceof En||n instanceof G)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return G.fromArray(n.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(n);return t.errorOnInvalidContent&&s.check(),s}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),$o("",e,t)}if(i){if(t.errorOnInvalidContent){let s=!1,a="";const l=new qg({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?Rn.fromSchema(l).parseSlice(ro(n),t.parseOptions):Rn.fromSchema(l).parse(ro(n),t.parseOptions),t.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=Rn.fromSchema(e);return t.slice?o.parseSlice(ro(n),t.parseOptions).content:o.parse(ro(n),t.parseOptions)}return $o("",e,t)}function hO(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof st||i instanceof at))return;const o=n.mapping.maps[r];let s=0;o.forEach((a,l,c,u)=>{s===0&&(s=u)}),n.setSelection(xe.near(n.doc.resolve(s),t))}const mO=n=>!("type"in n),gO=(n,e,t)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;try{a=$o(e,o.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(s=t.errorOnInvalidContent)!==null&&s!==void 0?s:o.options.enableContentCheck})}catch(f){return o.emit("contentError",{editor:o,error:f,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},u=!0,d=!0;if((mO(a)?a:[a]).forEach(f=>{f.check(),u=u?f.isText&&f.marks.length===0:!1,d=d?f.isBlock:!1}),l===c&&d){const{parent:f}=r.doc.resolve(l);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(l-=1,c+=1)}let h;if(u){if(Array.isArray(e))h=e.map(f=>f.text||"").join("");else if(e instanceof G){let f="";e.forEach(m=>{m.text&&(f+=m.text)}),h=f}else typeof e=="object"&&e&&e.text?h=e.text:h=e;r.insertText(h,l,c)}else h=a,r.replaceWith(l,c,h);t.updateSelection&&hO(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:h}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:h})}return!0},yO=()=>({state:n,dispatch:e})=>yT(n,e),vO=()=>({state:n,dispatch:e})=>vT(n,e),bO=()=>({state:n,dispatch:e})=>dT(n,e),xO=()=>({state:n,dispatch:e})=>mT(n,e),kO=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Zo(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},SO=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Zo(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},wO=()=>({state:n,dispatch:e})=>pT(n,e),CO=()=>({state:n,dispatch:e})=>fT(n,e);function nv(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function MO(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))wu()||nv()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),s&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}const DO=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const o=MO(n).split(/-(?!$)/),s=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Oi(n,e,t={}){const{from:r,to:i,empty:o}=n.selection,s=e?it(e,n.schema):null,a=[];n.doc.nodesBetween(r,i,(d,p)=>{if(d.isText)return;const h=Math.max(r,p),f=Math.min(i,p+d.nodeSize);a.push({node:d,from:h,to:f})});const l=i-r,c=a.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>Lo(d.node.attrs,t,{strict:!1}));return o?!!c.length:c.reduce((d,p)=>d+p.to-p.from,0)>=l}const TO=(n,e={})=>({state:t,dispatch:r})=>{const i=it(n,t.schema);return Oi(t,i,e)?bT(t,r):!1},OO=()=>({state:n,dispatch:e})=>wT(n,e),IO=n=>({state:e,dispatch:t})=>{const r=it(n,e.schema);return AT(r)(e,t)},PO=()=>({state:n,dispatch:e})=>xT(n,e);function Li(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function zp(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const AO=(n,e)=>({tr:t,state:r,dispatch:i})=>{let o=null,s=null;const a=Li(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(o=it(n,r.schema)),a==="mark"&&(s=xn(n,r.schema)),i&&t.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&t.setNodeMarkup(u,void 0,zp(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&t.addMark(u,u+c.nodeSize,s.create(zp(d.attrs,e)))})})}),!0):!1},EO=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),RO=()=>({tr:n,commands:e})=>e.setTextSelection({from:0,to:n.doc.content.size}),NO=()=>({state:n,dispatch:e})=>hT(n,e),FO=()=>({state:n,dispatch:e})=>gT(n,e),jO=()=>({state:n,dispatch:e})=>CT(n,e),_O=()=>({state:n,dispatch:e})=>TT(n,e),LO=()=>({state:n,dispatch:e})=>DT(n,e);function Vc(n,e,t={},r={}){return $o(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const $O=(n,e=!1,t={},r={})=>({editor:i,tr:o,dispatch:s,commands:a})=>{var l,c;const{doc:u}=o;if(t.preserveWhitespace!=="full"){const d=Vc(n,i.schema,t,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return s&&o.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return s&&o.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},n,{parseOptions:t,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function rv(n,e){const t=xn(e,n.schema),{from:r,to:i,empty:o}=n.selection,s=[];o?(n.storedMarks&&s.push(...n.storedMarks),s.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function VO(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function BO(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Cu(n){return e=>BO(e.$from,n)}function zO(n,e){const t={from:0,to:n.content.size};return Jy(n,t,e)}function qO(n,e){const t=it(e,n.schema),{from:r,to:i}=n.selection,o=[];n.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===t.name);return s?{...s.attrs}:{}}function HO(n,e){const t=Li(typeof e=="string"?e:e.name,n.schema);return t==="node"?qO(n,e):t==="mark"?rv(n,e):{}}function iv(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const o=t.resolve(n),s=Su(o,i.type);s&&r.push({mark:i,...s})}):t.nodesBetween(n,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function go(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function Bc(n,e,t={}){const{empty:r,ranges:i}=n.selection,o=e?xn(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>Lo(d.attrs,t,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:d,$to:p})=>{const h=d.pos,f=p.pos;n.doc.nodesBetween(h,f,(m,g)=>{if(!m.isText&&!m.marks.length)return;const v=Math.max(h,g),b=Math.min(f,g+m.nodeSize),S=b-v;s+=S,a.push(...m.marks.map(C=>({mark:C,from:v,to:b})))})}),s===0)return!1;const l=a.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>Lo(d.mark.attrs,t,{strict:!1})).reduce((d,p)=>d+p.to-p.from,0),c=a.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,p)=>d+p.to-p.from,0);return(l>0?l+c:l)>=s}function WO(n,e,t={}){if(!e)return Oi(n,null,t)||Bc(n,null,t);const r=Li(e,n.schema);return r==="node"?Oi(n,e,t):r==="mark"?Bc(n,e,t):!1}function qp(n,e){const{nodeExtensions:t}=ss(e),r=t.find(s=>s.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Ce(pe(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function Mu(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(o=>{i!==!1&&(Mu(o,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function UO(n){return n instanceof ge}function KO(n,e,t){var r;const{selection:i}=e;let o=null;if(Qy(i)&&(o=i.$cursor),o){const a=(r=n.storedMarks)!==null&&r!==void 0?r:o.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,l.pos,(u,d,p)=>{if(c)return!1;if(u.isInline){const h=!p||p.type.allowsMarkType(t),f=!!t.isInSet(u.marks)||!u.marks.some(m=>m.type.excludes(t));c=h&&f}return!c}),c})}const YO=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:o}=t,{empty:s,ranges:a}=o,l=xn(n,r.schema);if(i)if(s){const c=rv(r,l);t.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(p,h)=>{const f=Math.max(h,u),m=Math.min(h+p.nodeSize,d);p.marks.find(v=>v.type===l)?p.marks.forEach(v=>{l===v.type&&t.addMark(f,m,l.create({...v.attrs,...e}))}):t.addMark(f,m,l.create(e))})});return KO(r,t,l)},GO=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),JO=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const o=it(n,t.schema);let s;return t.selection.$anchor.sameParent(t.selection.$head)&&(s=t.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:a})=>_p(o,{...s,...e})(t)?!0:a.clearNodes()).command(({state:a})=>_p(o,{...s,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},ZO=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=er(n,0,r.content.size),o=ge.create(r,i);e.setSelection(o)}return!0},XO=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:o}=typeof n=="number"?{from:n,to:n}:n,s=ye.atStart(r).from,a=ye.atEnd(r).to,l=er(i,s,a),c=er(o,s,a),u=ye.create(r,l,c);e.setSelection(u)}return!0},QO=n=>({state:e,dispatch:t})=>{const r=it(n,e.schema);return NT(r)(e,t)};function Hp(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const eI=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,c=i.extensionManager.attributes,u=go(c,a.node().type.name,a.node().attrs);if(o instanceof ge&&o.node.isBlock)return!a.parentOffset||!Lr(s,a.pos)?!1:(r&&(n&&Hp(t,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,p=a.depth===0?void 0:VO(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&p?[{type:p,attrs:u}]:void 0,f=Lr(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!f&&Lr(e.doc,e.mapping.map(a.pos),1,p?[{type:p}]:void 0)&&(f=!0,h=p?[{type:p,attrs:u}]:void 0),r){if(f&&(o instanceof ye&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,h),p&&!d&&!a.parentOffset&&a.parent.type!==p)){const m=e.mapping.map(a.before()),g=e.doc.resolve(m);a.node(-1).canReplaceWith(g.index(),g.index()+1,p)&&e.setNodeMarkup(e.mapping.map(a.before()),p)}n&&Hp(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return f},tI=(n,e={})=>({tr:t,state:r,dispatch:i,editor:o})=>{var s;const a=it(n,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const p=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let v=G.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let T=l.depth-b;T>=l.depth-3;T-=1)v=G.from(l.node(T).copy(v));const S=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...go(p,l.node().type.name,l.node().attrs),...e},M=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(C))||void 0;v=v.append(G.from(a.createAndFill(null,M)||void 0));const I=l.before(l.depth-(b-1));t.replace(I,l.after(-S),new ae(v,4-b,0));let A=-1;t.doc.nodesBetween(I,t.doc.content.size,(T,E)=>{if(A>-1)return!1;T.isTextblock&&T.content.size===0&&(A=E+1)}),A>-1&&t.setSelection(ye.near(t.doc.resolve(A))),t.scrollIntoView()}return!0}const h=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,f={...go(p,d.type.name,d.attrs),...e},m={...go(p,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,c.pos);const g=h?[{type:a,attrs:f},{type:h,attrs:m}]:[{type:a,attrs:f}];if(!Lr(t.doc,l.pos,2))return!1;if(i){const{selection:v,storedMarks:b}=r,{splittableMarks:S}=o.extensionManager,C=b||v.$to.parentOffset&&v.$from.marks();if(t.split(l.pos,2,g).scrollIntoView(),!C||!i)return!0;const M=C.filter(I=>S.includes(I.type.name));t.ensureMarks(M)}return!0},qs=(n,e)=>{const t=Cu(s=>s.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Bn(n.doc,t.pos)&&n.join(t.pos),!0},Hs=(n,e)=>{const t=Cu(s=>s.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Bn(n.doc,r)&&n.join(r),!0},nI=(n,e,t,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:p}=i.extensionManager,h=it(n,s.schema),f=it(e,s.schema),{selection:m,storedMarks:g}=s,{$from:v,$to:b}=m,S=v.blockRange(b),C=g||m.$to.parentOffset&&m.$from.marks();if(!S)return!1;const M=Cu(I=>qp(I.type.name,d))(m);if(S.depth>=1&&M&&S.depth-M.depth<=1){if(M.node.type===h)return c.liftListItem(f);if(qp(M.node.type.name,d)&&h.validContent(M.node.content)&&a)return l().command(()=>(o.setNodeMarkup(M.pos,h),!0)).command(()=>qs(o,h)).command(()=>Hs(o,h)).run()}return!t||!C||!a?l().command(()=>u().wrapInList(h,r)?!0:c.clearNodes()).wrapInList(h,r).command(()=>qs(o,h)).command(()=>Hs(o,h)).run():l().command(()=>{const I=u().wrapInList(h,r),A=C.filter(T=>p.includes(T.type.name));return o.ensureMarks(A),I?!0:c.clearNodes()}).wrapInList(h,r).command(()=>qs(o,h)).command(()=>Hs(o,h)).run()},rI=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=t,s=xn(n,r.schema);return Bc(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},iI=(n,e,t={})=>({state:r,commands:i})=>{const o=it(n,r.schema),s=it(e,r.schema),a=Oi(r,o,t);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(s,l):i.setNode(o,{...l,...t})},oI=(n,e={})=>({state:t,commands:r})=>{const i=it(n,t.schema);return Oi(t,i,e)?r.lift(i):r.wrapIn(i,e)},sI=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let o;if(i.spec.isInputRules&&(o=i.getState(n))){if(e){const s=n.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,n.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},aI=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},lI=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=t,l=xn(n,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&s){let{from:p,to:h}=a;const f=(o=c.marks().find(g=>g.type===l))===null||o===void 0?void 0:o.attrs,m=Su(c,l,f);m&&(p=m.from,h=m.to),t.removeMark(p,h,l)}else d.forEach(p=>{t.removeMark(p.$from.pos,p.$to.pos,l)});return t.removeStoredMark(l),!0},cI=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let o=null,s=null;const a=Li(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(o=it(n,r.schema)),a==="mark"&&(s=xn(n,r.schema)),i&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,p,h,f;t.selection.empty?r.doc.nodesBetween(c,u,(m,g)=>{o&&o===m.type&&(h=Math.max(g,c),f=Math.min(g+m.nodeSize,u),d=g,p=m)}):r.doc.nodesBetween(c,u,(m,g)=>{g<c&&o&&o===m.type&&(h=Math.max(g,c),f=Math.min(g+m.nodeSize,u),d=g,p=m),g>=c&&g<=u&&(o&&o===m.type&&t.setNodeMarkup(g,void 0,{...m.attrs,...e}),s&&m.marks.length&&m.marks.forEach(v=>{if(s===v.type){const b=Math.max(g,c),S=Math.min(g+m.nodeSize,u);t.addMark(b,S,s.create({...v.attrs,...e}))}}))}),p&&(d!==void 0&&t.setNodeMarkup(d,void 0,{...p.attrs,...e}),s&&p.marks.length&&p.marks.forEach(m=>{s===m.type&&t.addMark(h,f,s.create({...m.attrs,...e}))}))}),!0):!1},uI=(n,e={})=>({state:t,dispatch:r})=>{const i=it(n,t.schema);return OT(i,e)(t,r)},dI=(n,e={})=>({state:t,dispatch:r})=>{const i=it(n,t.schema);return IT(i,e)(t,r)};var pI=Object.freeze({__proto__:null,blur:ZT,clearContent:XT,clearNodes:QT,command:eO,createParagraphNear:tO,cut:nO,deleteCurrentNode:rO,deleteNode:iO,deleteRange:oO,deleteSelection:sO,enter:aO,exitCode:lO,extendMarkRange:cO,first:uO,focus:dO,forEach:pO,insertContent:fO,insertContentAt:gO,joinBackward:bO,joinDown:vO,joinForward:xO,joinItemBackward:kO,joinItemForward:SO,joinTextblockBackward:wO,joinTextblockForward:CO,joinUp:yO,keyboardShortcut:DO,lift:TO,liftEmptyBlock:OO,liftListItem:IO,newlineInCode:PO,resetAttributes:AO,scrollIntoView:EO,selectAll:RO,selectNodeBackward:NO,selectNodeForward:FO,selectParentNode:jO,selectTextblockEnd:_O,selectTextblockStart:LO,setContent:$O,setMark:YO,setMeta:GO,setNode:JO,setNodeSelection:ZO,setTextSelection:XO,sinkListItem:QO,splitBlock:eI,splitListItem:tI,toggleList:nI,toggleMark:rI,toggleNode:iI,toggleWrap:oI,undoInputRule:sI,unsetAllMarks:aI,unsetMark:lI,updateAttributes:cI,wrapIn:uI,wrapInList:dI});const fI=Ct.create({name:"commands",addCommands(){return{...pI}}}),hI=Ct.create({name:"drop",addProseMirrorPlugins(){return[new Ot({key:new cn("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),mI=Ct.create({name:"editable",addProseMirrorPlugins(){return[new Ot({key:new cn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),gI=Ct.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Ot({key:new cn("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),yI=Ct.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:p,parent:h}=d,f=d.parent.isTextblock&&p>0?a.doc.resolve(p-1):d,m=f.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=m&&f.parent.childCount===1?g===d.pos:xe.atStart(c).from===p;return!u||!h.type.isTextblock||h.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return wu()||nv()?o:i},addProseMirrorPlugins(){return[new Ot({key:new cn("clearDocument"),appendTransaction:(n,e,t)=>{const r=n.some(m=>m.docChanged)&&!e.doc.eq(t.doc),i=n.some(m=>m.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:a}=e.selection,l=xe.atStart(e.doc).from,c=xe.atEnd(e.doc).to;if(o||!(s===l&&a===c)||!Mu(t.doc))return;const p=t.tr,h=rs({state:t,transaction:p}),{commands:f}=new is({editor:this.editor,state:h});if(f.clearNodes(),!!p.steps.length)return p}})]}}),vI=Ct.create({name:"paste",addProseMirrorPlugins(){return[new Ot({key:new cn("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),bI=Ct.create({name:"tabindex",addProseMirrorPlugins(){return[new Ot({key:new cn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Zn{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You canâ€™t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Zn(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Zn(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Zn(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,s=this.pos+r+(o?0:1),a=this.resolvedPos.doc.resolve(s);if(!i&&a.depth<=this.depth)return;const l=new Zn(a,this.editor,i,i?t:null);i&&(l.actualDepth=this.depth+1),e.push(new Zn(a,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const o=i.node.attrs,s=Object.keys(t);for(let a=0;a<s.length;a+=1){const l=s[a];if(o[l]!==t[l])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(t);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===e&&o.every(l=>t[l]===s.node.attrs[l])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const xI=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function kI(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}class SI extends FT{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=kI(xI,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=Gy(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(o=>{const s=typeof o=="string"?`${o}$`:o.key;r=t.filter(a=>!a.key.startsWith(s))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[mI,JT.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),fI,gI,yI,bI,hI,vI].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new Rr(i,this)}createCommandManager(){this.commandManager=new is({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=Vc(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=Vc(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=ev(t,this.options.autofocus);this.view=new eT(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Er.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return HO(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return WO(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return xu(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return zO(this.state.doc,{blockSeparator:t,textSerializers:{...Zy(this.schema),...r}})}get isEmpty(){return Mu(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Zn(t,this)}get $doc(){return this.$pos(0)}}function Ur(n){return new as({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Ce(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=t.from+a.indexOf(s),u=c+s.length;if(iv(t.from,t.to,e.doc).filter(h=>h.mark.type.excluded.find(m=>m===n.type&&m!==h.mark.type)).filter(h=>h.to>c).length)return null;u<t.to&&o.delete(u,t.to),c>t.from&&o.delete(t.from+l,c);const p=t.from+l+s.length;o.addMark(t.from+l,p,n.type.create(i||{})),o.removeStoredMark(n.type)}}})}function wI(n){return new as({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Ce(n.getAttributes,void 0,r)||{},{tr:o}=e,s=t.from;let a=t.to;const l=n.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=s+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(u,a,l)}else if(r[0]){const c=n.type.isInline?s:s-1;o.insert(c,n.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a))}o.scrollIntoView()}})}function zc(n){return new as({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),o=Ce(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)}})}function Ii(n){return new as({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const o=Ce(n.getAttributes,void 0,r)||{},s=e.tr.delete(t.from,t.to),l=s.doc.resolve(t.from).blockRange(),c=l&&lu(l,n.type,o);if(!c)return null;if(s.wrap(l,c),n.keepMarks&&n.editor){const{selection:d,storedMarks:p}=e,{splittableMarks:h}=n.editor.extensionManager,f=p||d.$to.parentOffset&&d.$from.marks();if(f){const m=f.filter(g=>h.includes(g.type.name));s.ensureMarks(m)}}if(n.keepAttributes){const d=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const u=s.doc.resolve(t.from-1).nodeBefore;u&&u.type===n.type&&Bn(s.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,u))&&s.join(t.from-1)}})}class Tt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ce(pe(this,"addOptions",{name:this.name}))),this.storage=Ce(pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Tt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>ls(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Tt(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ce(pe(t,"addOptions",{name:t.name})),t.storage=Ce(pe(t,"addStorage",{name:t.name,options:t.options})),t}}function Kr(n){return new HT({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const o=Ce(n.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];let c=t.to;if(a){const u=l.search(/\S/),d=t.from+l.indexOf(a),p=d+a.length;if(iv(t.from,t.to,e.doc).filter(f=>f.mark.type.excluded.find(g=>g===n.type&&g!==f.mark.type)).filter(f=>f.to>d).length)return null;p<t.to&&s.delete(p,t.to),d>t.from&&s.delete(t.from+u,d),c=t.from+u+a.length,s.addMark(t.from+u,c,n.type.create(o||{})),s.removeStoredMark(n.type)}}})}function CI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ov={exports:{}},Ws={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function MI(){if(Wp)return Ws;Wp=1;var n=rt;function e(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,o=n.useLayoutEffect,s=n.useDebugValue;function a(d,p){var h=p(),f=r({inst:{value:h,getSnapshot:p}}),m=f[0].inst,g=f[1];return o(function(){m.value=h,m.getSnapshot=p,l(m)&&g({inst:m})},[d,h,p]),i(function(){return l(m)&&g({inst:m}),d(function(){l(m)&&g({inst:m})})},[d]),s(h),h}function l(d){var p=d.getSnapshot;d=d.value;try{var h=p();return!t(d,h)}catch{return!0}}function c(d,p){return p()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Ws.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:u,Ws}ov.exports=MI();var Du=ov.exports;const DI=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},TI=({contentComponent:n})=>{const e=Du.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return rt.createElement(rt.Fragment,null,Object.values(e))};function OI(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:db.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class II extends rt.Component{constructor(e){var t;super(e),this.editorContentRef=rt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=OI(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:DI(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&rt.createElement(TI,{contentComponent:e.contentComponent}))}}const PI=x.forwardRef((n,e)=>{const t=rt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return rt.createElement(II,{key:t,innerRef:e,...n})}),AI=rt.memo(PI);var EI=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!(s==="_owner"&&e.$$typeof)&&!n(e[s],t[s]))return!1}return!0}return e!==e&&t!==t},RI=CI(EI),sv={exports:{}},Us={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function NI(){if(Up)return Us;Up=1;var n=rt,e=Du;function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,o=n.useRef,s=n.useEffect,a=n.useMemo,l=n.useDebugValue;return Us.useSyncExternalStoreWithSelector=function(c,u,d,p,h){var f=o(null);if(f.current===null){var m={hasValue:!1,value:null};f.current=m}else m=f.current;f=a(function(){function v(I){if(!b){if(b=!0,S=I,I=p(I),h!==void 0&&m.hasValue){var A=m.value;if(h(A,I))return C=A}return C=I}if(A=C,r(S,I))return A;var T=p(I);return h!==void 0&&h(A,T)?A:(S=I,C=T)}var b=!1,S,C,M=d===void 0?null:d;return[function(){return v(u())},M===null?void 0:function(){return v(M())}]},[u,d,p,h]);var g=i(c,f[0],f[1]);return s(function(){m.hasValue=!0,m.value=g},[g]),l(g),g},Us}sv.exports=NI();var FI=sv.exports;const jI=typeof window<"u"?x.useLayoutEffect:x.useEffect;class _I{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function LI(n){var e;const[t]=x.useState(()=>new _I(n.editor)),r=FI.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:RI);return jI(()=>t.watch(n.editor),[n.editor,t]),x.useDebugValue(r),r}const $I=!1,qc=typeof window>"u",VI=qc||!!(typeof window<"u"&&window.next);class BI{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return qc||VI?null:this.createEditor();if(this.options.current.immediatelyRender&&qc&&$I)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)===null||o===void 0?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)===null||o===void 0?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)===null||o===void 0?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)===null||o===void 0?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)===null||o===void 0?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)===null||o===void 0?void 0:o.call(i,...r)}};return new SI(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function zI(n={},e=[]){const t=x.useRef(n);t.current=n;const[r]=x.useState(()=>new BI(t)),i=Du.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return x.useDebugValue(i),x.useEffect(r.onRender(e)),LI({editor:i,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&o===0?0:o+1}),i}const qI=x.createContext({editor:null});qI.Consumer;const HI=x.createContext({onDragStart:void 0}),WI=()=>x.useContext(HI);rt.forwardRef((n,e)=>{const{onDragStart:t}=WI(),r=n.as||"div";return rt.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const UI=/^\s*>\s$/,KI=Tt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",wt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ii({find:UI,type:this.type})]}}),YI=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,GI=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,JI=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,ZI=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,XI=Ln.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",wt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ur({find:YI,type:this.type}),Ur({find:JI,type:this.type})]},addPasteRules(){return[Kr({find:GI,type:this.type}),Kr({find:ZI,type:this.type})]}}),QI="listItem",Kp="textStyle",Yp=/^\s*([-+*])\s$/,eP=Tt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",wt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(QI,this.editor.getAttributes(Kp)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Ii({find:Yp,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ii({find:Yp,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Kp),editor:this.editor})),[n]}}),tP=new RegExp("(?<!`)`([^`]+)`(?!`)"),nP=new RegExp("(?<!`)`([^`]+)`(?!`)","g"),rP=Ln.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",wt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ur({find:tP,type:this.type})]},addPasteRules(){return[Kr({find:nP,type:this.type})]}}),iP=/^```([a-z]+)?[\s\n]$/,oP=/^~~~([a-z]+)?[\s\n]$/,sP=Tt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,o=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(t)).map(s=>s.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",wt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:n.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:o}=t;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?n.commands.command(({tr:c})=>(c.setSelection(xe.near(r.resolve(a))),!0)):n.commands.exitCode()}}},addInputRules(){return[zc({find:iP,type:this.type,getAttributes:n=>({language:n[1]})}),zc({find:oP,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Ot({key:new cn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!t||!o)return!1;const{tr:s,schema:a}=n.state,l=a.text(t.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(ye.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),n.dispatch(s),!0}}})]}}),aP=Tt.create({name:"doc",topNode:!0,content:"block+"});function lP(n={}){return new Ot({view(e){return new cP(e,n)}})}class cP{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r;if(t){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let a=i.getBoundingClientRect();o=a.left-i.scrollLeft,s=a.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!o){let s=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=ey(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const uP=Ct.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[lP(this.options)]}});class Ue extends xe{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Ue.valid(r)?new Ue(r):xe.near(r)}content(){return ae.empty}eq(e){return e instanceof Ue&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ue(e.resolve(t.pos))}getBookmark(){return new Tu(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!dP(e)||!pP(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Ue.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(t>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(t>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=t;let l=e.doc.resolve(i);if(Ue.valid(l))return l}for(;;){let s=t>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!ge.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*t),r=!1;continue e}break}o=s,i+=t;let a=e.doc.resolve(i);if(Ue.valid(a))return a}return null}}}Ue.prototype.visible=!1;Ue.findFrom=Ue.findGapCursorFrom;xe.jsonID("gapcursor",Ue);class Tu{constructor(e){this.pos=e}map(e){return new Tu(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Ue.valid(t)?new Ue(t):xe.near(t)}}function dP(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function pP(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function fP(){return new Ot({props:{decorations:yP,createSelectionBetween(n,e,t){return e.pos==t.pos&&Ue.valid(t)?new Ue(t):null},handleClick:mP,handleKeyDown:hP,handleDOMEvents:{beforeinput:gP}}})}const hP=By({ArrowLeft:io("horiz",-1),ArrowRight:io("horiz",1),ArrowUp:io("vert",-1),ArrowDown:io("vert",1)});function io(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof ye){if(!o.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Ue.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new Ue(c))),!0):!1}}function mP(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Ue.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&ge.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Ue(r))),!0)}function gP(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Ue))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=G.empty;for(let s=r.length-1;s>=0;s--)i=G.from(r[s].createAndFill(null,i));let o=n.state.tr.replace(t.pos,t.pos,new ae(i,0,0));return o.setSelection(ye.near(o.doc.resolve(t.pos+1))),n.dispatch(o),!1}function yP(n){if(!(n.selection instanceof Ue))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",nt.create(n.doc,[$t.widget(n.selection.head,e,{key:"gapcursor"})])}const vP=Ct.create({name:"gapCursor",addProseMirrorPlugins(){return[fP()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Ce(pe(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),bP=Tt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",wt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:o}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&s){const d=l.filter(p=>a.includes(p.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),xP=Tt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,wt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>zc({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Vo=200,lt=function(){};lt.prototype.append=function(e){return e.length?(e=lt.from(e),!this.length&&e||e.length<Vo&&this.leafAppend(e)||this.length<Vo&&e.leafPrepend(this)||this.appendInner(e)):this};lt.prototype.prepend=function(e){return e.length?lt.from(e).append(this):this};lt.prototype.appendInner=function(e){return new kP(this,e)};lt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?lt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};lt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};lt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};lt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},t,r),i};lt.from=function(e){return e instanceof lt?e:e&&e.length?new av(e):lt.empty};var av=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Vo)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Vo)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(lt);lt.empty=new av([]);var kP=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(lt);const SP=500;class Gt{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;t&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,c=[],u=[];return this.items.forEach((d,p)=>{if(!d.step){i||(i=this.remapping(r,p+1),o=i.maps.length),o--,u.push(d);return}if(i){u.push(new en(d.map));let h=d.step.map(i.slice(o)),f;h&&s.maybeStep(h).doc&&(f=s.mapping.maps[s.mapping.maps.length-1],c.push(new en(f,void 0,void 0,c.length+u.length))),o--,f&&i.appendMap(f,o)}else s.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(o)):d.selection,l=new Gt(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,t,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),p=new en(e.mapping.maps[u],d,t),h;(h=l&&l.merge(p))&&(p=h,u?o.pop():a=a.slice(0,a.length-1)),o.push(p),t&&(s++,t=void 0),i||(l=p)}let c=s-r.depth;return c>CP&&(a=wP(a,c),s-=c),new Gt(a.append(o),s)}remapping(e,t){let r=new _r;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,t),r}addMaps(e){return this.eventCount==0?this:new Gt(this.items.append(e.map(t=>new en(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(p=>{p.selection&&a--},i);let l=t;this.items.forEach(p=>{let h=o.getMirror(--l);if(h==null)return;s=Math.min(s,h);let f=o.maps[h];if(p.step){let m=e.steps[h].invert(e.docs[h]),g=p.selection&&p.selection.map(o.slice(l+1,h));g&&a++,r.push(new en(f,m,g))}else r.push(new en(f))},i);let c=[];for(let p=t;p<s;p++)c.push(new en(o.maps[p]));let u=this.items.slice(0,i).append(c).append(r),d=new Gt(u,a);return d.emptyItemCount()>SP&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(t.slice(r)),c=l&&l.getMap();if(r--,c&&t.appendMap(c,r),l){let u=s.selection&&s.selection.map(t.slice(r));u&&o++;let d=new en(c.invert(),l,u),p,h=i.length-1;(p=i.length&&i[h].merge(d))?i[h]=p:i.push(d)}}else s.map&&r--},this.items.length,0),new Gt(lt.from(i.reverse()),o)}}Gt.empty=new Gt(lt.empty,0);function wP(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class en{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new en(t.getMap().invert(),t,this.selection)}}}class Mn{constructor(e,t,r,i,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const CP=20;function MP(n,e,t,r){let i=t.getMeta(sr),o;if(i)return i.historyState;t.getMeta(OP)&&(n=new Mn(n.done,n.undone,null,0,-1));let s=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(s&&s.getMeta(sr))return s.getMeta(sr).redo?new Mn(n.done.addTransform(t,void 0,r,yo(e)),n.undone,Gp(t.mapping.maps),n.prevTime,n.prevComposition):new Mn(n.done,n.undone.addTransform(t,void 0,r,yo(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=n.prevTime==0||!s&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-r.newGroupDelay||!DP(t,n.prevRanges)),c=s?Ks(n.prevRanges,t.mapping):Gp(t.mapping.maps);return new Mn(n.done.addTransform(t,l?e.selection.getBookmark():void 0,r,yo(e)),Gt.empty,c,t.time,a??n.prevComposition)}else return(o=t.getMeta("rebased"))?new Mn(n.done.rebased(t,o),n.undone.rebased(t,o),Ks(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Mn(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Ks(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function DP(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(t=!0)}),t}function Gp(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,o,s)=>e.push(o,s));return e}function Ks(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),o=e.map(n[r+1],-1);i<=o&&t.push(i,o)}return t}function TP(n,e,t){let r=yo(e),i=sr.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),l=new Mn(t?a:o.remaining,t?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(sr,{redo:t,historyState:l})}let Ys=!1,Jp=null;function yo(n){let e=n.plugins;if(Jp!=e){Ys=!1,Jp=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Ys=!0;break}}return Ys}const sr=new cn("history"),OP=new cn("closeHistory");function IP(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Ot({key:sr,state:{init(){return new Mn(Gt.empty,Gt.empty,null,0,-1)},apply(e,t,r){return MP(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?cv:r=="historyRedo"?uv:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function lv(n,e){return(t,r)=>{let i=sr.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let o=TP(i,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const cv=lv(!1,!0),uv=lv(!0,!0),PP=Ct.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>cv(n,e),redo:()=>({state:n,dispatch:e})=>uv(n,e)}},addProseMirrorPlugins(){return[IP(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Ñ":()=>this.editor.commands.undo(),"Shift-Mod-Ñ":()=>this.editor.commands.redo()}}}),AP=Tt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",wt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:i}=t,o=n();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):UO(t)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:s,dispatch:a})=>{var l;if(a){const{$to:c}=s.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?s.setSelection(ye.create(s.doc,c.pos+1)):c.nodeAfter.isBlock?s.setSelection(ge.create(s.doc,c.pos)):s.setSelection(ye.create(s.doc,c.pos));else{const d=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(s.insert(u,d),s.setSelection(ye.create(s.doc,u+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[wI({find:/^(?:---|â€”-|___\s|\*\*\*\s)$/,type:this.type})]}}),EP=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,RP=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,NP=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,FP=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,jP=Ln.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",wt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ur({find:EP,type:this.type}),Ur({find:NP,type:this.type})]},addPasteRules(){return[Kr({find:RP,type:this.type}),Kr({find:FP,type:this.type})]}}),_P=Tt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",wt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),LP="listItem",Zp="textStyle",Xp=/^(\d+)\.\s$/,$P=Tt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",wt(this.options.HTMLAttributes,t),0]:["ol",wt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(LP,this.editor.getAttributes(Zp)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Ii({find:Xp,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ii({find:Xp,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Zp)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),VP=Tt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",wt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),BP=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,zP=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,qP=Ln.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",wt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ur({find:BP,type:this.type})]},addPasteRules(){return[Kr({find:zP,type:this.type})]}}),HP=Tt.create({name:"text",group:"inline"}),WP=Ct.create({name:"starterKit",addExtensions(){var n,e,t,r,i,o,s,a,l,c,u,d,p,h,f,m,g,v;const b=[];return this.options.bold!==!1&&b.push(XI.configure((n=this.options)===null||n===void 0?void 0:n.bold)),this.options.blockquote!==!1&&b.push(KI.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&b.push(eP.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&b.push(rP.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&b.push(sP.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&b.push(aP.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&b.push(uP.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&b.push(vP.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&b.push(bP.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&b.push(xP.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&b.push(PP.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&b.push(AP.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&b.push(jP.configure((p=this.options)===null||p===void 0?void 0:p.italic)),this.options.listItem!==!1&&b.push(_P.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&b.push($P.configure((f=this.options)===null||f===void 0?void 0:f.orderedList)),this.options.paragraph!==!1&&b.push(VP.configure((m=this.options)===null||m===void 0?void 0:m.paragraph)),this.options.strike!==!1&&b.push(qP.configure((g=this.options)===null||g===void 0?void 0:g.strike)),this.options.text!==!1&&b.push(HP.configure((v=this.options)===null||v===void 0?void 0:v.text)),b}}),dv=Object.fromEntries?Object.fromEntries:n=>{if(!n||!n[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const e={};return Object.keys(n).forEach(t=>{const[r,i]=n[t];e[r]=i}),e};function $n(n){return Object.keys(n)}function tr(n,e){if(!n)throw new Error(e)}function Ou(n,e){return e}const Iu=n=>{const e=n.length;let t=0,r="";for(;t<e;t++){const i=n[t];if(i==null)continue;let o;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))o=Iu(i);else{tr(!Ou(i,!1)),o="";for(const s in i)i[s]&&s&&(o&&(o+=" "),o+=s)}break}default:o=i}o&&(r&&(r+=" "),r+=o)}return r};function UP(n,e){var t;const r=x.useRef();return(!r.current||e.length!==((t=r.current.prevDeps)===null||t===void 0?void 0:t.length)||r.current.prevDeps.map((i,o)=>i===e[o]).indexOf(!1)>=0)&&(r.current={v:n(),prevDeps:[...e]}),r.current.v}function KP(n){return n instanceof Object&&!("styles"in n)&&!("length"in n)&&!("__emotion_styles"in n)}const{createCssAndCx:YP}=(()=>{function n(t,r,i){const o=[],s=Qv(t,o,i);return o.length<2?i:s+r(o)}function e(t){const{cache:r}=t,i=(...s)=>{const a=Zv(s,r.registered);Xv(r,a,!1);const l=`${r.key}-${a.name}`;e:{const c=s[0];if(!KP(c))break e;Qp.saveClassNameCSSObjectMapping(r,l,c)}return l};return{css:i,cx:(...s)=>{const a=Iu(s),l=Qp.fixClassName(r,a,i);return n(r.registered,i,l)}}}return{createCssAndCx:e}})();function pv(n){const{useCache:e}=n;function t(){const r=e(),{css:i,cx:o}=UP(()=>YP({cache:r}),[r]);return{css:i,cx:o}}return{useCssAndCx:t}}const Qp=(()=>{const n=new WeakMap;return{saveClassNameCSSObjectMapping:(e,t,r)=>{let i=n.get(e);i===void 0&&(i=new Map,n.set(e,i)),i.set(t,r)},fixClassName:(()=>{function e(t){let r=!1;return t.map(([i,o])=>{if(o===void 0)return i;let s;if(r)s={"&&":o};else{s=i;for(const a in o)if(a.startsWith("@media")){r=!0;break}}return s})}return(t,r,i)=>{const o=n.get(t);return Iu(e(r.split(" ").map(s=>[s,o==null?void 0:o.get(s)])).map(s=>typeof s=="string"?s:i(s)))}})()}})();function Vn(n){if(!(n instanceof Object)||typeof n=="function")return n;const e=[];for(const t in n){const r=n[t],i=typeof r;if(!(i==="string"||i==="number"&&!isNaN(r)||i==="boolean"||r===void 0||r===null))return n;e.push(`${t}:${i}_${r}`)}return"xSqLiJdLMd9s"+e.join("|")}function Pu(n,e,t){if(!(e instanceof Object))return n;const r={};return $n(n).forEach(i=>r[i]=t(n[i],e[i])),$n(e).forEach(i=>{if(i in n)return;const o=e[i];typeof o=="string"&&(r[i]=o)}),r}const fv=({classes:n,theme:e,muiStyleOverridesParams:t,css:r,cx:i,name:o})=>{var s,a;e:{if(o==="makeStyle no name"){o=void 0;break e}if(t!==void 0&&o===void 0)throw new Error("To use muiStyleOverridesParams, you must specify a name using .withName('MyComponent')")}let l;try{l=o===void 0?void 0:((a=(s=e.components)===null||s===void 0?void 0:s[o])===null||a===void 0?void 0:a.styleOverrides)||void 0}catch{}const c=x.useMemo(()=>{if(l===void 0)return;const u={};for(const d in l){const p=l[d];p instanceof Object&&(u[d]=r(typeof p=="function"?p({theme:e,ownerState:t==null?void 0:t.ownerState,...t==null?void 0:t.props}):p))}return u},[l,Vn(t==null?void 0:t.props),Vn(t==null?void 0:t.ownerState),r]);return n=x.useMemo(()=>Pu(n,c,i),[n,c,i]),{classes:n}},GP=eb;let JP=0;function hv(n){const{useTheme:e,cache:t}=n,{useCache:r}=mv({cacheProvidedAtInception:t}),{useCssAndCx:i}=pv({useCache:r});function o(a){const{name:l,uniqId:c=`${JP++}`}=a??{},u=typeof l!="object"?l:Object.keys(l)[0];return function(d){const p=typeof d=="function"?d:()=>d;return function(f,m){const g=e();let{css:v,cx:b}=i();const S=r();let C=x.useMemo(()=>{const M={},I=typeof Proxy<"u"&&new Proxy({},{get:(E,F)=>(typeof F=="symbol"&&tr(!1),M[F]=`${S.key}-${c}${u!==void 0?`-${u}`:""}-${F}-ref`)}),A=p(g,f,I||{}),T=dv($n(A).map(E=>{const F=A[E];return F.label||(F.label=`${u!==void 0?`${u}-`:""}${E}`),[E,`${v(F)}${Ou(E,E in M)?` ${M[E]}`:""}`]}));return $n(M).forEach(E=>{E in T||(T[E]=M[E])}),T},[S,v,b,g,Vn(f)]);{const M=m==null?void 0:m.props.classes;C=x.useMemo(()=>Pu(C,M,b),[C,Vn(M),b])}{const M=fv({classes:C,css:v,cx:b,name:u??"makeStyle no name",idOfUseStyles:c,muiStyleOverridesParams:m,theme:g});M.classes!==void 0&&(C=M.classes),M.css!==void 0&&(v=M.css),M.cx!==void 0&&(b=M.cx)}return{classes:C,theme:g,css:v,cx:b}}}}function s(){const a=e(),{css:l,cx:c}=i();return{theme:a,css:l,cx:c}}return{makeStyles:o,useStyles:s}}const ZP=x.createContext(void 0),{createUseCache:mv}=(()=>{function n(){return x.useContext(ZP)}function e(t){const{cacheProvidedAtInception:r}=t;function i(){var o;const s=GP(),a=n(),l=(o=r??a)!==null&&o!==void 0?o:s;if(l===null)throw new Error(["In order to get SSR working with tss-react you need to explicitly provide an Emotion cache.","MUI users be aware: This is not an error strictly related to tss-react, with or without tss-react,","MUI needs an Emotion cache to be provided for SSR to work.","Here is the MUI documentation related to SSR setup: https://mui.com/material-ui/guides/server-rendering/","TSS provides helper that makes the process of setting up SSR easier: https://docs.tss-react.dev/ssr"].join(`
`));return l}return{useCache:i}}return{createUseCache:e}})();function ef(n){return n.charAt(0).toUpperCase()+n.slice(1)}function XP(n){const{useTheme:e,cache:t}=n,{makeStyles:r}=hv({useTheme:e,cache:t});function i(o,s,a){const l=typeof o=="string"?(()=>{const h=o,f=function({children:m,...g}){return x.createElement(h,g,m)};return Object.defineProperty(f,"name",{value:ef(h)}),f})():o,c=(()=>{{const{name:f}=a??{};if(f!==void 0)return typeof f!="object"?f:Object.keys(f)[0]}let h;e:{const f=l.displayName;if(typeof f!="string"||f==="")break e;h=f}e:{if(h!==void 0)break e;const f=l.name;if(typeof f!="string"||f==="")break e;h=f}if(h!==void 0)return h=h.replace(/\$/g,"usd"),h=h.replace(/\(/g,"_").replace(/\)/g,"_"),h=h.replace(/[^a-zA-Z0-9-_]/g,"_"),h})(),u=r({...a,name:c})(typeof s=="function"?(h,f,m)=>nf(s(h,f,m)):nf(s));function d(h){for(const f in h)if(f!=="root")return!0;return!1}const p=x.forwardRef(function(h,f){const{className:m,classes:g,...v}=h,{classes:b,cx:S}=u(h,{props:h}),C=S(b.root,m);return gv.set(b,{...b,root:C}),rt.createElement(l,{ref:f,className:d(b)?m:C,...typeof o=="string"?{}:{classes:b},...v})});return c!==void 0&&(p.displayName=`${ef(c)}WithStyles`,Object.defineProperty(p,"name",{value:p.displayName})),p}return i.getClasses=QP,{withStyles:i}}const gv=new WeakMap,tf="getClasses should only be used in conjunction with withStyles";function QP(n){const e=n.classes;if(e===void 0)throw new Error(tf);const t=gv.get(e);if(t===void 0)throw new Error(tf);return t}function nf(n){const e={},t={};return Object.keys(n).forEach(r=>(r.startsWith("@media")?t:e)[r]=n[r]),Object.keys(t).forEach(r=>{const i=t[r];Object.keys(i).forEach(o=>{var s;return e[o]={...(s=e[o])!==null&&s!==void 0?s:{},[r]:i[o]}})}),e}const eA=!(typeof document=="object"&&typeof(document==null?void 0:document.getElementById)=="function")&&!(typeof jest<"u")&&!(typeof mocha<"u")&&!(typeof __vitest_worker__<"u");function yv(n){vv=0,Dn.splice(0,Dn.length);const{useContext:e,usePlugin:t,cache:r}=n,{useCache:i}=mv({cacheProvidedAtInception:r}),{useCssAndCx:o}=pv({useCache:i});return{tss:vo({useContext:e,useCache:i,useCssAndCx:o,usePlugin:t??(({classes:l,cx:c,css:u})=>({classes:l,cx:c,css:u})),name:void 0,doesUseNestedSelectors:!1})}}let vv=0;const Dn=[];function vo(n){const{useContext:e,useCache:t,useCssAndCx:r,usePlugin:i,name:o,doesUseNestedSelectors:s}=n;return{withParams:()=>vo({...n}),withName:a=>vo({...n,name:typeof a!="object"?a:Object.keys(a)[0]}),withNestedSelectors:()=>vo({...n,doesUseNestedSelectors:!0}),create:a=>{const l=`x${vv++}`;if(o!==void 0)for(;;){const u=Dn.find(d=>d.name===o);if(u===void 0)break;Dn.splice(Dn.indexOf(u),1)}const c=typeof a=="function"?a:()=>a;return function(d){var p,h,f;const{classesOverrides:m,...g}=d??{},v=e(),{css:b,cx:S}=r(),C=t(),M=()=>{const T={},E=c({...d,...v,...s?{classes:typeof Proxy>"u"?{}:new Proxy({},{get:(D,R)=>{if(typeof R=="symbol"&&tr(!1),eA&&o===void 0)throw new Error(["tss-react: In SSR setups, in order to use nested selectors, you must also give a unique name to the useStyle function.",'Solution: Use tss.withName("ComponentName").withNestedSelectors<...>()... to set a name.'].join(`
`));e:{if(o===void 0)break e;let _=Dn.find(P=>P.name===o&&P.idOfUseStyles===l);_===void 0&&(_={name:o,idOfUseStyles:l,nestedSelectorRuleNames:new Set},Dn.push(_)),_.nestedSelectorRuleNames.add(R)}e:{if(o===void 0||!(Dn.find(P=>P.name===o&&P.idOfUseStyles!==l&&P.nestedSelectorRuleNames.has(R))!==void 0))break e;throw new Error([`tss-react: There are in your codebase two different useStyles named "${o}" that`,`both use use the nested selector ${R}.
`,`This may lead to CSS class name collisions, causing nested selectors to target elements outside of the intended scope.
`,`Solution: Ensure each useStyles using nested selectors has a unique name.
`,'Use: tss.withName("UniqueName").withNestedSelectors<...>()...'].join(" "))}return T[R]=`${C.key}-${o!==void 0?o:l}-${R}-ref`}})}:{}});let F=dv($n(E).map(D=>{const R=E[D];return R.label||(R.label=`${o!==void 0?`${o}-`:""}${D}`),[D,`${b(R)}${Ou(D,D in T)?` ${T[D]}`:""}`]}));return $n(T).forEach(D=>{D in F||(F[D]=T[D])}),F=Pu(F,m,S),F},I=tA({cache:C,cssObjectByRuleNameOrGetCssObjectByRuleName:a,classesOverridesRef:Vn(m),paramsAndPluginParamsRef:Vn(g),idOfUseStyles:l,context:v,getClasses:M}),A=i({classes:I,css:b,cx:S,idOfUseStyles:l,name:o,...v,...g});return{classes:(p=A.classes)!==null&&p!==void 0?p:I,css:(h=A.css)!==null&&h!==void 0?h:b,cx:(f=A.cx)!==null&&f!==void 0?f:S,...v}}}}}const oo=new WeakMap;function tA(n){const{cache:e,cssObjectByRuleNameOrGetCssObjectByRuleName:t,classesOverridesRef:r,paramsAndPluginParamsRef:i,idOfUseStyles:o,context:s,getClasses:a}=n;e:{const c=oo.get(e);if(c===void 0)break e;const u=c.get(t);if(u===void 0)break e;const d=u.get(r);if(d===void 0)break e;const p=d.get(i);if(p===void 0)break e;const h=p.find(({context:f})=>{if(f===s)return!0;if($n(f).length!==$n(s).length)return!1;for(const m in f)if(Vn(f[m])!==Vn(s[m]))return!1;return!0});if(h===void 0)break e;if((h==null?void 0:h.idOfUseStyles)!==o){p.splice(p.indexOf(h),1);break e}return h.result}const l=a();{oo.has(e)||oo.set(e,new WeakMap);const c=oo.get(e);tr(c!==void 0),c.has(t)||c.set(t,new Map);const u=c.get(t);tr(u!==void 0),u.has(r)||(u.size>200&&u.clear(),u.set(r,new Map));const d=u.get(r);if(tr(d!==void 0),!d.has(i)){e:{const h=typeof i=="string"?257:5;if(d.size<h)break e;d.clear()}d.set(i,[])}let p=d.get(i);tr(p!==void 0),p.length>5&&(p=[]),p.push({idOfUseStyles:o,context:s,result:l})}return l}function nA(n){return{...hv(n),...XP(n)}}const{tss:rA}=yv({useContext:()=>({})});rA.create({});const{makeStyles:un,withStyles:sN}=nA({useTheme:Pi}),{tss:iA}=yv({useContext:function(){return{theme:Pi()}},usePlugin:fv});iA.create({});var Gs,rf;function oA(){if(rf)return Gs;rf=1;function n(){this.__data__=[],this.size=0}return Gs=n,Gs}var Js,of;function bv(){if(of)return Js;of=1;function n(e,t){return e===t||e!==e&&t!==t}return Js=n,Js}var Zs,sf;function cs(){if(sf)return Zs;sf=1;var n=bv();function e(t,r){for(var i=t.length;i--;)if(n(t[i][0],r))return i;return-1}return Zs=e,Zs}var Xs,af;function sA(){if(af)return Xs;af=1;var n=cs(),e=Array.prototype,t=e.splice;function r(i){var o=this.__data__,s=n(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():t.call(o,s,1),--this.size,!0}return Xs=r,Xs}var Qs,lf;function aA(){if(lf)return Qs;lf=1;var n=cs();function e(t){var r=this.__data__,i=n(r,t);return i<0?void 0:r[i][1]}return Qs=e,Qs}var ea,cf;function lA(){if(cf)return ea;cf=1;var n=cs();function e(t){return n(this.__data__,t)>-1}return ea=e,ea}var ta,uf;function cA(){if(uf)return ta;uf=1;var n=cs();function e(t,r){var i=this.__data__,o=n(i,t);return o<0?(++this.size,i.push([t,r])):i[o][1]=r,this}return ta=e,ta}var na,df;function us(){if(df)return na;df=1;var n=oA(),e=sA(),t=aA(),r=lA(),i=cA();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=r,o.prototype.set=i,na=o,na}var ra,pf;function uA(){if(pf)return ra;pf=1;var n=us();function e(){this.__data__=new n,this.size=0}return ra=e,ra}var ia,ff;function dA(){if(ff)return ia;ff=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return ia=n,ia}var oa,hf;function pA(){if(hf)return oa;hf=1;function n(e){return this.__data__.get(e)}return oa=n,oa}var sa,mf;function fA(){if(mf)return sa;mf=1;function n(e){return this.__data__.has(e)}return sa=n,sa}var aa,gf;function gr(){if(gf)return aa;gf=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return aa=n,aa}var la,yf;function xv(){if(yf)return la;yf=1;var n=Ai(),e=gr(),t="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!e(a))return!1;var l=n(a);return l==r||l==i||l==t||l==o}return la=s,la}var ca,vf;function hA(){if(vf)return ca;vf=1;var n=ln(),e=n["__core-js_shared__"];return ca=e,ca}var ua,bf;function mA(){if(bf)return ua;bf=1;var n=hA(),e=function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function t(r){return!!e&&e in r}return ua=t,ua}var da,xf;function kv(){if(xf)return da;xf=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return da=t,da}var pa,kf;function gA(){if(kf)return pa;kf=1;var n=xv(),e=mA(),t=gr(),r=kv(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(p){if(!t(p)||e(p))return!1;var h=n(p)?u:o;return h.test(r(p))}return pa=d,pa}var fa,Sf;function yA(){if(Sf)return fa;Sf=1;function n(e,t){return e==null?void 0:e[t]}return fa=n,fa}var ha,wf;function yr(){if(wf)return ha;wf=1;var n=gA(),e=yA();function t(r,i){var o=e(r,i);return n(o)?o:void 0}return ha=t,ha}var ma,Cf;function Au(){if(Cf)return ma;Cf=1;var n=yr(),e=ln(),t=n(e,"Map");return ma=t,ma}var ga,Mf;function ds(){if(Mf)return ga;Mf=1;var n=yr(),e=n(Object,"create");return ga=e,ga}var ya,Df;function vA(){if(Df)return ya;Df=1;var n=ds();function e(){this.__data__=n?n(null):{},this.size=0}return ya=e,ya}var va,Tf;function bA(){if(Tf)return va;Tf=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return va=n,va}var ba,Of;function xA(){if(Of)return ba;Of=1;var n=ds(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function i(o){var s=this.__data__;if(n){var a=s[o];return a===e?void 0:a}return r.call(s,o)?s[o]:void 0}return ba=i,ba}var xa,If;function kA(){if(If)return xa;If=1;var n=ds(),e=Object.prototype,t=e.hasOwnProperty;function r(i){var o=this.__data__;return n?o[i]!==void 0:t.call(o,i)}return xa=r,xa}var ka,Pf;function SA(){if(Pf)return ka;Pf=1;var n=ds(),e="__lodash_hash_undefined__";function t(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=n&&i===void 0?e:i,this}return ka=t,ka}var Sa,Af;function wA(){if(Af)return Sa;Af=1;var n=vA(),e=bA(),t=xA(),r=kA(),i=SA();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=r,o.prototype.set=i,Sa=o,Sa}var wa,Ef;function CA(){if(Ef)return wa;Ef=1;var n=wA(),e=us(),t=Au();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return wa=r,wa}var Ca,Rf;function MA(){if(Rf)return Ca;Rf=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Ca=n,Ca}var Ma,Nf;function ps(){if(Nf)return Ma;Nf=1;var n=MA();function e(t,r){var i=t.__data__;return n(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Ma=e,Ma}var Da,Ff;function DA(){if(Ff)return Da;Ff=1;var n=ps();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return Da=e,Da}var Ta,jf;function TA(){if(jf)return Ta;jf=1;var n=ps();function e(t){return n(this,t).get(t)}return Ta=e,Ta}var Oa,_f;function OA(){if(_f)return Oa;_f=1;var n=ps();function e(t){return n(this,t).has(t)}return Oa=e,Oa}var Ia,Lf;function IA(){if(Lf)return Ia;Lf=1;var n=ps();function e(t,r){var i=n(this,t),o=i.size;return i.set(t,r),this.size+=i.size==o?0:1,this}return Ia=e,Ia}var Pa,$f;function Sv(){if($f)return Pa;$f=1;var n=CA(),e=DA(),t=TA(),r=OA(),i=IA();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=r,o.prototype.set=i,Pa=o,Pa}var Aa,Vf;function PA(){if(Vf)return Aa;Vf=1;var n=us(),e=Au(),t=Sv(),r=200;function i(o,s){var a=this.__data__;if(a instanceof n){var l=a.__data__;if(!e||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new t(l)}return a.set(o,s),this.size=a.size,this}return Aa=i,Aa}var Ea,Bf;function AA(){if(Bf)return Ea;Bf=1;var n=us(),e=uA(),t=dA(),r=pA(),i=fA(),o=PA();function s(a){var l=this.__data__=new n(a);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,Ea=s,Ea}var Ra,zf;function EA(){if(zf)return Ra;zf=1;function n(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}return Ra=n,Ra}var Na,qf;function wv(){if(qf)return Na;qf=1;var n=yr(),e=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}}();return Na=e,Na}var Fa,Hf;function Cv(){if(Hf)return Fa;Hf=1;var n=wv();function e(t,r,i){r=="__proto__"&&n?n(t,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[r]=i}return Fa=e,Fa}var ja,Wf;function Mv(){if(Wf)return ja;Wf=1;var n=Cv(),e=bv(),t=Object.prototype,r=t.hasOwnProperty;function i(o,s,a){var l=o[s];(!(r.call(o,s)&&e(l,a))||a===void 0&&!(s in o))&&n(o,s,a)}return ja=i,ja}var _a,Uf;function $i(){if(Uf)return _a;Uf=1;var n=Mv(),e=Cv();function t(r,i,o,s){var a=!o;o||(o={});for(var l=-1,c=i.length;++l<c;){var u=i[l],d=s?s(o[u],r[u],u,o,r):void 0;d===void 0&&(d=r[u]),a?e(o,u,d):n(o,u,d)}return o}return _a=t,_a}var La,Kf;function RA(){if(Kf)return La;Kf=1;function n(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}return La=n,La}var $a,Yf;function NA(){if(Yf)return $a;Yf=1;var n=Ai(),e=Yr(),t="[object Arguments]";function r(i){return e(i)&&n(i)==t}return $a=r,$a}var Va,Gf;function Dv(){if(Gf)return Va;Gf=1;var n=NA(),e=Yr(),t=Object.prototype,r=t.hasOwnProperty,i=t.propertyIsEnumerable,o=n(function(){return arguments}())?n:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return Va=o,Va}var pi={exports:{}},Ba,Jf;function FA(){if(Jf)return Ba;Jf=1;function n(){return!1}return Ba=n,Ba}pi.exports;var Zf;function Tv(){return Zf||(Zf=1,function(n,e){var t=ln(),r=FA(),i=e&&!e.nodeType&&e,o=i&&!0&&n&&!n.nodeType&&n,s=o&&o.exports===i,a=s?t.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;n.exports=c}(pi,pi.exports)),pi.exports}var za,Xf;function jA(){if(Xf)return za;Xf=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,i){var o=typeof r;return i=i??n,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return za=t,za}var qa,Qf;function Ov(){if(Qf)return qa;Qf=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return qa=e,qa}var Ha,eh;function _A(){if(eh)return Ha;eh=1;var n=Ai(),e=Ov(),t=Yr(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",d="[object Object]",p="[object RegExp]",h="[object Set]",f="[object String]",m="[object WeakMap]",g="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",S="[object Float64Array]",C="[object Int8Array]",M="[object Int16Array]",I="[object Int32Array]",A="[object Uint8Array]",T="[object Uint8ClampedArray]",E="[object Uint16Array]",F="[object Uint32Array]",D={};D[b]=D[S]=D[C]=D[M]=D[I]=D[A]=D[T]=D[E]=D[F]=!0,D[r]=D[i]=D[g]=D[o]=D[v]=D[s]=D[a]=D[l]=D[c]=D[u]=D[d]=D[p]=D[h]=D[f]=D[m]=!1;function R(_){return t(_)&&e(_.length)&&!!D[n(_)]}return Ha=R,Ha}var Wa,th;function Eu(){if(th)return Wa;th=1;function n(e){return function(t){return e(t)}}return Wa=n,Wa}var fi={exports:{}};fi.exports;var nh;function Ru(){return nh||(nh=1,function(n,e){var t=hb(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,s=o&&t.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();n.exports=a}(fi,fi.exports)),fi.exports}var Ua,rh;function LA(){if(rh)return Ua;rh=1;var n=_A(),e=Eu(),t=Ru(),r=t&&t.isTypedArray,i=r?e(r):n;return Ua=i,Ua}var Ka,ih;function Iv(){if(ih)return Ka;ih=1;var n=RA(),e=Dv(),t=Gr(),r=Tv(),i=jA(),o=LA(),s=Object.prototype,a=s.hasOwnProperty;function l(c,u){var d=t(c),p=!d&&e(c),h=!d&&!p&&r(c),f=!d&&!p&&!h&&o(c),m=d||p||h||f,g=m?n(c.length,String):[],v=g.length;for(var b in c)(u||a.call(c,b))&&!(m&&(b=="length"||h&&(b=="offset"||b=="parent")||f&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,v)))&&g.push(b);return g}return Ka=l,Ka}var Ya,oh;function Nu(){if(oh)return Ya;oh=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,i=typeof r=="function"&&r.prototype||n;return t===i}return Ya=e,Ya}var Ga,sh;function Pv(){if(sh)return Ga;sh=1;function n(e,t){return function(r){return e(t(r))}}return Ga=n,Ga}var Ja,ah;function $A(){if(ah)return Ja;ah=1;var n=Pv(),e=n(Object.keys,Object);return Ja=e,Ja}var Za,lh;function VA(){if(lh)return Za;lh=1;var n=Nu(),e=$A(),t=Object.prototype,r=t.hasOwnProperty;function i(o){if(!n(o))return e(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return Za=i,Za}var Xa,ch;function Av(){if(ch)return Xa;ch=1;var n=xv(),e=Ov();function t(r){return r!=null&&e(r.length)&&!n(r)}return Xa=t,Xa}var Qa,uh;function Fu(){if(uh)return Qa;uh=1;var n=Iv(),e=VA(),t=Av();function r(i){return t(i)?n(i):e(i)}return Qa=r,Qa}var el,dh;function BA(){if(dh)return el;dh=1;var n=$i(),e=Fu();function t(r,i){return r&&n(i,e(i),r)}return el=t,el}var tl,ph;function zA(){if(ph)return tl;ph=1;function n(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}return tl=n,tl}var nl,fh;function qA(){if(fh)return nl;fh=1;var n=gr(),e=Nu(),t=zA(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!n(s))return t(s);var a=e(s),l=[];for(var c in s)c=="constructor"&&(a||!i.call(s,c))||l.push(c);return l}return nl=o,nl}var rl,hh;function ju(){if(hh)return rl;hh=1;var n=Iv(),e=qA(),t=Av();function r(i){return t(i)?n(i,!0):e(i)}return rl=r,rl}var il,mh;function HA(){if(mh)return il;mh=1;var n=$i(),e=ju();function t(r,i){return r&&n(i,e(i),r)}return il=t,il}var hi={exports:{}};hi.exports;var gh;function WA(){return gh||(gh=1,function(n,e){var t=ln(),r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===r,s=o?t.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,p=a?a(d):new c.constructor(d);return c.copy(p),p}n.exports=l}(hi,hi.exports)),hi.exports}var ol,yh;function UA(){if(yh)return ol;yh=1;function n(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}return ol=n,ol}var sl,vh;function KA(){if(vh)return sl;vh=1;function n(e,t){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var a=e[r];t(a,r,e)&&(s[o++]=a)}return s}return sl=n,sl}var al,bh;function Ev(){if(bh)return al;bh=1;function n(){return[]}return al=n,al}var ll,xh;function _u(){if(xh)return ll;xh=1;var n=KA(),e=Ev(),t=Object.prototype,r=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),n(i(s),function(a){return r.call(s,a)}))}:e;return ll=o,ll}var cl,kh;function YA(){if(kh)return cl;kh=1;var n=$i(),e=_u();function t(r,i){return n(r,e(r),i)}return cl=t,cl}var ul,Sh;function Lu(){if(Sh)return ul;Sh=1;function n(e,t){for(var r=-1,i=t.length,o=e.length;++r<i;)e[o+r]=t[r];return e}return ul=n,ul}var dl,wh;function $u(){if(wh)return dl;wh=1;var n=Pv(),e=n(Object.getPrototypeOf,Object);return dl=e,dl}var pl,Ch;function Rv(){if(Ch)return pl;Ch=1;var n=Lu(),e=$u(),t=_u(),r=Ev(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)n(a,t(s)),s=e(s);return a}:r;return pl=o,pl}var fl,Mh;function GA(){if(Mh)return fl;Mh=1;var n=$i(),e=Rv();function t(r,i){return n(r,e(r),i)}return fl=t,fl}var hl,Dh;function Nv(){if(Dh)return hl;Dh=1;var n=Lu(),e=Gr();function t(r,i,o){var s=i(r);return e(r)?s:n(s,o(r))}return hl=t,hl}var ml,Th;function JA(){if(Th)return ml;Th=1;var n=Nv(),e=_u(),t=Fu();function r(i){return n(i,t,e)}return ml=r,ml}var gl,Oh;function Fv(){if(Oh)return gl;Oh=1;var n=Nv(),e=Rv(),t=ju();function r(i){return n(i,t,e)}return gl=r,gl}var yl,Ih;function ZA(){if(Ih)return yl;Ih=1;var n=yr(),e=ln(),t=n(e,"DataView");return yl=t,yl}var vl,Ph;function XA(){if(Ph)return vl;Ph=1;var n=yr(),e=ln(),t=n(e,"Promise");return vl=t,vl}var bl,Ah;function QA(){if(Ah)return bl;Ah=1;var n=yr(),e=ln(),t=n(e,"Set");return bl=t,bl}var xl,Eh;function eE(){if(Eh)return xl;Eh=1;var n=yr(),e=ln(),t=n(e,"WeakMap");return xl=t,xl}var kl,Rh;function Vu(){if(Rh)return kl;Rh=1;var n=ZA(),e=Au(),t=XA(),r=QA(),i=eE(),o=Ai(),s=kv(),a="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",d="[object WeakMap]",p="[object DataView]",h=s(n),f=s(e),m=s(t),g=s(r),v=s(i),b=o;return(n&&b(new n(new ArrayBuffer(1)))!=p||e&&b(new e)!=a||t&&b(t.resolve())!=c||r&&b(new r)!=u||i&&b(new i)!=d)&&(b=function(S){var C=o(S),M=C==l?S.constructor:void 0,I=M?s(M):"";if(I)switch(I){case h:return p;case f:return a;case m:return c;case g:return u;case v:return d}return C}),kl=b,kl}var Sl,Nh;function tE(){if(Nh)return Sl;Nh=1;var n=Object.prototype,e=n.hasOwnProperty;function t(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Sl=t,Sl}var wl,Fh;function nE(){if(Fh)return wl;Fh=1;var n=ln(),e=n.Uint8Array;return wl=e,wl}var Cl,jh;function Bu(){if(jh)return Cl;jh=1;var n=nE();function e(t){var r=new t.constructor(t.byteLength);return new n(r).set(new n(t)),r}return Cl=e,Cl}var Ml,_h;function rE(){if(_h)return Ml;_h=1;var n=Bu();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}return Ml=e,Ml}var Dl,Lh;function iE(){if(Lh)return Dl;Lh=1;var n=/\w*$/;function e(t){var r=new t.constructor(t.source,n.exec(t));return r.lastIndex=t.lastIndex,r}return Dl=e,Dl}var Tl,$h;function oE(){if($h)return Tl;$h=1;var n=Om(),e=n?n.prototype:void 0,t=e?e.valueOf:void 0;function r(i){return t?Object(t.call(i)):{}}return Tl=r,Tl}var Ol,Vh;function sE(){if(Vh)return Ol;Vh=1;var n=Bu();function e(t,r){var i=r?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}return Ol=e,Ol}var Il,Bh;function aE(){if(Bh)return Il;Bh=1;var n=Bu(),e=rE(),t=iE(),r=oE(),i=sE(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",c="[object RegExp]",u="[object Set]",d="[object String]",p="[object Symbol]",h="[object ArrayBuffer]",f="[object DataView]",m="[object Float32Array]",g="[object Float64Array]",v="[object Int8Array]",b="[object Int16Array]",S="[object Int32Array]",C="[object Uint8Array]",M="[object Uint8ClampedArray]",I="[object Uint16Array]",A="[object Uint32Array]";function T(E,F,D){var R=E.constructor;switch(F){case h:return n(E);case o:case s:return new R(+E);case f:return e(E,D);case m:case g:case v:case b:case S:case C:case M:case I:case A:return i(E,D);case a:return new R;case l:case d:return new R(E);case c:return t(E);case u:return new R;case p:return r(E)}}return Il=T,Il}var Pl,zh;function lE(){if(zh)return Pl;zh=1;var n=gr(),e=Object.create,t=function(){function r(){}return function(i){if(!n(i))return{};if(e)return e(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return Pl=t,Pl}var Al,qh;function cE(){if(qh)return Al;qh=1;var n=lE(),e=$u(),t=Nu();function r(i){return typeof i.constructor=="function"&&!t(i)?n(e(i)):{}}return Al=r,Al}var El,Hh;function uE(){if(Hh)return El;Hh=1;var n=Vu(),e=Yr(),t="[object Map]";function r(i){return e(i)&&n(i)==t}return El=r,El}var Rl,Wh;function dE(){if(Wh)return Rl;Wh=1;var n=uE(),e=Eu(),t=Ru(),r=t&&t.isMap,i=r?e(r):n;return Rl=i,Rl}var Nl,Uh;function pE(){if(Uh)return Nl;Uh=1;var n=Vu(),e=Yr(),t="[object Set]";function r(i){return e(i)&&n(i)==t}return Nl=r,Nl}var Fl,Kh;function fE(){if(Kh)return Fl;Kh=1;var n=pE(),e=Eu(),t=Ru(),r=t&&t.isSet,i=r?e(r):n;return Fl=i,Fl}var jl,Yh;function hE(){if(Yh)return jl;Yh=1;var n=AA(),e=EA(),t=Mv(),r=BA(),i=HA(),o=WA(),s=UA(),a=YA(),l=GA(),c=JA(),u=Fv(),d=Vu(),p=tE(),h=aE(),f=cE(),m=Gr(),g=Tv(),v=dE(),b=gr(),S=fE(),C=Fu(),M=ju(),I=1,A=2,T=4,E="[object Arguments]",F="[object Array]",D="[object Boolean]",R="[object Date]",_="[object Error]",P="[object Function]",k="[object GeneratorFunction]",w="[object Map]",j="[object Number]",L="[object Object]",W="[object RegExp]",J="[object Set]",X="[object String]",ce="[object Symbol]",me="[object WeakMap]",Y="[object ArrayBuffer]",B="[object DataView]",ne="[object Float32Array]",Q="[object Float64Array]",q="[object Int8Array]",te="[object Int16Array]",se="[object Int32Array]",oe="[object Uint8Array]",ee="[object Uint8ClampedArray]",$="[object Uint16Array]",re="[object Uint32Array]",K={};K[E]=K[F]=K[Y]=K[B]=K[D]=K[R]=K[ne]=K[Q]=K[q]=K[te]=K[se]=K[w]=K[j]=K[L]=K[W]=K[J]=K[X]=K[ce]=K[oe]=K[ee]=K[$]=K[re]=!0,K[_]=K[P]=K[me]=!1;function V(Z,U,de,ke,ze,Ve){var Ae,ie=U&I,he=U&A,Ee=U&T;if(de&&(Ae=ze?de(Z,ke,ze,Ve):de(Z)),Ae!==void 0)return Ae;if(!b(Z))return Z;var Pe=m(Z);if(Pe){if(Ae=p(Z),!ie)return s(Z,Ae)}else{var Me=d(Z),De=Me==P||Me==k;if(g(Z))return o(Z,ie);if(Me==L||Me==E||De&&!ze){if(Ae=he||De?{}:f(Z),!ie)return he?l(Z,i(Ae,Z)):a(Z,r(Ae,Z))}else{if(!K[Me])return ze?Z:{};Ae=h(Z,Me,ie)}}Ve||(Ve=new n);var qe=Ve.get(Z);if(qe)return qe;Ve.set(Z,Ae),S(Z)?Z.forEach(function(Ge){Ae.add(V(Ge,U,de,Ge,Z,Ve))}):v(Z)&&Z.forEach(function(Ge,je){Ae.set(je,V(Ge,U,de,je,Z,Ve))});var Pt=Ee?he?u:c:he?M:C,vt=Pe?void 0:Pt(Z);return e(vt||Z,function(Ge,je){vt&&(je=Ge,Ge=Z[je]),t(Ae,je,V(Ge,U,de,je,Z,Ve))}),Ae}return jl=V,jl}var _l,Gh;function mE(){if(Gh)return _l;Gh=1;var n=Gr(),e=Wc(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(n(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||e(o)?!0:r.test(o)||!t.test(o)||s!=null&&o in Object(s)}return _l=i,_l}var Ll,Jh;function gE(){if(Jh)return Ll;Jh=1;var n=Sv(),e="Expected a function";function t(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var c=r.apply(this,s);return o.cache=l.set(a,c)||l,c};return o.cache=new(t.Cache||n),o}return t.Cache=n,Ll=t,Ll}var $l,Zh;function yE(){if(Zh)return $l;Zh=1;var n=gE(),e=500;function t(r){var i=n(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return $l=t,$l}var Vl,Xh;function vE(){if(Xh)return Vl;Xh=1;var n=yE(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=n(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,a,l,c){o.push(l?c.replace(t,"$1"):a||s)}),o});return Vl=r,Vl}var Bl,Qh;function zu(){if(Qh)return Bl;Qh=1;var n=Gr(),e=mE(),t=vE(),r=mb();function i(o,s){return n(o)?o:e(o,s)?[o]:t(r(o))}return Bl=i,Bl}var zl,em;function bE(){if(em)return zl;em=1;function n(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return zl=n,zl}var ql,tm;function jv(){if(tm)return ql;tm=1;var n=Wc(),e=1/0;function t(r){if(typeof r=="string"||n(r))return r;var i=r+"";return i=="0"&&1/r==-e?"-0":i}return ql=t,ql}var Hl,nm;function xE(){if(nm)return Hl;nm=1;var n=zu(),e=jv();function t(r,i){i=n(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return Hl=t,Hl}var Wl,rm;function kE(){if(rm)return Wl;rm=1;function n(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+t];return s}return Wl=n,Wl}var Ul,im;function SE(){if(im)return Ul;im=1;var n=xE(),e=kE();function t(r,i){return i.length<2?r:n(r,e(i,0,-1))}return Ul=t,Ul}var Kl,om;function wE(){if(om)return Kl;om=1;var n=zu(),e=bE(),t=SE(),r=jv();function i(o,s){return s=n(s,o),o=t(o,s),o==null||delete o[r(e(s))]}return Kl=i,Kl}var Yl,sm;function CE(){if(sm)return Yl;sm=1;var n=Ai(),e=$u(),t=Yr(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function c(u){if(!t(u)||n(u)!=r)return!1;var d=e(u);if(d===null)return!0;var p=a.call(d,"constructor")&&d.constructor;return typeof p=="function"&&p instanceof p&&s.call(p)==l}return Yl=c,Yl}var Gl,am;function ME(){if(am)return Gl;am=1;var n=CE();function e(t){return n(t)?void 0:t}return Gl=e,Gl}var Jl,lm;function DE(){if(lm)return Jl;lm=1;var n=Om(),e=Dv(),t=Gr(),r=n?n.isConcatSpreadable:void 0;function i(o){return t(o)||e(o)||!!(r&&o&&o[r])}return Jl=i,Jl}var Zl,cm;function TE(){if(cm)return Zl;cm=1;var n=Lu(),e=DE();function t(r,i,o,s,a){var l=-1,c=r.length;for(o||(o=e),a||(a=[]);++l<c;){var u=r[l];i>0&&o(u)?i>1?t(u,i-1,o,s,a):n(a,u):s||(a[a.length]=u)}return a}return Zl=t,Zl}var Xl,um;function OE(){if(um)return Xl;um=1;var n=TE();function e(t){var r=t==null?0:t.length;return r?n(t,1):[]}return Xl=e,Xl}var Ql,dm;function IE(){if(dm)return Ql;dm=1;function n(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}return Ql=n,Ql}var ec,pm;function PE(){if(pm)return ec;pm=1;var n=IE(),e=Math.max;function t(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,a=-1,l=e(s.length-i,0),c=Array(l);++a<l;)c[a]=s[i+a];a=-1;for(var u=Array(i+1);++a<i;)u[a]=s[a];return u[i]=o(c),n(r,this,u)}}return ec=t,ec}var tc,fm;function AE(){if(fm)return tc;fm=1;function n(e){return function(){return e}}return tc=n,tc}var nc,hm;function EE(){if(hm)return nc;hm=1;function n(e){return e}return nc=n,nc}var rc,mm;function RE(){if(mm)return rc;mm=1;var n=AE(),e=wv(),t=EE(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:n(o),writable:!0})}:t;return rc=r,rc}var ic,gm;function NE(){if(gm)return ic;gm=1;var n=800,e=16,t=Date.now;function r(i){var o=0,s=0;return function(){var a=t(),l=e-(a-s);if(s=a,l>0){if(++o>=n)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return ic=r,ic}var oc,ym;function FE(){if(ym)return oc;ym=1;var n=RE(),e=NE(),t=e(n);return oc=t,oc}var sc,vm;function jE(){if(vm)return sc;vm=1;var n=OE(),e=PE(),t=FE();function r(i){return t(e(i,void 0,n),i+"")}return sc=r,sc}var ac,bm;function _E(){if(bm)return ac;bm=1;var n=gb(),e=hE(),t=wE(),r=zu(),i=$i(),o=ME(),s=jE(),a=Fv(),l=1,c=2,u=4,d=s(function(p,h){var f={};if(p==null)return f;var m=!1;h=n(h,function(v){return v=r(v,p),m||(m=v.length>1),v}),i(p,a(p),f),m&&(f=e(f,l|c|u,o));for(var g=h.length;g--;)t(f,h[g]);return f});return ac=d,ac}var LE=_E();const Mr=yn(LE),Bo={TABLE_ELEMENT:1,MENU_BAR:2,NOTCHED_OUTLINE:2};function _v(n){const e=Object.keys(n.typography.h1).some(r=>r.includes("@media")),t=tb`
    0%, 95% {
      opacity: 1;
    }
    100% {
      opacity: 0;
    }
  `;return{...Mr(n.typography.body1,["lineHeight"]),"&:focus":{outline:"none"},"& h1":{fontFamily:n.typography.h3.fontFamily,fontWeight:"bold",...e?{fontSize:`${(1.5625*1.2).toFixed(4)}rem`,[n.breakpoints.up("sm")]:{fontSize:`${(1.8219*1.2).toFixed(4)}rem`},[n.breakpoints.up("md")]:{fontSize:`${(2.0243*1.2).toFixed(4)}rem`},[n.breakpoints.up("lg")]:{fontSize:`${(2.0243*1.2).toFixed(4)}rem`}}:{fontSize:`${(2.0243*1.2).toFixed(4)}rem`}},"& h2":{...Mr(n.typography.h4,["lineHeight"]),fontWeight:500},"& h3":{...Mr(n.typography.h5,["lineHeight"]),fontWeight:500},"& h4":{...Mr(n.typography.h6,["lineHeight"]),fontWeight:500},"& h5":{...Mr(n.typography.subtitle1,["lineHeight"]),fontWeight:500},"& h6":{...Mr(n.typography.subtitle2,["lineHeight"]),fontWeight:500},"& h1, & h2, & h3, & h4, & h5, & h6, & p":{marginBlockStart:0,marginBlockEnd:0},'& a:not([data-type="mention"])':{color:n.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}},"& ul, & ol":{marginBlockStart:0,marginBlockEnd:0},"& ol":{listStyleType:"decimal","& ol":{listStyleType:"lower-alpha","& ol":{listStyleType:"lower-roman","& ol":{listStyleType:"decimal","& ol":{listStyleType:"lower-alpha","& ol":{listStyleType:"lower-roman"}}}}}},"& ul":{listStyleType:"disc","& ul":{listStyleType:"circle","& ul":{listStyleType:"square","& ul":{listStyleType:"disc","& ul":{listStyleType:"circle","& ul":{listStyleType:"square"}}}}}},'& ul[data-type="taskList"]':{listStyle:"none",padding:0,"& li":{display:"flex","& > label":{flex:"0 0 auto",marginRight:"0.5rem",userSelect:"none"},"& > div":{flex:"1 1 auto"}}},"& blockquote":{paddingLeft:"1rem",marginInlineStart:n.spacing(1),marginInlineEnd:n.spacing(1),position:"relative","&:before":{position:"absolute",top:0,bottom:0,left:0,display:"block",width:4,borderRadius:n.shape.borderRadius,background:n.palette.text.disabled,content:'""'}},"& :not(pre) > code":{padding:"2px 3px 1px",borderWidth:1,borderStyle:"solid",borderColor:n.palette.divider,borderRadius:3,backgroundColor:n.palette.action.hover,color:n.palette.mode==="dark"?n.palette.secondary.main:Wu(n.palette.secondary.dark,.1)},"& pre":{marginTop:n.spacing(.5),marginBottom:n.spacing(.5),padding:n.spacing(1),borderWidth:1,borderStyle:"solid",borderColor:n.palette.divider,borderRadius:n.shape.borderRadius,background:n.palette.action.hover,lineHeight:1.4,overflowX:"auto",whiteSpace:"pre !important"},'& [data-type="mention"]':{padding:"0 0.25rem",lineHeight:"1.3em",borderRadius:n.shape.borderRadius,color:n.palette.primary.main,background:n.palette.mode==="dark"?Qe(Wu(n.palette.primary.dark,.7),.5):Qe(nb(n.palette.primary.light,.6),.3),textDecoration:"none"},"& img:not(.ProseMirror-separator)":{maxWidth:"100%",height:"auto",display:"inline-flex",...$E(n),"&.ProseMirror-selectednode":{outline:`3px solid ${n.palette.primary.main}`}},"& hr":{borderWidth:0,borderTopWidth:"thin",borderStyle:"solid",borderColor:n.palette.text.secondary,"&.ProseMirror-selectednode":{borderColor:n.palette.primary.main}},"& table":{borderCollapse:"collapse",tableLayout:"fixed",margin:0,overflowY:"hidden",overflowX:"auto",display:"block","& td, th":{minWidth:"1em",borderWidth:1,borderStyle:"solid",borderColor:n.palette.mode==="dark"?n.palette.grey[500]:n.palette.grey[400],padding:"3px 5px",verticalAlign:"top",boxSizing:"border-box",position:"relative","& > *":{marginBottom:0}},"& th":{fontWeight:500,textAlign:"left",backgroundColor:n.palette.action.selected}},"& .tableWrapper":{overflowX:"auto","& table":{overflow:"hidden",display:"table"}},"& .selectedCell:after":{zIndex:Bo.TABLE_ELEMENT,position:"absolute",content:'""',left:0,right:0,top:0,bottom:0,background:"rgba(200, 200, 255, 0.4)",pointerEvents:"none"},'&[contenteditable="true"]':{"& .column-resize-handle":{position:"absolute",right:-2,top:-1,bottom:-2,width:4,zIndex:Bo.TABLE_ELEMENT,backgroundColor:n.palette.primary.light,pointerEvents:"none"},"&.resize-cursor":{cursor:"col-resize"}},'&[contenteditable="false"]':{"& .column-resize-handle":{display:"none"},"&.resize-cursor":{pointerEvents:"none"}},"& p.is-editor-empty:first-of-type::before":{color:n.palette.text.disabled,content:"attr(data-placeholder)",float:"left",height:0,pointerEvents:"none"},"& .ProseMirror-gapcursor:after":{borderColor:n.palette.text.primary},"& .collaboration-cursor__caret":{borderLeft:"1px solid #0d0d0d",borderRight:"1px solid #0d0d0d",marginLeft:"-1px",marginRight:"-1px",position:"relative",wordBreak:"normal",cursor:"text","&:after":{position:"absolute",content:'""',left:-3,right:0,top:-2,borderWidth:3,borderStyle:"solid",borderColor:"inherit"},"&:hover .collaboration-cursor__label":{opacity:1,transition:n.transitions.create("opacity",{delay:0,duration:100,easing:"linear"})}},"& .collaboration-cursor__label":{borderRadius:"3px 3px 3px 0",color:"#0d0d0d",fontSize:12,fontStyle:"normal",fontWeight:600,fontFamily:n.typography.body1.fontFamily,left:-1,lineHeight:"normal",padding:"0.1rem 0.3rem",position:"absolute",top:"-1.4em",userSelect:"none",whiteSpace:"nowrap",pointerEvents:"none",opacity:0,transition:n.transitions.create("opacity",{delay:500,duration:100,easing:"linear"}),animation:`${t} 3s linear 1`}}}function $E(n){if(n.palette.mode!=="dark")return{};const e=n.palette.grey[200];return{backgroundColor:e,color:n.palette.getContrastText(e)}}const VE="MuiTiptap-";function BE(n,e){return`${VE}${n}-${e}`}function fs(n,e){const t={};return e.forEach(r=>{t[r]=BE(n,r)}),t}const Lv=x.createContext(void 0);function It(){const n=x.useContext(Lv);if(n===void 0)throw new Error("Tiptap editor not found in component context. Be sure to use <RichTextEditorProvider editor={editor} />!");return n}var lc,xm;function zE(){if(xm)return lc;xm=1;var n=/\s/;function e(t){for(var r=t.length;r--&&n.test(t.charAt(r)););return r}return lc=e,lc}var cc,km;function qE(){if(km)return cc;km=1;var n=zE(),e=/^\s+/;function t(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return cc=t,cc}var uc,Sm;function HE(){if(Sm)return uc;Sm=1;var n=qE(),e=gr(),t=Wc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(t(c))return r;if(e(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=e(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=n(c);var d=o.test(c);return d||s.test(c)?a(c.slice(2),d?2:8):i.test(c)?r:+c}return uc=l,uc}const dc=fs("MenuBar",["root","sticky","nonSticky","content"]),WE=un({name:{MenuBar:$v}})((n,{stickyOffset:e})=>({root:{borderBottomColor:n.palette.divider,borderBottomStyle:"solid",borderBottomWidth:1},sticky:{position:"sticky",top:e??0,zIndex:Bo.MENU_BAR,background:n.palette.background.default},nonSticky:{},content:{}}));function $v({hide:n,disableSticky:e,stickyOffset:t,children:r,className:i,classes:o}){const{classes:s,cx:a}=WE({stickyOffset:t},{props:{classes:o}});return y.jsx(bb,{in:!n,unmountOnExit:!0,className:a(dc.root,s.root,e?[dc.nonSticky,s.nonSticky]:[dc.sticky,s.sticky],i),children:y.jsx("div",{className:s.content,children:r})})}const UE=un({name:{MenuDivider:Pr}})(n=>({root:{height:18,margin:n.spacing(0,.5)}}));function Pr(n){const{classes:e,cx:t}=UE();return y.jsx(Mb,{orientation:"vertical",...n,className:t(e.root,n.className)})}const pc=fs("RichTextContent",["root","readonly","editable"]),KE=un({name:{RichTextContent:Vv}})(n=>({root:{"& .ProseMirror":{..._v(n)}},readonly:{},editable:{}}));function Vv({className:n,classes:e={}}){const{classes:t,cx:r}=KE(void 0,{props:{classes:e}}),i=It(),o=x.useMemo(()=>r(pc.root,n,t.root,i!=null&&i.isEditable?[pc.editable,t.editable]:[pc.readonly,t.readonly]),[n,t,r,i==null?void 0:i.isEditable]);return y.jsx(Kt,{className:o,component:AI,editor:i})}function YE({editor:n,children:e}){return y.jsx(Lv.Provider,{value:n,children:e})}const Dr=fs("FieldContainer",["root","outlined","standard","focused","disabled","notchedOutline"]),GE=un({name:{FieldContainer:Bv},uniqId:"Os7ZPW"})((n,e,t)=>({root:{},outlined:{borderRadius:n.shape.borderRadius,padding:1,position:"relative",[`&:hover .${t.notchedOutline}`]:{borderColor:n.palette.text.primary},[`&.${t.focused} .${t.notchedOutline}`]:{borderColor:n.palette.primary.main,borderWidth:2},[`&.${t.disabled} .${t.notchedOutline}`]:{borderColor:n.palette.action.disabled}},standard:{},focused:{},disabled:{},notchedOutline:{position:"absolute",inset:0,borderRadius:"inherit",borderColor:n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)",borderStyle:"solid",borderWidth:1,pointerEvents:"none",overflow:"hidden",zIndex:Bo.NOTCHED_OUTLINE}}));function Bv({variant:n="outlined",children:e,focused:t,disabled:r,classes:i={},className:o}){const{classes:s,cx:a}=GE(void 0,{props:{classes:i}});return y.jsxs("div",{className:a(Dr.root,s.root,n==="outlined"?[Dr.outlined,s.outlined]:[Dr.standard,s.standard],t&&[Dr.focused,s.focused],r&&[Dr.disabled,s.disabled],o),children:[e,n==="outlined"&&y.jsx("div",{className:a(Dr.notchedOutline,s.notchedOutline),"aria-hidden":!0})]})}var fc,wm;function JE(){if(wm)return fc;wm=1;var n=ln(),e=function(){return n.Date.now()};return fc=e,fc}var hc,Cm;function ZE(){if(Cm)return hc;Cm=1;var n=gr(),e=JE(),t=HE(),r="Expected a function",i=Math.max,o=Math.min;function s(a,l,c){var u,d,p,h,f,m,g=0,v=!1,b=!1,S=!0;if(typeof a!="function")throw new TypeError(r);l=t(l)||0,n(c)&&(v=!!c.leading,b="maxWait"in c,p=b?i(t(c.maxWait)||0,l):p,S="trailing"in c?!!c.trailing:S);function C(_){var P=u,k=d;return u=d=void 0,g=_,h=a.apply(k,P),h}function M(_){return g=_,f=setTimeout(T,l),v?C(_):h}function I(_){var P=_-m,k=_-g,w=l-P;return b?o(w,p-k):w}function A(_){var P=_-m,k=_-g;return m===void 0||P>=l||P<0||b&&k>=p}function T(){var _=e();if(A(_))return E(_);f=setTimeout(T,I(_))}function E(_){return f=void 0,S&&u?C(_):(u=d=void 0,h)}function F(){f!==void 0&&clearTimeout(f),g=0,u=m=d=f=void 0}function D(){return f===void 0?h:E(e())}function R(){var _=e(),P=A(_);if(u=arguments,d=this,m=_,P){if(f===void 0)return M(m);if(b)return clearTimeout(f),f=setTimeout(T,l),C(m)}return f===void 0&&(f=setTimeout(T,l)),h}return R.cancel=F,R.flush=D,R}return hc=s,hc}var XE=ZE();const zv=yn(XE);function QE({editor:n,wait:e=250}){const[t,r]=x.useState(!!(n!=null&&n.isFocused)),i=x.useMemo(()=>zv(o=>{r(o)},e),[e]);return x.useEffect(()=>{const o=!!(n!=null&&n.isFocused);return i(o),o&&i.flush(),()=>{i.cancel()}},[n==null?void 0:n.isFocused,i]),t}class qv extends x.Component{constructor(e){var t,r;super(e),this.updateDebounced=zv(this.forceUpdate,(t=e.wait)!==null&&t!==void 0?t:170,(r=e.options)!==null&&r!==void 0?r:{leading:!0,trailing:!0,maxWait:300})}shouldComponentUpdate(){return this.updateDebounced(),!1}componentWillUnmount(){this.updateDebounced.cancel()}render(){return this.props.children}}const Tr=fs("RichTextField",["root","standard","outlined","menuBar","menuBarContent","content"]),eR=un({name:{RichTextField:Hv},uniqId:"E2Alw3"})((n,e,t)=>({root:{},standard:{[`& .${t.content}`]:{padding:n.spacing(1.5,0)},[`& .${t.menuBarContent}`]:{padding:n.spacing(1,0)}},outlined:{[`& .${t.content}`]:{padding:n.spacing(1.5)},[`& .${t.menuBarContent}`]:{padding:n.spacing(1,1.5)}},menuBar:{},menuBarContent:{},content:{}}));function Hv({variant:n="outlined",controls:e,disableDebounceRenderControls:t=!1,disabled:r,className:i,classes:o={},footer:s,MenuBarProps:a,RichTextContentProps:l}){var c,u;const{classes:d,cx:p}=eR(void 0,{props:{classes:o}}),h=It(),f=QE({editor:h});return y.jsxs(Bv,{variant:n,focused:!r&&f,disabled:r,className:p(Tr.root,d.root,n==="outlined"?[Tr.outlined,d.outlined]:[Tr.standard,d.standard],i),children:[e&&y.jsx($v,{...a,classes:{...a==null?void 0:a.classes,root:p(Tr.menuBar,d.menuBar,(c=a==null?void 0:a.classes)===null||c===void 0?void 0:c.root),content:p(Tr.content,d.menuBarContent,(u=a==null?void 0:a.classes)===null||u===void 0?void 0:u.content)},children:t?e:y.jsx(qv,{children:e})}),y.jsx(Vv,{...l,className:p(Tr.content,d.content,l==null?void 0:l.className)}),s]})}let mc;function tR(){return mc===void 0&&(mc=navigator.platform.includes("Mac")),mc}function nR(){return tR()?"âŒ˜":"Ctrl"}const rR=un({name:{MenuButtonTooltip:tn}})(n=>({titleContainer:{textAlign:"center"},label:{fontSize:n.typography.pxToRem(13)},shortcutKey:{fontSize:n.typography.pxToRem(12),border:`1px solid ${Qe(n.palette.text.secondary,.2)}`,backgroundColor:Qe(n.palette.background.paper,.3),height:"19px",lineHeight:"19px",padding:"0 4px",minWidth:17,borderRadius:n.shape.borderRadius,display:"inline-block","&:not(:first-of-type)":{marginLeft:1}}}));function tn({label:n,shortcutKeys:e,placement:t="top",contentWrapperClassName:r,children:i,...o}){const{classes:s}=rR();return y.jsx(Em,{title:n||e&&e.length>0?y.jsxs("div",{className:s.titleContainer,children:[y.jsx("div",{className:s.label,children:n}),e&&e.length>0&&y.jsx(mt,{variant:"body2",component:"div",children:e.map((a,l)=>y.jsx("span",{className:s.shortcutKey,children:a==="mod"?nR():a},l))})]}):"",placement:t,arrow:!0,...o,children:y.jsx("span",{className:r,children:i})})}const iR="1.25rem",oR=un({name:{MenuButton:zt}})({root:{[`&& .${so.root}`]:{border:"none",padding:5}},menuButtonIcon:{fontSize:iR}});function zt({tooltipLabel:n,tooltipShortcutKeys:e,IconComponent:t,buttonRef:r,children:i,...o}){const{classes:s}=oR();return y.jsx("span",{className:s.root,children:y.jsx(tn,{label:n,shortcutKeys:e,children:y.jsx(dx,{ref:r,size:"small",value:n,...o,children:i??(t&&y.jsx(t,{className:s.menuButtonIcon}))})})})}const sR=un({name:{MenuControlsContainer:Wv}})(n=>({root:{display:"flex",rowGap:n.spacing(.3),columnGap:n.spacing(.3),alignItems:"center",flexWrap:"wrap"}}));function Wv({children:n,className:e,debounced:t,DebounceProps:r}){const{classes:i,cx:o}=sR(),s=y.jsx("div",{className:o(i.root,e),children:n});return t?y.jsx(qv,{...r,children:s}):s}function aR(n){var e;const t=It();return y.jsx(zt,{tooltipLabel:"Blockquote",tooltipShortcutKeys:["mod","Shift","B"],IconComponent:vx,selected:(e=t==null?void 0:t.isActive("blockquote"))!==null&&e!==void 0?e:!1,disabled:!(t!=null&&t.isEditable)||!t.can().toggleBlockquote(),onClick:()=>t==null?void 0:t.chain().focus().toggleBlockquote().run(),...n})}function lR(n){var e;const t=It();return y.jsx(zt,{tooltipLabel:"Bold",tooltipShortcutKeys:["mod","B"],IconComponent:fx,selected:(e=t==null?void 0:t.isActive("bold"))!==null&&e!==void 0?e:!1,disabled:!(t!=null&&t.isEditable)||!t.can().toggleBold(),onClick:()=>t==null?void 0:t.chain().focus().toggleBold().run(),...n})}function cR(n){var e;const t=It();return y.jsx(zt,{tooltipLabel:"Bulleted list",tooltipShortcutKeys:["mod","Shift","8"],IconComponent:gx,selected:(e=t==null?void 0:t.isActive("bulletList"))!==null&&e!==void 0?e:!1,disabled:!(t!=null&&t.isEditable)||!t.can().toggleBulletList(),onClick:()=>t==null?void 0:t.chain().focus().toggleBulletList().run(),...n})}function uR(n){var e;const t=It();return y.jsx(zt,{tooltipLabel:"Code",tooltipShortcutKeys:["mod","E"],IconComponent:px,selected:(e=t==null?void 0:t.isActive("code"))!==null&&e!==void 0?e:!1,disabled:!(t!=null&&t.isEditable)||!t.can().toggleCode(),onClick:()=>t==null?void 0:t.chain().focus().toggleCode().run(),...n})}function dR(n){const e=It();return y.jsx(zt,{tooltipLabel:"Insert horizontal line",IconComponent:bx,disabled:!(e!=null&&e.isEditable)||!e.can().setHorizontalRule(),onClick:()=>e==null?void 0:e.chain().focus().setHorizontalRule().run(),...n})}function pR(n,e){const t=xn(e,n.schema),{from:r,to:i,empty:o}=n.selection,s=[];return o?(n.storedMarks&&s.push(...n.storedMarks),s.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,a=>{s.push(...a.marks)}),s.filter(a=>a.type.name===t.name).map(a=>({...a.attrs}))}function fR(n,e){const t=it(e,n.schema),{from:r,to:i}=n.selection,o=[];return n.doc.nodesBetween(r,i,s=>{o.push(s)}),o.reverse().filter(s=>s.type.name===t.name).map(s=>({...s.attrs}))}function hR(n,e){const t=Li(e,n.schema);return t==="node"?fR(n,e):t==="mark"?pR(n,e):[]}function mR(n){var e;const t=It();return y.jsx(zt,{tooltipLabel:"Italic",tooltipShortcutKeys:["mod","I"],IconComponent:mx,selected:(e=t==null?void 0:t.isActive("italic"))!==null&&e!==void 0?e:!1,disabled:!(t!=null&&t.isEditable)||!t.can().toggleItalic(),onClick:()=>t==null?void 0:t.chain().focus().toggleItalic().run(),...n})}function gR(n){var e;const t=It();return y.jsx(zt,{tooltipLabel:"Ordered list",tooltipShortcutKeys:["mod","Shift","7"],IconComponent:yx,selected:(e=t==null?void 0:t.isActive("orderedList"))!==null&&e!==void 0?e:!1,disabled:!(t!=null&&t.isEditable)||!t.can().toggleOrderedList(),onClick:()=>t==null?void 0:t.chain().focus().toggleOrderedList().run(),...n})}function yR(n){const e=It();return y.jsx(zt,{tooltipLabel:"Redo",tooltipShortcutKeys:["mod","Shift","Z"],IconComponent:xx,disabled:!(e!=null&&e.isEditable)||!e.can().redo(),onClick:()=>e==null?void 0:e.chain().focus().redo().run(),...n})}function vR(n){const e=It();return y.jsx(zt,{tooltipLabel:"Remove inline formatting",IconComponent:hx,disabled:!(e!=null&&e.isEditable)||!e.can().unsetAllMarks(),onClick:()=>e==null?void 0:e.chain().focus().unsetAllMarks().run(),...n})}function bR(n){var e;const t=It();return y.jsx(zt,{tooltipLabel:"Strikethrough",tooltipShortcutKeys:["mod","Shift","X"],IconComponent:kx,selected:(e=t==null?void 0:t.isActive("strike"))!==null&&e!==void 0?e:!1,disabled:!(t!=null&&t.isEditable)||!t.can().toggleStrike(),onClick:()=>t==null?void 0:t.chain().focus().toggleStrike().run(),...n})}function xR(n){const e=It();return y.jsx(zt,{tooltipLabel:"Undo",tooltipShortcutKeys:["mod","Z"],IconComponent:Sx,disabled:!(e!=null&&e.isEditable)||!e.can().undo(),onClick:()=>e==null?void 0:e.chain().focus().undo().run(),...n})}const kR=un({name:{MenuSelect:Uv}})(n=>({rootTooltipWrapper:{display:"inline-flex"},selectRoot:{[`&:not(:hover):not(.${bo.focused}) .${bo.notchedOutline}`]:{borderWidth:0},[`& .${Ku.root}`]:{color:n.palette.action.active},[`&.${fb.disabled} .${Ku.root}`]:{color:n.palette.action.disabled}},select:{"&&&":{paddingLeft:n.spacing(1),paddingRight:n.spacing(3)}},selectDropdownIcon:{right:1},input:{paddingTop:"3px",paddingBottom:"3px",fontSize:"0.9em"}}));function Uv({tooltipTitle:n,...e}){var t,r,i;const{classes:o,cx:s}=kR(),[a,l]=x.useState(!1),c=y.jsx(pb,{margin:"none",variant:"outlined",size:"small",...e,onMouseEnter:(...u)=>{var d;l(!0),(d=e.onMouseEnter)===null||d===void 0||d.call(e,...u)},onMouseLeave:(...u)=>{var d;l(!1),(d=e.onMouseLeave)===null||d===void 0||d.call(e,...u)},onClick:(...u)=>{var d;l(!1),(d=e.onClick)===null||d===void 0||d.call(e,...u)},inputProps:{...e.inputProps,className:s(o.input,(t=e.inputProps)===null||t===void 0?void 0:t.className)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},...e.MenuProps},className:s(o.selectRoot,e.className),classes:{...e.classes,select:s(o.select,(r=e.classes)===null||r===void 0?void 0:r.select),icon:s(o.selectDropdownIcon,(i=e.classes)===null||i===void 0?void 0:i.icon)}});return n?y.jsx(tn,{label:n,contentWrapperClassName:o.rootTooltipWrapper,open:a,children:c}):c}const SR=un({name:{MenuSelectHeading:Kv}})(n=>{const e=_v(n);return{selectInput:{width:77},menuOption:{display:"block",width:"100%"},headingOption:{marginBlockStart:0,marginBlockEnd:0,fontWeight:"bold"},headingOption1:{fontSize:e["& h1"].fontSize},headingOption2:{fontSize:e["& h2"].fontSize},headingOption3:{fontSize:e["& h3"].fontSize},headingOption4:{fontSize:e["& h4"].fontSize},headingOption5:{fontSize:e["& h5"].fontSize},headingOption6:{fontSize:e["& h6"].fontSize}}}),Oe={Paragraph:"Paragraph",Heading1:"Heading 1",Heading2:"Heading 2",Heading3:"Heading 3",Heading4:"Heading 4",Heading5:"Heading 5",Heading6:"Heading 6"},Mm={[Oe.Heading1]:1,[Oe.Heading2]:2,[Oe.Heading3]:3,[Oe.Heading4]:4,[Oe.Heading5]:5,[Oe.Heading6]:6},Dm={1:Oe.Heading1,2:Oe.Heading2,3:Oe.Heading3,4:Oe.Heading4,5:Oe.Heading5,6:Oe.Heading6};function Kv({labels:n,hideShortcuts:e=!1,...t}){var r,i,o,s,a,l,c,u;const{classes:d,cx:p}=SR(),h=It(),f=x.useCallback(A=>{const T=A.target.value;T===Oe.Paragraph?h==null||h.chain().setParagraph().focus().run():T in Mm&&(h==null||h.chain().setHeading({level:Mm[T]}).focus().run())},[h]);let m="",g;if(h!=null&&h.isActive("paragraph"))m=Oe.Paragraph;else if(h!=null&&h.isActive("heading")){const T=hR(h.state,"heading").map(F=>F.level);g=new Set(T).size===1?T[0]:void 0,g&&g in Dm&&(m=Dm[g])}const v=m!=="",b=!!(h!=null&&h.can().setParagraph()),S=x.useMemo(()=>{var A;const T=h==null?void 0:h.extensionManager.extensions.find(E=>E.name=="heading");return new Set((A=T==null?void 0:T.options.levels)!==null&&A!==void 0?A:[])},[h]),C=S.values().next(),M=C.done?void 0:C.value,I=M!==void 0&&(g===M||!!(h!=null&&h.can().setHeading({level:M})));return y.jsxs(Uv,{onChange:f,disabled:!(h!=null&&h.isEditable)||!v&&!b&&!I,displayEmpty:!0,renderValue:A=>{var T,E;let F;return A===""?F=(E=(T=n==null?void 0:n.emptyValue)!==null&&T!==void 0?T:n==null?void 0:n.empty)!==null&&E!==void 0?E:y.jsx("em",{children:"Change toâ€¦"}):A===Oe.Paragraph?F=n==null?void 0:n.paragraph:A===Oe.Heading1?F=n==null?void 0:n.heading1:A===Oe.Heading2?F=n==null?void 0:n.heading2:A===Oe.Heading3?F=n==null?void 0:n.heading3:A===Oe.Heading4?F=n==null?void 0:n.heading4:A===Oe.Heading5?F=n==null?void 0:n.heading5:A===Oe.Heading6&&(F=n==null?void 0:n.heading6),F??A},"aria-label":"Text headings",tooltipTitle:"Styles",...t,value:m,inputProps:{...t.inputProps,className:p(d.selectInput,(r=t.inputProps)===null||r===void 0?void 0:r.className)},children:[y.jsx(jt,{value:Oe.Paragraph,disabled:!v&&!b,children:y.jsx(tn,{label:"",shortcutKeys:e?void 0:["mod","alt","0"],placement:"right",contentWrapperClassName:d.menuOption,children:(i=n==null?void 0:n.paragraph)!==null&&i!==void 0?i:Oe.Paragraph})}),S.has(1)&&y.jsx(jt,{value:Oe.Heading1,disabled:!I,children:y.jsx(tn,{label:"",shortcutKeys:e?void 0:["mod","alt","1"],placement:"right",contentWrapperClassName:p(d.menuOption,d.headingOption,d.headingOption1),children:(o=n==null?void 0:n.heading1)!==null&&o!==void 0?o:Oe.Heading1})}),S.has(2)&&y.jsx(jt,{value:Oe.Heading2,disabled:!I,children:y.jsx(tn,{label:"",shortcutKeys:e?void 0:["mod","alt","2"],placement:"right",contentWrapperClassName:p(d.menuOption,d.headingOption,d.headingOption2),children:(s=n==null?void 0:n.heading2)!==null&&s!==void 0?s:Oe.Heading2})}),S.has(3)&&y.jsx(jt,{value:Oe.Heading3,disabled:!I,children:y.jsx(tn,{label:"",shortcutKeys:e?void 0:["mod","alt","3"],placement:"right",contentWrapperClassName:p(d.menuOption,d.headingOption,d.headingOption3),children:(a=n==null?void 0:n.heading3)!==null&&a!==void 0?a:Oe.Heading3})}),S.has(4)&&y.jsx(jt,{value:Oe.Heading4,disabled:!I,children:y.jsx(tn,{label:"",shortcutKeys:e?void 0:["mod","alt","4"],placement:"right",contentWrapperClassName:p(d.menuOption,d.headingOption,d.headingOption4),children:(l=n==null?void 0:n.heading4)!==null&&l!==void 0?l:Oe.Heading4})}),S.has(5)&&y.jsx(jt,{value:Oe.Heading5,disabled:!I,children:y.jsx(tn,{label:"",shortcutKeys:e?void 0:["mod","alt","5"],placement:"right",contentWrapperClassName:p(d.menuOption,d.headingOption,d.headingOption5),children:(c=n==null?void 0:n.heading5)!==null&&c!==void 0?c:Oe.Heading5})}),S.has(6)&&y.jsx(jt,{value:Oe.Heading6,disabled:!I,children:y.jsx(tn,{label:"",shortcutKeys:e?void 0:["mod","alt","6"],placement:"right",contentWrapperClassName:p(d.menuOption,d.headingOption,d.headingOption6),children:(u=n==null?void 0:n.heading6)!==null&&u!==void 0?u:Oe.Heading6})})]})}const wR=()=>{const n=zI({extensions:[WP],content:"<p>Saisissez ici...</p>"});return y.jsx(YE,{editor:n,children:y.jsx(Hv,{controls:y.jsxs(Wv,{children:[y.jsx(Kv,{}),y.jsx(Pr,{}),y.jsx(lR,{}),y.jsx(mR,{}),y.jsx(bR,{}),y.jsx(Pr,{}),y.jsx(gR,{}),y.jsx(cR,{}),y.jsx(Pr,{}),y.jsx(aR,{}),y.jsx(uR,{}),y.jsx(dR,{}),y.jsx(Pr,{}),y.jsx(xR,{}),y.jsx(yR,{}),y.jsx(Pr,{}),y.jsx(vR,{})]})})})},CR=[{to:"/",title:"Incidents"},{title:"Ajouter un incident"}],aN=()=>{const n=Pi(),[e,t]=x.useState(""),[r,i]=x.useState(We()),[o,s]=x.useState(We()),[a,l]=x.useState(""),[c,u]=x.useState([{id:Date.now(),value:""}]),[d,p]=x.useState([]),[h,f]=x.useState(null),[m,g]=x.useState([]),[v,b]=x.useState(null),[S,C]=x.useState([]),[M,I]=x.useState(""),{getRootProps:A,getInputProps:T}=Km({accept:{"image/*":[]},onDrop:k=>C(w=>[...w,...k])}),E=k=>C(w=>w.filter(j=>j!==k)),F=S.map((k,w)=>y.jsxs(Kt,{display:"flex",justifyContent:"space-between",py:1,mt:2,sx:{borderTop:`1px solid ${n.palette.divider}`},children:[y.jsx(mt,{children:k.name}),y.jsx(Kc,{color:"primary",label:`${Math.round(k.size/1024)} KB`,onDelete:()=>E(k)})]},w));x.useEffect(()=>{fetch("https://safeschooldata-6d63cd50a8a3.herokuapp.com/api/schools/").then(k=>k.json()).then(k=>p(k.map(w=>({label:w.name,value:w.id})))).catch(k=>console.error(k))},[]),x.useEffect(()=>{fetch("https://safeschooldata-6d63cd50a8a3.herokuapp.com/api/incident-categories/").then(k=>k.json()).then(k=>g(k.map((w,j)=>({label:`${j+1}. ${w.name}`,value:w.id})))).catch(k=>console.error(k))},[]);const D=()=>u([...c,{id:Date.now(),value:""}]),R=k=>u(c.filter(w=>w.id!==k)),_=(k,w)=>u(c.map(j=>j.id===k?{...j,value:w}:j)),P=async k=>{if(k.preventDefault(),!h)return alert("Veuillez sÃ©lectionner une Ã©cole");if(!v)return alert("Veuillez sÃ©lectionner une catÃ©gorie");if(!e)return alert("Veuillez sÃ©lectionner le sexe de l'Ã©lÃ¨ve");if(!a)return alert("Veuillez sÃ©lectionner le type d'incident");const w=new FormData;w.append("school",h.value),w.append("student",k.target.student.value),w.append("dob_student",r.format("YYYY-MM-DD")),w.append("gender",e),w.append("add_student",k.target.address.value),w.append("father_name",k.target.father.value),w.append("mather_name",k.target.mother.value),w.append("tutor_name",k.target.tutor.value||""),w.append("tel",k.target.tel.value),w.append("cat_incident",v.value),w.append("place",k.target.place.value),w.append("type",a),w.append("date_incident",o.toISOString()),w.append("narration",typeof M=="string"?M:JSON.stringify(M)),w.append("actionTaken",JSON.stringify(c.map(j=>j.value))),w.append("state","true"),S.forEach(j=>w.append("picture",j)),console.log("=== FormData ===");for(let j of w.entries())console.log(j[0],j[1]);try{const j=await fetch("https://safeschooldata-6d63cd50a8a3.herokuapp.com/api/incidents/",{method:"POST",body:w});if(!j.ok){const W=await j.json();return console.error("Erreur API:",W),alert("Erreur lors de la crÃ©ation de lâ€™incident. VÃ©rifiez les champs.")}const L=await j.json();console.log("Incident crÃ©Ã©:",L),alert("Incident crÃ©Ã© avec succÃ¨s !"),k.target.reset(),t(""),i(We()),s(We()),l(""),u([{id:Date.now(),value:""}]),f(null),b(null),C([]),I("")}catch(j){console.error(j),alert("Erreur lors de la crÃ©ation de lâ€™incident")}};return y.jsxs(rb,{title:"Ajouter un incident",children:[y.jsx(ib,{title:"Incidents",items:CR}),y.jsxs("form",{onSubmit:P,children:[y.jsxs(ft,{container:!0,spacing:3,children:[y.jsx(ft,{size:{lg:8},children:y.jsxs(xs,{spacing:3,children:[y.jsx(Hn,{children:y.jsxs(Kt,{p:3,children:[y.jsx(mt,{variant:"h5",children:"General"}),y.jsxs(ft,{container:!0,mt:3,children:[y.jsxs(ft,{size:12,children:[y.jsx(Wt,{children:"Nom de lâ€™Ã©lÃ¨ve *"}),y.jsx(Sn,{name:"student",placeholder:"Nom de l'Ã©lÃ¨ve",fullWidth:!0})]}),y.jsxs(ft,{size:12,children:[y.jsx(Wt,{children:"Date de naissance *"}),y.jsx(wo,{dateAdapter:Ld,children:y.jsx(Pd,{value:r,onChange:i})})]}),y.jsxs(ft,{size:12,children:[y.jsx(Wt,{children:"Sexe *"}),y.jsxs(Uu,{value:e,onChange:k=>t(k.target.value),children:[y.jsx(jt,{value:"M",children:"M"}),y.jsx(jt,{value:"F",children:"F"})]})]})]}),y.jsxs(ft,{size:12,children:[y.jsx(Wt,{children:"Adresse Ã©lÃ¨ve *"}),y.jsx(Sn,{name:"address",fullWidth:!0})]}),y.jsxs(ft,{container:!0,spacing:2,mt:2,children:[y.jsxs(ft,{xs:4,children:[y.jsx(Wt,{children:"Nom du pÃ¨re"}),y.jsx(Sn,{name:"father",fullWidth:!0})]}),y.jsxs(ft,{xs:4,children:[y.jsx(Wt,{children:"Nom de la mÃ¨re"}),y.jsx(Sn,{name:"mother",fullWidth:!0})]}),y.jsxs(ft,{xs:4,children:[y.jsx(Wt,{children:"Nom du tuteur"}),y.jsx(Sn,{name:"tutor",fullWidth:!0})]})]}),y.jsxs(ft,{size:12,mt:2,children:[y.jsx(Wt,{children:"Narration"}),y.jsx(wR,{value:M,onChange:I})]})]})}),y.jsx(Hn,{children:y.jsxs(Kt,{p:3,children:[y.jsx(mt,{variant:"h5",children:"Media"}),y.jsxs(Kt,{mt:3,...A(),sx:{backgroundColor:"primary.light",color:"primary.main",padding:"40px 30px",textAlign:"center",border:"1px dashed",cursor:"pointer"},children:[y.jsx("input",{...T(),multiple:!0}),y.jsx("p",{children:"Cliquez pour ajouter des medias"})]}),y.jsxs(Kt,{mt:2,children:[y.jsx(mt,{variant:"h6",children:"Files :"}),F]})]})}),y.jsx(Hn,{children:y.jsxs(Kt,{p:3,children:[y.jsx(mt,{variant:"h5",children:"Actions prises"}),c.map(k=>y.jsxs(ft,{container:!0,spacing:3,mb:2,children:[y.jsx(ft,{xs:12,lg:8,children:y.jsx(Sn,{fullWidth:!0,value:k.value,onChange:w=>_(k.id,w.target.value)})}),y.jsx(ft,{xs:12,lg:4,children:y.jsx(Em,{title:"Supprimer",children:y.jsx(On,{color:"error",onClick:()=>R(k.id),children:y.jsx(xb,{size:21})})})})]},k.id)),y.jsx(On,{startIcon:y.jsx(Fb,{}),onClick:D,children:"Ajouter une autre action"})]})}),y.jsx(Hn,{children:y.jsxs(Kt,{p:3,children:[y.jsx(mt,{variant:"h5",children:"Ã‰cole"}),y.jsx(ed,{options:d,getOptionLabel:k=>k.label,value:h,disableClearable:!0,onChange:(k,w)=>f(w),renderInput:k=>y.jsx(gc,{...k,label:"SÃ©lectionner une Ã©cole",fullWidth:!0})})]})})]})}),y.jsx(ft,{size:{lg:4},children:y.jsxs(xs,{spacing:3,children:[y.jsx(Hn,{children:y.jsxs(Kt,{p:3,children:[y.jsx(mt,{variant:"h5",children:"Contacts"}),y.jsx(Wt,{children:"TÃ©lÃ©phone *"}),y.jsx(Sn,{name:"tel"})]})}),y.jsx(Hn,{children:y.jsxs(Kt,{p:3,children:[y.jsx(mt,{variant:"h6",children:"Lieu de lâ€™incident"}),y.jsx(Sn,{name:"place",fullWidth:!0}),y.jsx(Wt,{mt:3,children:"Type"}),y.jsxs(Uu,{value:a,onChange:k=>l(k.target.value),fullWidth:!0,children:[y.jsx(jt,{value:"F",children:"Faible"}),y.jsx(jt,{value:"M",children:"Moyen"}),y.jsx(jt,{value:"G",children:"Grave"})]}),y.jsx(Wt,{mt:3,children:"Date de l'incident *"}),y.jsx(wo,{dateAdapter:Ld,children:y.jsx(Pd,{value:o,onChange:s})})]})}),y.jsx(Hn,{children:y.jsxs(Kt,{p:3,children:[y.jsx(mt,{variant:"h5",children:"CatÃ©gorie dâ€™incident"}),y.jsx(ed,{options:m,getOptionLabel:k=>k.label,value:v,disableClearable:!0,onChange:(k,w)=>b(w),renderInput:k=>y.jsx(gc,{...k,label:"SÃ©lectionner une catÃ©gorie",fullWidth:!0})})]})})]})})]}),y.jsxs(xs,{direction:"row",spacing:2,mt:3,children:[y.jsx(On,{type:"submit",variant:"contained",children:"Enregistrer"}),y.jsx(On,{variant:"outlined",color:"error",children:"Annuler"})]})]})]})};export{aN as default};
